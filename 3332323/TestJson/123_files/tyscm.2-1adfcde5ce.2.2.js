!function(){function sa(t){return t&&t.__esModule?{d:t.default}:{d:t}}var S=this,pa={},V={},Ab=Object.prototype.hasOwnProperty,la=Array.isArray,u=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),uf=function(t){for(;1<t.length;){var e=t.pop(),i=e.obj[e.prop];if(la(i)){for(var r=[],n=0;n<i.length;++n)void 0!==i[n]&&r.push(i[n]);e.obj[e.prop]=r}}},Gc=function(t,e){for(var i=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(i[r]=t[r]);return i},yk=function r(n,s,a){if(!s)return n;if("object"!=typeof s){if(la(n))n.push(s);else{if(!n||"object"!=typeof n)return[n,s];(a&&(a.plainObjects||a.allowPrototypes)||!Ab.call(Object.prototype,s))&&(n[s]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(s);var t=n;return la(n)&&!la(s)&&(t=Gc(n,a)),la(n)&&la(s)?(s.forEach(function(t,e){if(Ab.call(n,e)){var i=n[e];i&&"object"==typeof i&&t&&"object"==typeof t?n[e]=r(i,t,a):n.push(t)}else n[e]=t}),n):Object.keys(s).reduce(function(t,e){var i=s[e];return Ab.call(t,e)?t[e]=r(t[e],i,a):t[e]=i,t},t)},zk=function(t,i){return Object.keys(i).reduce(function(t,e){return t[e]=i[e],t},t)},Ck=function(t,e,i){var r=t.replace(/\+/g," ");if("iso-8859-1"===i)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},Ik=function(t,e,i){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===i)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var n="",s=0;s<r.length;++s){var a=r.charCodeAt(s);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?n+=r.charAt(s):a<128?n+=u[a]:a<2048?n+=u[192|a>>6]+u[128|63&a]:a<55296||57344<=a?n+=u[224|a>>12]+u[128|a>>6&63]+u[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(s)),n+=u[240|a>>18]+u[128|a>>12&63]+u[128|a>>6&63]+u[128|63&a])}return n},Jk=function(t){for(var e=[{obj:{o:t},prop:"o"}],i=[],r=0;r<e.length;++r)for(var n=e[r],s=n.obj[n.prop],a=Object.keys(s),o=0;o<a.length;++o){var h=a[o],u=s[h];"object"==typeof u&&null!==u&&-1===i.indexOf(u)&&(e.push({obj:s,prop:h}),i.push(u))}return uf(e),t},xk=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},wk=function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},vk=function(t,e){return[].concat(t,e)};V={arrayToObject:Gc,assign:zk,combine:vk,compact:Jk,decode:Ck,encode:Ik,isBuffer:wk,isRegExp:xk,merge:yk};var ja={},uk=String.prototype.replace,tk=/%20/g,Cc={RFC1738:"RFC1738",RFC3986:"RFC3986"};ja=V.assign({default:Cc.RFC3986,formatters:{RFC1738:function(t){return uk.call(t,tk,"+")},RFC3986:function(t){return String(t)}}},Cc);var sk={},qk=Object.prototype.hasOwnProperty,Pc={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},ia=Array.isArray,pk=Array.prototype.push,nb=function(t,e){pk.apply(t,ia(e)?e:[e])},lk=Date.prototype.toISOString,Rb=ja.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:V.encode,encodeValuesOnly:!1,format:Rb,formatter:ja.formatters[Rb],indices:!1,serializeDate:function(t){return lk.call(t)},skipNulls:!1,strictNullHandling:!1},kk=function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t},hk=function t(e,i,r,n,s,a,o,u,c,l,f,d,g){var p=e;if("function"==typeof o?p=o(i,p):p instanceof Date?p=l(p):"comma"===r&&ia(p)&&(p=p.join(",")),null===p){if(n)return a&&!d?a(i,h.encoder,g,"key"):i;p=""}if(kk(p)||V.isBuffer(p))return a?[f(d?i:a(i,h.encoder,g,"key"))+"="+f(a(p,h.encoder,g,"value"))]:[f(i)+"="+f(String(p))];var y,v=[];if(void 0===p)return v;if(ia(o))y=o;else{var b=Object.keys(p);y=u?b.sort(u):b}for(var m=0;m<y.length;++m){var S=y[m];s&&null===p[S]||(ia(p)?nb(v,t(p[S],"function"==typeof r?r(i,S):i,r,n,s,a,o,u,c,l,f,d,g)):nb(v,t(p[S],i+(c?"."+S:"["+S+"]"),r,n,s,a,o,u,c,l,f,d,g)))}return v},gk=function(t){if(!t)return h;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||h.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=ja.default;if(void 0!==t.format){if(!qk.call(ja.formatters,t.format))throw new TypeError("Unknown format option provided.");i=t.format}var r=ja.formatters[i],n=h.filter;return("function"==typeof t.filter||ia(t.filter))&&(n=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===t.allowDots?h.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:h.charsetSentinel,delimiter:void 0===t.delimiter?h.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:h.encode,encoder:"function"==typeof t.encoder?t.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:h.encodeValuesOnly,filter:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:h.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:h.strictNullHandling}};sk=function(t,e){var i,r=t,n=gk(e);"function"==typeof n.filter?r=(0,n.filter)("",r):ia(n.filter)&&(i=n.filter);var s,a=[];if("object"!=typeof r||null===r)return"";s=e&&e.arrayFormat in Pc?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var o=Pc[s];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=0;h<i.length;++h){var u=i[h];n.skipNulls&&null===r[u]||nb(a,hk(r[u],u,o,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var c=a.join(n.delimiter),l=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),0<c.length?l+c:""};var ek={},lb=Object.prototype.hasOwnProperty,f={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:V.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},dk=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},ck="utf8=%26%2310003%3B",bk="utf8=%E2%9C%93",ak=function(t,e){var i,r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=e.parameterLimit===1/0?void 0:e.parameterLimit,a=n.split(e.delimiter,s),o=-1,h=e.charset;if(e.charsetSentinel)for(i=0;i<a.length;++i)0===a[i].indexOf("utf8=")&&(a[i]===bk?h="utf-8":a[i]===ck&&(h="iso-8859-1"),o=i,i=a.length);for(i=0;i<a.length;++i)if(i!==o){var u,c,l=a[i],d=l.indexOf("]="),g=-1===d?l.indexOf("="):d+1;(c=-1===g?(u=e.decoder(l,f.decoder,h,"key"),e.strictNullHandling?null:""):(u=e.decoder(l.slice(0,g),f.decoder,h,"key"),e.decoder(l.slice(g+1),f.decoder,h,"value")))&&e.interpretNumericEntities&&"iso-8859-1"===h&&(c=dk(c)),c&&e.comma&&-1<c.indexOf(",")&&(c=c.split(",")),lb.call(r,u)?r[u]=V.combine(r[u],c):r[u]=c}return r},_j=function(t,e,i){for(var r=e,n=t.length-1;0<=n;--n){var s,a=t[n];if("[]"===a&&i.parseArrays)s=[].concat(r);else{s=i.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,h=parseInt(o,10);i.parseArrays||""!==o?!isNaN(h)&&a!==o&&String(h)===o&&0<=h&&i.parseArrays&&h<=i.arrayLimit?(s=[])[h]=r:s[o]=r:s={0:r}}r=s}return r},$j=function(t,e,i){if(t){var r=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,n=/(\[[^[\]]*])/g,s=0<i.depth&&/(\[[^[\]]*])/.exec(r),a=s?r.slice(0,s.index):r,o=[];if(a){if(!i.plainObjects&&lb.call(Object.prototype,a)&&!i.allowPrototypes)return;o.push(a)}for(var h=0;0<i.depth&&null!==(s=n.exec(r))&&h<i.depth;){if(h+=1,!i.plainObjects&&lb.call(Object.prototype,s[1].slice(1,-1))&&!i.allowPrototypes)return;o.push(s[1])}return s&&o.push("["+r.slice(s.index)+"]"),_j(o,e,i)}},Zj=function(t){if(!t)return f;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?f.charset:t.charset;return{allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:f.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:f.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:f.comma,decoder:"function"==typeof t.decoder?t.decoder:f.decoder,delimiter:"string"==typeof t.delimiter||V.isRegExp(t.delimiter)?t.delimiter:f.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:f.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:f.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:f.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:f.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}};ek=function(t,e){var i=Zj(e);if(""===t||null==t)return i.plainObjects?Object.create(null):{};for(var r="string"==typeof t?ak(t,i):t,n=i.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],h=$j(o,r[o],i);n=V.merge(n,h,i)}return V.compact(n)};var Oa={};Oa={formats:ja,parse:ek,stringify:sk};var cc="object"==typeof S&&S&&S.Object===Object&&S,Yj="object"==typeof self&&self&&self.Object===Object&&self,M=cc||Yj||Function("return this")(),R=M.Symbol,pc=Object.prototype,Xj=pc.hasOwnProperty,Wj=pc.toString,qa=R?R.toStringTag:void 0;function Vj(t){var e=Xj.call(t,qa),i=t[qa];try{var r=!(t[qa]=void 0)}catch(t){}var n=Wj.call(t);return r&&(e?t[qa]=i:delete t[qa]),n}var Tj=Object.prototype,Sj=Tj.toString;function Rj(t){return Sj.call(t)}var Qj="[object Null]",Pj="[object Undefined]",cd=R?R.toStringTag:void 0;function J(t){return null==t?void 0===t?Pj:Qj:cd&&cd in Object(t)?Vj(t):Rj(t)}function K(t){return null!=t&&"object"==typeof t}var Hj="[object Symbol]";function La(t){return"symbol"==typeof t||K(t)&&J(t)==Hj}function _b(t,e){for(var i=-1,r=null==t?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var E=Array.isArray,xj=1/0,dc=R?R.prototype:void 0,ec=dc?dc.toString:void 0;function fc(t){if("string"==typeof t)return t;if(E(t))return _b(t,fc)+"";if(La(t))return ec?ec.call(t):"";var e=t+"";return"0"==e&&1/t==-xj?"-0":e}function oj(t){var e=Si(t),i=e%1;return e==e?i?e-i:e:0}function p(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var lc=NaN,gj=/^\s+|\s+$/g,aj=/^[-+]0x[0-9a-f]+$/i,$i=/^0b[01]+$/i,Yi=/^0o[0-7]+$/i,Xi=parseInt;function Ui(t){if("number"==typeof t)return t;if(La(t))return lc;if(p(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=p(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(gj,"");var i=$i.test(t);return i||Yi.test(t)?Xi(t.slice(2),i?2:8):aj.test(t)?lc:+t}var vc=1/0,Ti=17976931348623157e292;function Si(t){return t?(t=Ui(t))===vc||t===-vc?(t<0?-1:1)*Ti:t==t?t:0:0===t?t:0}function cb(t){return t}function $(t,e){var i=gh(t,e);return nh(i)?i:void 0}var Ri="[object AsyncFunction]",Qi="[object Function]",Oi="[object GeneratorFunction]",Ni="[object Proxy]";function Z(t){if(!p(t))return!1;var e=J(t);return e==Qi||e==Oi||e==Ri||e==Ni}var Za=M["__core-js_shared__"],Yc=(mo=/[^.]+$/.exec(Za&&Za.keys&&Za.keys.IE_PROTO||""),mo?"Symbol(src)_1."+mo:""),mo;function Mi(t){return!!Yc&&Yc in t}var Li=Function.prototype,Hi=Li.toString;function _(t){if(null!=t){try{return Hi.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Di=/[\\^$.*+?()[\]{}|]/g,ti=/^\[object .+?Constructor\]$/,ni=Function.prototype,mi=Object.prototype,Qh=ni.toString,Oh=mi.hasOwnProperty,Mh=RegExp("^"+Qh.call(Oh).replace(Di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nh(t){return!(!p(t)||Mi(t))&&(Z(t)?Mh:ti).test(_(t))}function gh(t,e){return null==t?void 0:t[e]}var sb=$(M,"WeakMap");function Xg(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var Qg=800,Ng=16,Mg=Date.now;function Lg(i){var r=0,n=0;return function(){var t=Mg(),e=Ng-(t-n);if(n=t,0<e){if(++r>=Qg)return arguments[0]}else r=0;return i.apply(void 0,arguments)}}function Jg(t){return function(){return t}}var Ca=function(){try{var t=$(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ig=Ca?function(t,e){return Ca(t,"toString",{configurable:!0,enumerable:!1,value:Jg(e),writable:!0})}:cb,Hg=Lg(Ig),Dg=9007199254740991,Cg=/^(?:0|[1-9]\d*)$/;function Ja(t,e){var i=typeof t;return!!(e=null==e?Dg:e)&&("number"==i||"symbol"!=i&&Cg.test(t))&&-1<t&&t%1==0&&t<e}function uc(t,e,i){"__proto__"==e&&Ca?Ca(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Aa(t,e){return t===e||t!=t&&e!=e}var Bg=Object.prototype,zg=Bg.hasOwnProperty;function kb(t,e,i){var r=t[e];zg.call(t,e)&&Aa(r,i)&&(void 0!==i||e in t)||uc(t,e,i)}function yg(t,e,i,r){var n=!i;i||(i={});for(var s=-1,a=e.length;++s<a;){var o=e[s],h=r?r(i[o],t[o],o,i,t):void 0;void 0===h&&(h=t[o]),n?uc(i,o,h):kb(i,o,h)}return i}function xg(o){return wg(function(t,e){var i=-1,r=e.length,n=1<r?e[r-1]:void 0,s=2<r?e[2]:void 0;for(n=3<o.length&&"function"==typeof n?(r--,n):void 0,s&&ug(e[0],e[1],s)&&(n=r<3?void 0:n,r=1),t=Object(t);++i<r;){var a=e[i];a&&o(t,a,i,n)}return t})}function wg(t,e){return Hg(vg(t,e,cb),t+"")}var Ic=Math.max;function vg(s,a,o){return a=Ic(void 0===a?s.length-1:a,0),function(){for(var t=arguments,e=-1,i=Ic(t.length-a,0),r=Array(i);++e<i;)r[e]=t[a+e];e=-1;for(var n=Array(a+1);++e<a;)n[e]=t[e];return n[a]=o(r),Xg(s,this,n)}}function ug(t,e,i){if(!p(i))return!1;var r=typeof e;return!!("number"==r?Ba(i)&&Ja(e,i.length):"string"==r&&e in i)&&Aa(i[e],t)}function Ba(t){return null!=t&&qb(t.length)&&!Z(t)}var tg=9007199254740991;function qb(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=tg}var sg=Object.prototype;function _a(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sg)}function db(t){return Ba(t)?Sb(t):Pf(t)}function rg(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var qg="[object Arguments]";function dd(t){return K(t)&&J(t)==qg}var Db=Object.prototype,og=Db.hasOwnProperty,ng=Db.propertyIsEnumerable,Gb=dd(function(){return arguments}())?dd:function(t){return K(t)&&og.call(t,"callee")&&!ng.call(t,"callee")};function kg(){return!1}var Ib=function(){var t={exports:this};this.__esModule=!0;var e="object"==typeof this&&this&&!this.nodeType&&this,i=e&&"object"==typeof t&&t&&!t.nodeType&&t,r=i&&i.exports===e?M.Buffer:void 0,n=(r?r.isBuffer:void 0)||kg;return this.default=n,t.exports}.call({}),fg={};function eg(t){return K(t)&&qb(t.length)&&!!fg[J(t)]}function dg(e){return function(t){return e(t)}}var cg=function(){var t={exports:this};this.__esModule=!0;var e="object"==typeof this&&this&&!this.nodeType&&this,i=e&&"object"==typeof t&&t&&!t.nodeType&&t,r=i&&i.exports===e&&cc.process,n=function(){try{return i&&i.require&&i.require("util").types||r&&r.binding&&r.binding("util")}catch(t){}}();return this.default=n,t.exports}.call({}),Nb=sa(cg),Ob=Nb.d&&Nb.d.isTypedArray,Pb=Ob?dg(Ob):eg,bg=Object.prototype,ag=bg.hasOwnProperty;function Sb(t,e){var i=sa(Ib),r=E(t),n=!r&&Gb(t),s=!r&&!n&&i.d(t),a=!r&&!n&&!s&&Pb(t),o=r||n||s||a,h=o?rg(t.length,String):[],u=h.length;for(var c in t)!e&&!ag.call(t,c)||o&&("length"==c||s&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ja(c,u))||h.push(c);return h}function Tb(e,i){return function(t){return e(i(t))}}var _f=Tb(Object.keys,Object),Vf=Object.prototype,Uf=Vf.hasOwnProperty;function Pf(t){if(!_a(t))return _f(t);var e=[];for(var i in Object(t))Uf.call(t,i)&&"constructor"!=i&&e.push(i);return e}var Mf=Object.prototype,Lf=Mf.hasOwnProperty,za=xg(function(t,e){if(_a(e)||Ba(e))yg(e,db(e),t);else for(var i in e)Lf.call(e,i)&&kb(t,i,e[i])});function Kf(t){return Ba(t)?Sb(t,!0):Cf(t)}function If(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}var Hf=Object.prototype,Ef=Hf.hasOwnProperty;function Cf(t){if(!p(t))return If(t);var e=_a(t),i=[];for(var r in t)("constructor"!=r||!e&&Ef.call(t,r))&&i.push(r);return i}function X(t,e,i){var r=null==t?void 0:$a(t,e);return void 0===r?i:r}function $a(t,e){for(var i=0,r=(e=Ka(e,t)).length;null!=t&&i<r;)t=t[xa(e[i++])];return i&&i==r?t:void 0}function Ka(t,e){return E(t)?t:Cb(t,e)?[t]:Bd(Ad(t))}var Af=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zf=/^\w*$/;function Cb(t,e){if(E(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!La(t))||zf.test(t)||!Af.test(t)||null!=e&&t in Object(e)}function N(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function yf(){this.size=0,this.__data__={hash:new Y,map:new(ya||I),string:new Y}}function Y(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function xf(){this.__data__=wa?wa(null):{},this.size=0}var wa=$(Object,"create");function wf(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qf="__lodash_hash_undefined__",pf=Object.prototype,of=pf.hasOwnProperty;function ff(t){var e=this.__data__;if(wa){var i=e[t];return i===qf?void 0:i}return of.call(e,t)?e[t]:void 0}var ef=Object.prototype,cf=ef.hasOwnProperty;function bf(t){var e=this.__data__;return wa?void 0!==e[t]:cf.call(e,t)}var af="__lodash_hash_undefined__";function Ze(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=wa&&void 0===e?af:e,this}function I(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Pe(){this.__data__=[],this.size=0}function Qa(t,e){for(var i=t.length;i--;)if(Aa(t[i][0],e))return i;return-1}Y.prototype.clear=xf,Y.prototype.delete=wf,Y.prototype.get=ff,Y.prototype.has=bf,Y.prototype.set=Ze;var Ne=Array.prototype,Ce=Ne.splice;function Be(t){var e=this.__data__,i=Qa(e,t);return!(i<0||(i==e.length-1?e.pop():Ce.call(e,i,1),--this.size,0))}function ve(t){var e=this.__data__,i=Qa(e,t);return i<0?void 0:e[i][1]}function te(t){return-1<Qa(this.__data__,t)}function se(t,e){var i=this.__data__,r=Qa(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}I.prototype.clear=Pe,I.prototype.delete=Be,I.prototype.get=ve,I.prototype.has=te,I.prototype.set=se;var ya=$(M,"Map");function re(t){var e=Sa(this,t).delete(t);return this.size-=e?1:0,e}function Sa(t,e){var i=t.__data__;return ke(e)?i["string"==typeof e?"string":"hash"]:i.map}function ke(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function je(t){return Sa(this,t).get(t)}function Vd(t){return Sa(this,t).has(t)}function Nd(t,e){var i=Sa(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}N.prototype.clear=yf,N.prototype.delete=re,N.prototype.get=je,N.prototype.has=Vd,N.prototype.set=Nd;var Md="Expected a function";function wb(n,s){if("function"!=typeof n||null!=s&&"function"!=typeof s)throw new TypeError(Md);var a=function(){var t=arguments,e=s?s.apply(this,t):t[0],i=a.cache;if(i.has(e))return i.get(e);var r=n.apply(this,t);return a.cache=i.set(e,r)||i,r};return a.cache=new(wb.Cache||N),a}wb.Cache=N;var Kd=500;function Jd(t){var e=wb(t,function(t){return i.size===Kd&&i.clear(),t}),i=e.cache;return e}var Id=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hd=/\\(\\)?/g,Bd=Jd(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Id,function(t,e,i,r){n.push(i?r.replace(Hd,"$1"):e||t)}),n});function Ad(t){return null==t?"":fc(t)}var zd=1/0;function xa(t){if("string"==typeof t||La(t))return t;var e=t+"";return"0"==e&&1/t==-zd?"-0":e}function Zc(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var yd=Tb(Object.getPrototypeOf,Object),wd="Expected a function";function vd(t,e){var i;if("function"!=typeof e)throw new TypeError(wd);return t=oj(t),function(){return 0<--t&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}function L(t){var e=this.__data__=new I(t);this.size=e.size}function ud(){this.__data__=new I,this.size=0}function td(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function rd(t){return this.__data__.get(t)}function qd(t){return this.__data__.has(t)}var nd=200;function md(t,e){var i=this.__data__;if(i instanceof I){var r=i.__data__;if(!ya||r.length<nd-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new N(r)}return i.set(t,e),this.size=i.size,this}function kd(t,e){for(var i=-1,r=null==t?0:t.length,n=0,s=[];++i<r;){var a=t[i];e(a,i,t)&&(s[n++]=a)}return s}function id(){return[]}L.prototype.clear=ud,L.prototype.delete=td,L.prototype.get=rd,L.prototype.has=qd,L.prototype.set=md;var ch=Object.prototype,ld=ch.propertyIsEnumerable,hd=Object.getOwnPropertySymbols,gd=hd?function(e){return null==e?[]:(e=Object(e),kd(hd(e),function(t){return ld.call(e,t)}))}:id,od=Object.getOwnPropertySymbols,pd=od?function(t){for(var e=[];t;)Zc(e,gd(t)),t=yd(t);return e}:id;function fd(t){return ed(t,db,gd)}function ed(t,e,i){var r=e(t);return E(t)?r:Zc(r,i(t))}function sd(t){return ed(t,Kf,pd)}var Ua=$(M,"DataView"),Bb=$(M,"Promise"),zb=$(M,"Set"),_c="[object Map]",xd="[object Object]",$c="[object Promise]",Xc="[object Set]",Wc="[object WeakMap]",Vc="[object DataView]",Cd=_(Ua),Dd=_(ya),Ed=_(Bb),Fd=_(zb),Gd=_(sb),ka=J;(Ua&&ka(new Ua(new ArrayBuffer(1)))!=Vc||ya&&ka(new ya)!=_c||Bb&&ka(Bb.resolve())!=$c||zb&&ka(new zb)!=Xc||sb&&ka(new sb)!=Wc)&&(ka=function(t){var e=J(t),i=e==xd?t.constructor:void 0,r=i?_(i):"";if(r)switch(r){case Cd:return Vc;case Dd:return _c;case Ed:return $c;case Fd:return Xc;case Gd:return Wc}return e});var Tc=ka,Sc=M.Uint8Array;function Rc(t){return"function"==typeof t?t:null==t?cb:"object"==typeof t?E(t)?Ie(t[0],t[1]):Ld(t):Je(t)}function Ld(e){var i=Ae(e);return 1==i.length&&i[0][2]?Dc(i[0][0],i[0][1]):function(t){return t===e||ze(t,e,i)}}function vb(t,e,i,r,n){return t===e||(null==t||null==e||!K(t)&&!K(e)?t!=t&&e!=e:we(t,e,i,r,vb,n))}function Ta(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new N;++e<i;)this.add(t[e])}var Od="__lodash_hash_undefined__";function Pd(t){return this.__data__.set(t,Od),this}function Qd(t){return this.__data__.has(t)}function Rd(t,e){for(var i=-1,r=null==t?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}function Sd(t,e){return t.has(e)}Ta.prototype.add=Ta.prototype.push=Pd,Ta.prototype.has=Qd;var Td=1,Ud=2;function Nc(t,e,i,r,n,s){var a=i&Td,o=t.length,h=e.length;if(o!=h&&!(a&&o<h))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var c=-1,l=!0,f=i&Ud?new Ta:void 0;for(s.set(t,e),s.set(e,t);++c<o;){var d=t[c],g=e[c];if(r)var p=a?r(g,d,c,e,t,s):r(d,g,c,t,e,s);if(void 0!==p){if(p)continue;l=!1;break}if(f){if(!Rd(e,function(t,e){if(!Sd(f,e)&&(d===t||n(d,t,i,r,s)))return f.push(e)})){l=!1;break}}else if(d!==g&&!n(d,g,i,r,s)){l=!1;break}}return s.delete(t),s.delete(e),l}function Wd(t){var i=-1,r=Array(t.size);return t.forEach(function(t,e){r[++i]=[e,t]}),r}function Xd(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var Yd=1,Zd=2,$d="[object Boolean]",_d="[object Date]",ae="[object Error]",be="[object Map]",ce="[object Number]",de="[object RegExp]",ee="[object Set]",fe="[object String]",ge="[object Symbol]",he="[object ArrayBuffer]",ie="[object DataView]",Mc=R?R.prototype:void 0,tb=Mc?Mc.valueOf:void 0;function le(t,e,i,r,n,s,a){switch(i){case ie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case he:return!(t.byteLength!=e.byteLength||!s(new Sc(t),new Sc(e)));case $d:case _d:case ce:return Aa(+t,+e);case ae:return t.name==e.name&&t.message==e.message;case de:case fe:return t==e+"";case be:var o=Wd;case ee:var h=r&Yd;if(o||(o=Xd),t.size!=e.size&&!h)return!1;var u=a.get(t);if(u)return u==e;r|=Zd,a.set(t,e);var c=Nc(o(t),o(e),r,n,s,a);return a.delete(t),c;case ge:if(tb)return tb.call(t)==tb.call(e)}return!1}var me=1,ne=Object.prototype,oe=ne.hasOwnProperty;function pe(t,e,i,r,n,s){var a=i&me,o=fd(t),h=o.length;if(h!=fd(e).length&&!a)return!1;for(var u=h;u--;){var c=o[u];if(!(a?c in e:oe.call(e,c)))return!1}var l=s.get(t);if(l&&s.get(e))return l==e;var f=!0;s.set(t,e),s.set(e,t);for(var d=a;++u<h;){var g=t[c=o[u]],p=e[c];if(r)var y=a?r(p,g,c,e,t,s):r(g,p,c,t,e,s);if(!(void 0===y?g===p||n(g,p,i,r,s):y)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(f=!1)}return s.delete(t),s.delete(e),f}var qe=1,Jc="[object Arguments]",Hc="[object Array]",Ra="[object Object]",ue=Object.prototype,Fc=ue.hasOwnProperty;function we(t,e,i,r,n,s){var a=E(t),o=E(e),h=a?Hc:Tc(t),u=o?Hc:Tc(e),c=(h=h==Jc?Ra:h)==Ra,l=(u=u==Jc?Ra:u)==Ra,f=h==u,d=sa(Ib);if(f&&d.d(t)){if(!d.d(e))return!1;c=!(a=!0)}if(f&&!c)return s||(s=new L),a||Pb(t)?Nc(t,e,i,r,n,s):le(t,e,h,i,r,n,s);if(!(i&qe)){var g=c&&Fc.call(t,"__wrapped__"),p=l&&Fc.call(e,"__wrapped__");if(g||p){var y=g?t.value():t,v=p?e.value():e;return s||(s=new L),n(y,v,i,r,s)}}return!!f&&(s||(s=new L),pe(t,e,i,r,n,s))}var xe=1,ye=2;function ze(t,e,i,r){var n=i.length,s=n,a=!r;if(null==t)return!s;for(t=Object(t);n--;){var o=i[n];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<s;){var h=(o=i[n])[0],u=t[h],c=o[1];if(a&&o[2]){if(void 0===u&&!(h in t))return!1}else{var l=new L;if(r)var f=r(u,c,h,t,e,l);if(!(void 0===f?vb(c,u,xe|ye,r,l):f))return!1}}return!0}function Ae(t){for(var e=db(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,Ec(n)]}return e}function Ec(t){return t==t&&!p(t)}function Dc(e,i){return function(t){return null!=t&&t[e]===i&&(void 0!==i||e in Object(t))}}function De(t,e){return null!=t&&Fe(t,e,Ee)}function Ee(t,e){return null!=t&&e in Object(t)}function Fe(t,e,i){for(var r=-1,n=(e=Ka(e,t)).length,s=!1;++r<n;){var a=xa(e[r]);if(!(s=null!=t&&i(t,a)))break;t=t[a]}return s||++r!=n?s:!!(n=null==t?0:t.length)&&qb(n)&&Ja(a,n)&&(E(t)||Gb(t))}var Ge=1,He=2;function Ie(i,r){return Cb(i)&&Ec(r)?Dc(xa(i),r):function(t){var e=X(t,i);return void 0===e&&e===r?De(t,i):vb(r,e,Ge|He)}}function Je(t){return Cb(t)?Ke(xa(t)):Le(t)}function Ke(e){return function(t){return null==t?void 0:t[e]}}function Le(e){return function(t){return $a(t,e)}}var Me="[object String]";function pb(t){return"string"==typeof t||!E(t)&&K(t)&&J(t)==Me}var Oe="[object Boolean]";function Ac(t){return!0===t||!1===t||K(t)&&J(t)==Oe}var Qe="[object Number]";function Re(t){return"number"==typeof t||K(t)&&J(t)==Qe}function Se(t){return null==t}var Te="Expected a function";function Ue(e){if("function"!=typeof e)throw new TypeError(Te);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ve(t,e){return We(t,Ue(Rc(e)))}function We(t,i){if(null==t)return{};var e=_b(sd(t),function(t){return[t]});return i=Rc(i),Xe(t,e,function(t,e){return i(t,e[0])})}function Xe(t,e,i){for(var r=-1,n=e.length,s={};++r<n;){var a=e[r],o=$a(t,a);i(o,a)&&Ye(s,Ka(a,t),o)}return s}function Ye(t,e,i,r){if(!p(t))return t;for(var n=-1,s=(e=Ka(e,t)).length,a=s-1,o=t;null!=o&&++n<s;){var h=xa(e[n]),u=i;if(n!=a){var c=o[h];void 0===(u=r?r(c,h,o):void 0)&&(u=p(c)?c:Ja(e[n+1])?[]:{})}kb(o,h,u),o=o[h]}return t}function Kk(t){return vd(2,t)}for(var $e=function(){var y=this,v={exports:this};function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}return function(s,t){var e="model",i="name",r="type",n="vendor",a="version",o="mobile",h="tablet",u={extend:function(t,e){var i={};for(var r in t)e[r]&&e[r].length%2==0?i[r]=e[r].concat(t[r]):i[r]=t[r];return i},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"===b(t)?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},c={rgx:function(t,e){for(var i,r,n,s,a,o,h=0;h<e.length&&!a;){var u=e[h],c=e[h+1];for(i=r=0;i<u.length&&!a;)if(a=u[i++].exec(t))for(n=0;n<c.length;n++)o=a[++r],"object"===b(s=c[n])&&0<s.length?2==s.length?"function"==b(s[1])?this[s[0]]=s[1].call(this,o):this[s[0]]=s[1]:3==s.length?"function"!==b(s[1])||s[1].exec&&s[1].test?this[s[0]]=o?o.replace(s[1],s[2]):void 0:this[s[0]]=o?s[1].call(this,o,s[2]):void 0:4==s.length&&(this[s[0]]=o?s[3].call(this,o.replace(s[1],s[2])):void 0):this[s]=o||void 0;h+=2}},str:function(t,e){for(var i in e)if("object"===b(e[i])&&0<e[i].length){for(var r=0;r<e[i].length;r++)if(u.has(e[i][r],t))return"?"===i?void 0:i}else if(u.has(e[i],t))return"?"===i?void 0:i;return t}},l={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},f={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[i,a],[/(opios)[\/\s]+([\w\.]+)/i],[[i,"Opera Mini"],a],[/\s(opr)\/([\w\.]+)/i],[[i,"Opera"],a],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[i,a],[/(konqueror)\/([\w\.]+)/i],[[i,"Konqueror"],a],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[i,"IE"],a],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[i,"Edge"],a],[/(yabrowser)\/([\w\.]+)/i],[[i,"Yandex"],a],[/(puffin)\/([\w\.]+)/i],[[i,"Puffin"],a],[/(focus)\/([\w\.]+)/i],[[i,"Firefox Focus"],a],[/(opt)\/([\w\.]+)/i],[[i,"Opera Touch"],a],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[i,"UCBrowser"],a],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],a],[/(windowswechat qbcore)\/([\w\.]+)/i],[[i,"WeChat(Win) Desktop"],a],[/(micromessenger)\/([\w\.]+)/i],[[i,"WeChat"],a],[/(brave)\/([\w\.]+)/i],[[i,"Brave"],a],[/(qqbrowserlite)\/([\w\.]+)/i],[i,a],[/(QQ)\/([\d\.]+)/i],[i,a],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[i,a],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[i,a],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[i,a],[/(MetaSr)[\/\s]?([\w\.]+)/i],[i],[/(LBBROWSER)/i],[i],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[a,[i,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[a,[i,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[i,a],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[a,[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,/(.+)/,"$1 WebView"],a],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[i,/(.+(?:g|us))(.+)/,"$1 $2"],a],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[a,[i,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[i,"Sailfish Browser"],a],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[i,a],[/(dolfin)\/([\w\.]+)/i],[[i,"Dolphin"],a],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],a],[/(coast)\/([\w\.]+)/i],[[i,"Opera Coast"],a],[/fxios\/([\w\.-]+)/i],[a,[i,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[a,[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[a,i],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[i,"GSA"],a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[a,c.str,l.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[i,a],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",u.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",u.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",u.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[e,n,[r,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[e,[n,"Apple"],[r,h]],[/(apple\s{0,1}tv)/i],[[e,"Apple TV"],[n,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[n,e,[r,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[e,[n,"Amazon"],[r,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[e,c.str,l.device.amazon.model],[n,"Amazon"],[r,o]],[/android.+aft([bms])\sbuild/i],[e,[n,"Amazon"],[r,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[e,n,[r,o]],[/\((ip[honed|\s\w*]+);/i],[e,[n,"Apple"],[r,o]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[n,e,[r,o]],[/\(bb10;\s(\w+)/i],[e,[n,"BlackBerry"],[r,o]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[e,[n,"Asus"],[r,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[n,"Sony"],[e,"Xperia Tablet"],[r,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[n,"Sony"],[r,o]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[n,e,[r,"console"]],[/android.+;\s(shield)\sbuild/i],[e,[n,"Nvidia"],[r,"console"]],[/(playstation\s[34portablevi]+)/i],[e,[n,"Sony"],[r,"console"]],[/(sprint\s(\w+))/i],[[n,c.str,l.device.sprint.vendor],[e,c.str,l.device.sprint.model],[r,o]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[n,[e,/_/g," "],[r,o]],[/(nexus\s9)/i],[e,[n,"HTC"],[r,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[e,[n,"Huawei"],[r,o]],[/(microsoft);\s(lumia[\s\w]+)/i],[n,e,[r,o]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[e,[n,"Microsoft"],[r,"console"]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[n,"Microsoft"],[r,o]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[e,[n,"Motorola"],[r,o]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[n,"Motorola"],[r,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[n,u.trim],[e,u.trim],[r,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[n,"Samsung"],[r,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[e,[n,"Sharp"],[r,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[n,"Samsung"],e,[r,h]],[/smart-tv.+(samsung)/i],[n,[r,"smarttv"],e],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[n,"Samsung"],e,[r,o]],[/sie-(\w*)/i],[e,[n,"Siemens"],[r,o]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[n,"Nokia"],e,[r,o]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[n,"Acer"],[r,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[e,[n,"LG"],[r,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[n,"LG"],e,[r,h]],[/(lg) netcast\.tv/i],[n,e,[r,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[e,[n,"LG"],[r,o]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[n,e,[r,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[e,[n,"Lenovo"],[r,h]],[/(lenovo)[_\s-]?([\w-]+)/i],[n,e,[r,o]],[/linux;.+((jolla));/i],[n,e,[r,o]],[/((pebble))app\/[\d\.]+\s/i],[n,e,[r,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[n,e,[r,o]],[/crkey/i],[[e,"Chromecast"],[n,"Google"]],[/android.+;\s(glass)\s\d/i],[e,[n,"Google"],[r,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[e,[n,"Google"],[r,h]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[e,[n,"Google"],[r,o]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[e,/_/g," "],[n,"Xiaomi"],[r,o]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[e,/_/g," "],[n,"Xiaomi"],[r,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[e,[n,"Meizu"],[r,o]],[/(mz)-([\w-]{2,})/i],[[n,"Meizu"],e,[r,o]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[e,[n,"OnePlus"],[r,o]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[e,[n,"RCA"],[r,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[e,[n,"Dell"],[r,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[e,[n,"Verizon"],[r,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[n,"Barnes & Noble"],e,[r,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[e,[n,"NuVision"],[r,h]],[/android.+;\s(k88)\sbuild/i],[e,[n,"ZTE"],[r,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[e,[n,"Swiss"],[r,o]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[e,[n,"Swiss"],[r,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[e,[n,"Zeki"],[r,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[n,"Dragon Touch"],e,[r,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[e,[n,"Insignia"],[r,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[e,[n,"NextBook"],[r,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[n,"Voice"],e,[r,o]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[n,"LvTel"],e,[r,o]],[/android.+;\s(PH-1)\s/i],[e,[n,"Essential"],[r,o]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[e,[n,"Envizen"],[r,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[n,e,[r,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[e,[n,"MachSpeed"],[r,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[n,e,[r,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[e,[n,"Rotor"],[r,h]],[/android.+(KS(.+))\s+build/i],[e,[n,"Amazon"],[r,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[n,e,[r,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,u.lowerize],n,e],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,"smarttv"]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[n,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[a,[i,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[i,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,a],[/rv\:([\w\.]{1,9}).+(gecko)/i],[a,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,a],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[i,[a,c.str,l.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[a,c.str,l.os.windows.version]],[/\((bb)(10);/i],[[i,"BlackBerry"],a],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[i,a],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[i,"Symbian"],a],[/\((series40);/i],[i],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"],a],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[i,a],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],a],[/(sunos)\s?([\w\.\d]*)/i],[[i,"Solaris"],a],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[i,a],[/(haiku)\s(\w+)/i],[i,a],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[a,/_/g,"."],[i,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[i,"Mac OS"],[a,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[i,a]]},d=function t(e,i){if("object"===b(e)&&(i=e,e=void 0),!(this instanceof t))return new t(e,i).getResult();var r=e||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),n=i?u.extend(f,i):f;return this.getBrowser=function(){var t={name:void 0,version:void 0};return c.rgx.call(t,r,n.browser),t.major=u.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return c.rgx.call(t,r,n.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return c.rgx.call(t,r,n.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return c.rgx.call(t,r,n.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return c.rgx.call(t,r,n.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=t,this},this};d.VERSION="0.7.20",d.BROWSER={NAME:i,MAJOR:"major",VERSION:a},d.CPU={ARCHITECTURE:"architecture"},d.DEVICE={MODEL:e,VENDOR:n,TYPE:r,CONSOLE:"console",MOBILE:o,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},d.ENGINE={NAME:i,VERSION:a},d.OS={NAME:i,VERSION:a},"undefined"!==(void 0===y?"undefined":b(y))?("undefined"!==(void 0===v?"undefined":b(v))&&v.exports&&(y=v.exports=d),y.UAParser=d):s&&(s.UAParser=d);var g=s&&(s.jQuery||s.Zepto);if("undefined"!==b(g)&&!g.ua){var p=new d;g.ua=p.getResult(),g.ua.get=function(){return p.getUA()},g.ua.set=function(t){p.setUA(t);var e=p.getResult();for(var i in e)g.ua[i]=e[i]}}}("object"===("undefined"==typeof window?"undefined":b(window))?window:this),v.exports}.call({}),_e=kf,xc=nf,t=[],s=[],df="undefined"!=typeof Uint8Array?Uint8Array:Array,jb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ha=0,gf=jb.length;ha<gf;++ha)t[ha]=jb[ha],s[jb.charCodeAt(ha)]=ha;function hf(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function jf(t,e,i){return 3*(e+i)/4-i}function kf(t){var e,i,r=hf(t),n=r[0],a=r[1],o=new df(jf(t,n,a)),h=0,u=0<a?n-4:n;for(i=0;i<u;i+=4)e=s[t.charCodeAt(i)]<<18|s[t.charCodeAt(i+1)]<<12|s[t.charCodeAt(i+2)]<<6|s[t.charCodeAt(i+3)],o[h++]=e>>16&255,o[h++]=e>>8&255,o[h++]=255&e;return 2===a&&(e=s[t.charCodeAt(i)]<<2|s[t.charCodeAt(i+1)]>>4,o[h++]=255&e),1===a&&(e=s[t.charCodeAt(i)]<<10|s[t.charCodeAt(i+1)]<<4|s[t.charCodeAt(i+2)]>>2,o[h++]=e>>8&255,o[h++]=255&e),o}function lf(e){return t[e>>18&63]+t[e>>12&63]+t[e>>6&63]+t[63&e]}function mf(t,e,i){for(var r,n=[],s=e;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),n.push(lf(r));return n.join("")}function nf(e){for(var i,r=e.length,n=r%3,s=[],a=0,o=r-n;a<o;a+=16383)s.push(mf(e,a,o<a+16383?o:a+16383));return 1===n?(i=e[r-1],s.push(t[i>>2]+t[i<<4&63]+"==")):2===n&&(i=(e[r-2]<<8)+e[r-1],s.push(t[i>>10]+t[i>>4&63]+t[i<<2&63]+"=")),s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;var Na=function(t,e,i,r,n){var s,a,o=8*n-r-1,h=(1<<o)-1,u=h>>1,c=-7,l=i?n-1:0,f=i?-1:1,d=t[e+l];for(l+=f,s=d&(1<<-c)-1,d>>=-c,c+=o;0<c;s=256*s+t[e+l],l+=f,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=r;0<c;a=256*a+t[e+l],l+=f,c-=8);if(0===s)s=1-u;else{if(s===h)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),s-=u}return(d?-1:1)*a*Math.pow(2,s-r)},rc=function(t,e,i,r,n,s){var a,o,h,u=8*s-n-1,c=(1<<u)-1,l=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,g=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-a))<1&&(a--,h*=2),2<=(e+=1<=a+l?f/h:f*Math.pow(2,1-l))*h&&(a++,h/=2),c<=a+l?(o=0,a=c):1<=a+l?(o=(e*h-1)*Math.pow(2,n),a+=l):(o=e*Math.pow(2,l-1)*Math.pow(2,n),a=0));8<=n;t[i+d]=255&o,d+=g,o/=256,n-=8);for(a=a<<n|o,u+=n;0<u;t[i+d]=255&a,d+=g,a/=256,u-=8);t[i+d-g]|=128*p},qc={},rf={}.toString;qc=Array.isArray||function(t){return"[object Array]"==rf.call(t)};var sf=b,tf=50;b.TYPED_ARRAY_SUPPORT=void 0!==S.TYPED_ARRAY_SUPPORT?S.TYPED_ARRAY_SUPPORT:vf();var Tk=Ma();function vf(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function Ma(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function H(t,e){if(Ma()<e)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=b.prototype:(null===t&&(t=new b(e)),t.length=e),t}function b(t,e,i){if(!(b.TYPED_ARRAY_SUPPORT||this instanceof b))return new b(t,e,i);if("number"!=typeof t)return ic(this,t,e,i);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Ya(this,t)}function ic(t,e,i,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?Ff(t,e,i,r):"string"==typeof e?Df(t,e,i):Gf(t,e)}function hc(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Bf(t,e,i,r){return hc(e),e<=0?H(t,e):void 0!==i?"string"==typeof r?H(t,e).fill(i,r):H(t,e).fill(i):H(t,e)}function Ya(t,e){if(hc(e),t=H(t,e<0?0:0|Wa(e)),!b.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function Df(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!b.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|ac(e,i),n=(t=H(t,r)).write(e,i);return n!==r&&(t=t.slice(0,n)),t}function Xa(t,e){var i=e.length<0?0:0|Wa(e.length);t=H(t,i);for(var r=0;r<i;r+=1)t[r]=255&e[r];return t}function Ff(t,e,i,r){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,i):new Uint8Array(e,i,r),b.TYPED_ARRAY_SUPPORT?(t=e).__proto__=b.prototype:t=Xa(t,e),t}function Gf(t,e){if(b.isBuffer(e)){var i=0|Wa(e.length);return 0===(t=H(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||pg(e.length)?H(t,0):Xa(t,e);if("Buffer"===e.type&&qc(e.data))return Xa(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Wa(t){if(t>=Ma())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ma().toString(16)+" bytes");return 0|t}function ac(t,e){if(b.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return Ga(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Fb(t).length;default:if(r)return Ga(t).length;e=(""+e).toLowerCase(),r=!0}}function Jf(t,e,i){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Zf(this,e,i);case"utf8":case"utf-8":return Wb(this,e,i);case"ascii":return Xf(this,e,i);case"latin1":case"binary":return Yf(this,e,i);case"base64":return Tf(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $f(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function aa(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function Zb(t,e,i,r,n){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=b.from(e,r)),b.isBuffer(e))return 0===e.length?-1:Yb(t,e,i,r,n);if("number"==typeof e)return e&=255,b.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):Yb(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}function Yb(t,e,i,r,n){var s,a=1,o=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o/=a=2,h/=2,i/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(n){var c=-1;for(s=i;s<o;s++)if(u(t,s)===u(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===h)return c*a}else-1!==c&&(s-=s-c),c=-1}else for(o<i+h&&(i=o-h),s=i;0<=s;s--){for(var l=!0,f=0;f<h;f++)if(u(t,s+f)!==u(e,f)){l=!1;break}if(l)return s}return-1}function Nf(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");s/2<r&&(r=s/2);for(var a=0;a<r;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[i+a]=o}return a}function Of(t,e,i,r){return Fa(Ga(e,t.length-i),t,i,r)}function Xb(t,e,i,r){return Fa(lg(e),t,i,r)}function Qf(t,e,i,r){return Xb(t,e,i,r)}function Rf(t,e,i,r){return Fa(Fb(e),t,i,r)}function Sf(t,e,i,r){return Fa(mg(e,t.length-i),t,i,r)}function Tf(t,e,i){return 0===e&&i===t.length?xc(t):xc(t.slice(e,i))}function Wb(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var s,a,o,h,u=t[n],c=null,l=239<u?4:223<u?3:191<u?2:1;if(n+l<=i)switch(l){case 1:u<128&&(c=u);break;case 2:128==(192&(s=t[n+1]))&&127<(h=(31&u)<<6|63&s)&&(c=h);break;case 3:s=t[n+1],a=t[n+2],128==(192&s)&&128==(192&a)&&2047<(h=(15&u)<<12|(63&s)<<6|63&a)&&(h<55296||57343<h)&&(c=h);break;case 4:s=t[n+1],a=t[n+2],o=t[n+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&65535<(h=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o)&&h<1114112&&(c=h)}null===c?(c=65533,l=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=l}return Wf(r)}b.poolSize=8192,b._augment=function(t){return t.__proto__=b.prototype,t},b.from=function(t,e,i){return ic(null,t,e,i)},b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0})),b.alloc=function(t,e,i){return Bf(null,t,e,i)},b.allocUnsafe=function(t){return Ya(null,t)},b.allocUnsafeSlow=function(t){return Ya(null,t)},b.isBuffer=function(t){return!(null==t||!t._isBuffer)},b.compare=function(t,e){if(!b.isBuffer(t)||!b.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,r=e.length,n=0,s=Math.min(i,r);n<s;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:r<i?1:0},b.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(t,e){if(!qc(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return b.alloc(0);var i;if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;var r=b.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var s=t[i];if(!b.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,n),n+=s.length}return r},b.byteLength=ac,b.prototype._isBuffer=!0,b.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)aa(this,e,e+1);return this},b.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)aa(this,e,e+3),aa(this,e+1,e+2);return this},b.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)aa(this,e,e+7),aa(this,e+1,e+6),aa(this,e+2,e+5),aa(this,e+3,e+4);return this},b.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Wb(this,0,t):Jf.apply(this,arguments)},b.prototype.equals=function(t){if(!b.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===b.compare(this,t)},b.prototype.inspect=function(){var t="",e=tf;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},b.prototype.compare=function(t,e,i,r,n){if(!b.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw new RangeError("out of range index");if(n<=r&&i<=e)return 0;if(n<=r)return-1;if(i<=e)return 1;if(this===t)return 0;for(var s=(n>>>=0)-(r>>>=0),a=(i>>>=0)-(e>>>=0),o=Math.min(s,a),h=this.slice(r,n),u=t.slice(e,i),c=0;c<o;++c)if(h[c]!==u[c]){s=h[c],a=u[c];break}return s<a?-1:a<s?1:0},b.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},b.prototype.indexOf=function(t,e,i){return Zb(this,t,e,i,!0)},b.prototype.lastIndexOf=function(t,e,i){return Zb(this,t,e,i,!1)},b.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-e;if((void 0===i||n<i)&&(i=n),0<t.length&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return Nf(this,t,e,i);case"utf8":case"utf-8":return Of(this,t,e,i);case"ascii":return Xb(this,t,e,i);case"latin1":case"binary":return Qf(this,t,e,i);case"base64":return Rf(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sf(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Vb=4096;function Wf(t){var e=t.length;if(e<=Vb)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=Vb));return i}function Xf(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function Yf(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function Zf(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||r<i)&&(i=r);for(var n="",s=e;s<i;++s)n+=jg(t[s]);return n}function $f(t,e,i){for(var r=t.slice(e,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}function d(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+e)throw new RangeError("Trying to access beyond buffer length")}function i(t,e,i,r,n,s){if(!b.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n<e||e<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function Ia(t,e,i,r){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(t.length-i,2);n<s;++n)t[i+n]=(e&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function Ha(t,e,i,r){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(t.length-i,4);n<s;++n)t[i+n]=e>>>8*(r?n:3-n)&255}function Lb(t,e,i,r,n,s){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Kb(t,e,i,r,n){return n||Lb(t,e,i,4,34028234663852886e22,-34028234663852886e22),rc(t,e,i,r,23,4),i+4}function Jb(t,e,i,r,n){return n||Lb(t,e,i,8,17976931348623157e292,-17976931348623157e292),rc(t,e,i,r,52,8),i+8}b.prototype.slice=function(t,e){var i,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),b.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=b.prototype;else{var n=e-t;i=new b(n,void 0);for(var s=0;s<n;++s)i[s]=this[s+t]}return i},b.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||d(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r},b.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||d(t,e,this.length);for(var r=this[t+--e],n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},b.prototype.readUInt8=function(t,e){return e||d(t,1,this.length),this[t]},b.prototype.readUInt16LE=function(t,e){return e||d(t,2,this.length),this[t]|this[t+1]<<8},b.prototype.readUInt16BE=function(t,e){return e||d(t,2,this.length),this[t]<<8|this[t+1]},b.prototype.readUInt32LE=function(t,e){return e||d(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},b.prototype.readUInt32BE=function(t,e){return e||d(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},b.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||d(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},b.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||d(t,e,this.length);for(var r=e,n=1,s=this[t+--r];0<r&&(n*=256);)s+=this[t+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},b.prototype.readInt8=function(t,e){return e||d(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},b.prototype.readInt16LE=function(t,e){e||d(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},b.prototype.readInt16BE=function(t,e){e||d(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},b.prototype.readInt32LE=function(t,e){return e||d(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},b.prototype.readInt32BE=function(t,e){return e||d(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},b.prototype.readFloatLE=function(t,e){return e||d(t,4,this.length),Na(this,t,!0,23,4)},b.prototype.readFloatBE=function(t,e){return e||d(t,4,this.length),Na(this,t,!1,23,4)},b.prototype.readDoubleLE=function(t,e){return e||d(t,8,this.length),Na(this,t,!0,52,8)},b.prototype.readDoubleBE=function(t,e){return e||d(t,8,this.length),Na(this,t,!1,52,8)},b.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||i(this,t,e,r,Math.pow(2,8*r)-1,0);var s=1,a=0;for(this[e]=255&t;++a<r&&(s*=256);)this[e+a]=t/s&255;return e+r},b.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||i(this,t,e,r,Math.pow(2,8*r)-1,0);var s=r-1,a=1;for(this[e+s]=255&t;0<=--s&&(a*=256);)this[e+s]=t/a&255;return e+r},b.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,1,255,0),b.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},b.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ia(this,t,e,!0),e+2},b.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ia(this,t,e,!1),e+2},b.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Ha(this,t,e,!0),e+4},b.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Ha(this,t,e,!1),e+4},b.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var s=Math.pow(2,8*r-1);i(this,t,e,r,s-1,-s)}var a=0,o=1,h=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===h&&0!==this[e+a-1]&&(h=1),this[e+a]=(t/o>>0)-h&255;return e+r},b.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var s=Math.pow(2,8*r-1);i(this,t,e,r,s-1,-s)}var a=r-1,o=1,h=0;for(this[e+a]=255&t;0<=--a&&(o*=256);)t<0&&0===h&&0!==this[e+a+1]&&(h=1),this[e+a]=(t/o>>0)-h&255;return e+r},b.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,1,127,-128),b.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},b.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ia(this,t,e,!0),e+2},b.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ia(this,t,e,!1),e+2},b.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Ha(this,t,e,!0),e+4},b.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||i(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Ha(this,t,e,!1),e+4},b.prototype.writeFloatLE=function(t,e,i){return Kb(this,t,e,!0,i)},b.prototype.writeFloatBE=function(t,e,i){return Kb(this,t,e,!1,i)},b.prototype.writeDoubleLE=function(t,e,i){return Jb(this,t,e,!0,i)},b.prototype.writeDoubleBE=function(t,e,i){return Jb(this,t,e,!1,i)},b.prototype.copy=function(t,e,i,r){if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var n,s=r-i;if(this===t&&i<e&&e<r)for(n=s-1;0<=n;--n)t[n+e]=this[n+i];else if(s<1e3||!b.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},b.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!b.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var a=b.isBuffer(t)?t:Ga(new b(t,r).toString()),o=a.length;for(s=0;s<i-e;++s)this[s+e]=a[s%o]}return this};var gg=/[^+\/0-9A-Za-z-_]/g;function hg(t){if((t=ig(t).replace(gg,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function ig(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function jg(t){return t<16?"0"+t.toString(16):t.toString(16)}function Ga(t,e){var i;e=e||1/0;for(var r=t.length,n=null,s=[],a=0;a<r;++a){if(55295<(i=t.charCodeAt(a))&&i<57344){if(!n){if(56319<i){-1<(e-=3)&&s.push(239,191,189);continue}if(a+1===r){-1<(e-=3)&&s.push(239,191,189);continue}n=i;continue}if(i<56320){-1<(e-=3)&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&-1<(e-=3)&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function lg(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function mg(t,e){for(var i,r,n,s=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(i=t.charCodeAt(a))>>8,n=i%256,s.push(n),s.push(r);return s}function Fb(t){return _e(hg(t))}function Fa(t,e,i,r){for(var n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function pg(t){return t!=t}var hb=sf,oa={userAgent:!1},ga={};if(void 0===a)var a={};a.lang={extend:function(t,e,i){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,(t.prototype.constructor=t).superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),i){var n;for(n in i)t.prototype[n]=i[n];var s=function(){},a=["toString","valueOf"];try{/MSIE/.test(oa.userAgent)&&(s=function(t,e){for(n=0;n<a.length;n+=1){var i=a[n],r=e[i];"function"==typeof r&&r!=Object.prototype[i]&&(t[i]=r)}})}catch(t){}s(t.prototype,i)}}};var w=w||(OF=Math,QF={},RF=QF.lib={},SF=RF.Base=function(){function i(){}return{extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),TF=RF.WordArray=SF.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||VF).stringify(this)},concat:function(t){var e=this.words,i=t.words,r=this.sigBytes,n=t.sigBytes;if(this.clamp(),r%4)for(var s=0;s<n;s++){var a=i[s>>>2]>>>24-s%4*8&255;e[r+s>>>2]|=a<<24-(r+s)%4*8}else for(s=0;s<n;s+=4)e[r+s>>>2]=i[s>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=OF.ceil(e/4)},clone:function(){var t=SF.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(4294967296*OF.random()|0);return new TF.init(e,t)}}),UF=QF.enc={},VF=UF.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var s=e[n>>>2]>>>24-n%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new TF.init(i,e/2)}},WF=UF.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var s=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new TF.init(i,e)}},XF=UF.Utf8={stringify:function(t){try{return decodeURIComponent(escape(WF.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return WF.parse(unescape(encodeURIComponent(t)))}},YF=RF.BufferedBlockAlgorithm=SF.extend({reset:function(){this._data=new TF.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=XF.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,i=e.words,r=e.sigBytes,n=this.blockSize,s=r/(4*n),a=(s=t?OF.ceil(s):OF.max((0|s)-this._minBufferSize,0))*n,o=OF.min(4*a,r);if(a){for(var h=0;h<a;h+=n)this._doProcessBlock(i,h);var u=i.splice(0,a);e.sigBytes-=o}return new TF.init(u,o)},clone:function(){var t=SF.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),RF.Hasher=YF.extend({cfg:SF.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){YF.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(t,e){return new i.init(e).finalize(t)}},_createHmacHelper:function(i){return function(t,e){return new ZF.HMAC.init(i,e).finalize(t)}}}),ZF=QF.algo={},QF),OF,QF,RF,SF,TF,UF,VF,WF,XF,YF,ZF,bQ,cQ,dQ,eQ,fQ,gQ,OP,PP,eP,fP,gP,hP,iP,jP,kP,lP,mP,nP,$O,_O,aP,bP,cP,GN,HN,IN,JN,GM,HM,IM,JM,KM,bL,cL,lH,mH,nH,oH;mH=(lH=w).lib,nH=mH.Base,oH=mH.WordArray,(lH=lH.x64={}).Word=nH.extend({init:function(t,e){this.high=t,this.low=e}}),lH.WordArray=nH.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,i=[],r=0;r<e;r++){var n=t[r];i.push(n.high),i.push(n.low)}return oH.create(i,this.sigBytes)},clone:function(){for(var t=nH.clone.call(this),e=t.words=this.words.slice(0),i=e.length,r=0;r<i;r++)e[r]=e[r].clone();return t}}),w.lib.Cipher||function(t){var e=(d=w).lib,i=e.Base,a=e.WordArray,r=e.BufferedBlockAlgorithm,n=d.enc.Base64,s=d.algo.EvpKDF,o=e.Cipher=r.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(r){return{encrypt:function(t,e,i){return("string"==typeof e?g:f).encrypt(r,t,e,i)},decrypt:function(t,e,i){return("string"==typeof e?g:f).decrypt(r,t,e,i)}}}});e.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=d.mode={},u=function(t,e,i){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var n=0;n<i;n++)t[e+n]^=r[n]},c=(e.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();c.Encryptor=c.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize;u.call(this,t,e,r),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+r)}}),c.Decryptor=c.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize,n=t.slice(e,e+r);i.decryptBlock(t,e),u.call(this,t,e,r),this._prevBlock=n}}),h=h.CBC=c,c=(d.pad={}).Pkcs7={pad:function(t,e){for(var i,r=(i=(i=4*e)-t.sigBytes%i)<<24|i<<16|i<<8|i,n=[],s=0;s<i;s+=4)n.push(r);i=a.create(n,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=o.extend({cfg:o.cfg.extend({mode:h,padding:c}),reset:function(){o.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=e.createEncryptor;else i=e.createDecryptor,this._minBufferSize=1;this._mode=i.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var l=e.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(h=(d.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?a.create([1398893684,1701076831]).concat(t).concat(e):e).toString(n)},parse:function(t){var e=(t=n.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var i=a.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return l.create({ciphertext:t,salt:i})}},e.SerializableCipher=i.extend({cfg:i.extend({format:h}),encrypt:function(t,e,i,r){r=this.cfg.extend(r);var n=t.createEncryptor(i,r);return e=n.finalize(e),n=n.cfg,l.create({ciphertext:e,key:i,iv:n.iv,algorithm:t,mode:n.mode,padding:n.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,i,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(i,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),d=(d.kdf={}).OpenSSL={execute:function(t,e,i,r){return r||(r=a.random(8)),t=s.create({keySize:e+i}).compute(t,r),i=a.create(t.words.slice(e),4*i),t.sigBytes=4*e,l.create({key:t,iv:i,salt:r})}},g=e.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:d}),encrypt:function(t,e,i,r){return i=(r=this.cfg.extend(r)).kdf.execute(i,t.keySize,t.ivSize),r.iv=i.iv,(t=f.encrypt.call(this,t,e,i.key,r)).mixIn(i),t},decrypt:function(t,e,i,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),i=r.kdf.execute(i,t.keySize,t.ivSize,e.salt),r.iv=i.iv,f.decrypt.call(this,t,e,i.key,r)}})}(),function(){for(var t=w,e=t.lib.BlockCipher,i=t.algo,a=[],r=[],n=[],s=[],o=[],h=[],u=[],c=[],l=[],f=[],d=[],g=0;g<256;g++)d[g]=g<128?g<<1:g<<1^283;var p=0,y=0;for(g=0;g<256;g++){var v=(v=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&v^99;a[p]=v;var b=d[r[v]=p],m=d[b],S=d[m],F=257*d[v]^16843008*v;n[p]=F<<24|F>>>8,s[p]=F<<16|F>>>16,o[p]=F<<8|F>>>24,h[p]=F,F=16843009*S^65537*m^257*b^16843008*p,u[v]=F<<24|F>>>8,c[v]=F<<16|F>>>16,l[v]=F<<8|F>>>24,f[v]=F,p?(p=b^d[d[d[S^b]]],y^=d[d[y]]):p=y=1}var x=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=e.extend({_doReset:function(){for(var t=(i=this._key).words,e=i.sigBytes/4,i=4*((this._nRounds=e+6)+1),r=this._keySchedule=[],n=0;n<i;n++)if(n<e)r[n]=t[n];else{var s=r[n-1];n%e?6<e&&4==n%e&&(s=a[s>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s]):(s=a[(s=s<<8|s>>>24)>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s],s^=x[n/e|0]<<24),r[n]=r[n-e]^s}for(t=this._invKeySchedule=[],e=0;e<i;e++)n=i-e,s=e%4?r[n]:r[n-4],t[e]=e<4||n<=4?s:u[a[s>>>24]]^c[a[s>>>16&255]]^l[a[s>>>8&255]]^f[a[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,n,s,o,h,a)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,u,c,l,f,r),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,r,n,s,a,o){for(var h=this._nRounds,u=t[e]^i[0],c=t[e+1]^i[1],l=t[e+2]^i[2],f=t[e+3]^i[3],d=4,g=1;g<h;g++){var p=r[u>>>24]^n[c>>>16&255]^s[l>>>8&255]^a[255&f]^i[d++],y=r[c>>>24]^n[l>>>16&255]^s[f>>>8&255]^a[255&u]^i[d++],v=r[l>>>24]^n[f>>>16&255]^s[u>>>8&255]^a[255&c]^i[d++];f=r[f>>>24]^n[u>>>16&255]^s[c>>>8&255]^a[255&l]^i[d++],u=p,c=y,l=v}p=(o[u>>>24]<<24|o[c>>>16&255]<<16|o[l>>>8&255]<<8|o[255&f])^i[d++],y=(o[c>>>24]<<24|o[l>>>16&255]<<16|o[f>>>8&255]<<8|o[255&u])^i[d++],v=(o[l>>>24]<<24|o[f>>>16&255]<<16|o[u>>>8&255]<<8|o[255&c])^i[d++],f=(o[f>>>24]<<24|o[u>>>16&255]<<16|o[c>>>8&255]<<8|o[255&l])^i[d++],t[e]=p,t[e+1]=y,t[e+2]=v,t[e+3]=f},keySize:8}),t.AES=e._createHelper(i)}(),function(){function u(t,e){var i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function c(t,e){var i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}var t=w,e=(i=t.lib).WordArray,i=i.BlockCipher,r=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],n=r.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],i=0;i<56;i++){var r=a[i]-1;e[i]=t[r>>>5]>>>31-r%32&1}for(t=this._subKeys=[],r=0;r<16;r++){var n=t[r]=[],s=h[r];for(i=0;i<24;i++)n[i/6|0]|=e[(o[i]-1+s)%28]<<31-i%6,n[4+(i/6|0)]|=e[28+(o[i+24]-1+s)%28]<<31-i%6;for(n[0]=n[0]<<1|n[0]>>>31,i=1;i<7;i++)n[i]>>>=4*(i-1)+3;n[7]=n[7]<<5|n[7]>>>27}for(e=this._invSubKeys=[],i=0;i<16;i++)e[i]=t[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,i){this._lBlock=t[e],this._rBlock=t[e+1],u.call(this,4,252645135),u.call(this,16,65535),c.call(this,2,858993459),c.call(this,8,16711935),u.call(this,1,1431655765);for(var r=0;r<16;r++){for(var n=i[r],s=this._lBlock,a=this._rBlock,o=0,h=0;h<8;h++)o|=l[h][((a^n[h])&f[h])>>>0];this._lBlock=a,this._rBlock=s^o}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,u.call(this,1,1431655765),c.call(this,8,16711935),c.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});t.DES=i._createHelper(n),r=r.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=n.createEncryptor(e.create(t.slice(0,2))),this._des2=n.createEncryptor(e.create(t.slice(2,4))),this._des3=n.createEncryptor(e.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),t.TripleDES=i._createHelper(r)}(),bL=w,cL=bL.lib.WordArray,bL.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,r=this._map;t.clamp(),t=[];for(var n=0;n<i;n+=3)for(var s=(e[n>>>2]>>>24-n%4*8&255)<<16|(e[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|e[n+2>>>2]>>>24-(n+2)%4*8&255,a=0;a<4&&n+.75*a<i;a++)t.push(r.charAt(s>>>6*(3-a)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,i=this._map;(r=i.charAt(64))&&-1!=(r=t.indexOf(r))&&(e=r);for(var r=[],n=0,s=0;s<e;s++)if(s%4){var a=i.indexOf(t.charAt(s-1))<<s%4*2,o=i.indexOf(t.charAt(s))>>>6-s%4*2;r[n>>>2]|=(a|o)<<24-n%4*8,n++}return cL.create(r,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(s){function x(t,e,i,r,n,s,a){return((t=t+(e&i|~e&r)+n+a)<<s|t>>>32-s)+e}function j(t,e,i,r,n,s,a){return((t=t+(e&r|i&~r)+n+a)<<s|t>>>32-s)+e}function E(t,e,i,r,n,s,a){return((t=t+(e^i^r)+n+a)<<s|t>>>32-s)+e}function A(t,e,i,r,n,s,a){return((t=t+(i^(e|~r))+n+a)<<s|t>>>32-s)+e}for(var t=w,e=(r=t.lib).WordArray,i=r.Hasher,r=t.algo,C=[],n=0;n<64;n++)C[n]=4294967296*s.abs(s.sin(n+1))|0;r=r.MD5=i.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=t[n=e+i];t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}i=this._hash.words;var n=t[e+0],s=(r=t[e+1],t[e+2]),a=t[e+3],o=t[e+4],h=t[e+5],u=t[e+6],c=t[e+7],l=t[e+8],f=t[e+9],d=t[e+10],g=t[e+11],p=t[e+12],y=t[e+13],v=t[e+14],b=t[e+15],m=x(m=i[0],F=i[1],w=i[2],S=i[3],n,7,C[0]),S=x(S,m,F,w,r,12,C[1]),w=x(w,S,m,F,s,17,C[2]),F=x(F,w,S,m,a,22,C[3]);m=A(m=E(m=E(m=E(m=E(m=j(m=j(m=j(m=j(m=x(m=x(m=x(m,F,w,S,o,7,C[4]),F=x(F,w=x(w,S=x(S,m,F,w,h,12,C[5]),m,F,u,17,C[6]),S,m,c,22,C[7]),w,S,l,7,C[8]),F=x(F,w=x(w,S=x(S,m,F,w,f,12,C[9]),m,F,d,17,C[10]),S,m,g,22,C[11]),w,S,p,7,C[12]),F=x(F,w=x(w,S=x(S,m,F,w,y,12,C[13]),m,F,v,17,C[14]),S,m,b,22,C[15]),w,S,r,5,C[16]),F=j(F,w=j(w,S=j(S,m,F,w,u,9,C[17]),m,F,g,14,C[18]),S,m,n,20,C[19]),w,S,h,5,C[20]),F=j(F,w=j(w,S=j(S,m,F,w,d,9,C[21]),m,F,b,14,C[22]),S,m,o,20,C[23]),w,S,f,5,C[24]),F=j(F,w=j(w,S=j(S,m,F,w,v,9,C[25]),m,F,a,14,C[26]),S,m,l,20,C[27]),w,S,y,5,C[28]),F=j(F,w=j(w,S=j(S,m,F,w,s,9,C[29]),m,F,c,14,C[30]),S,m,p,20,C[31]),w,S,h,4,C[32]),F=E(F,w=E(w,S=E(S,m,F,w,l,11,C[33]),m,F,g,16,C[34]),S,m,v,23,C[35]),w,S,r,4,C[36]),F=E(F,w=E(w,S=E(S,m,F,w,o,11,C[37]),m,F,c,16,C[38]),S,m,d,23,C[39]),w,S,y,4,C[40]),F=E(F,w=E(w,S=E(S,m,F,w,n,11,C[41]),m,F,a,16,C[42]),S,m,u,23,C[43]),w,S,f,4,C[44]),F=E(F,w=E(w,S=E(S,m,F,w,p,11,C[45]),m,F,b,16,C[46]),S,m,s,23,C[47]),w,S,n,6,C[48]),F=A(F=A(F=A(F=A(F,w=A(w,S=A(S,m,F,w,c,10,C[49]),m,F,v,15,C[50]),S,m,h,21,C[51]),w=A(w,S=A(S,m=A(m,F,w,S,p,6,C[52]),F,w,a,10,C[53]),m,F,d,15,C[54]),S,m,r,21,C[55]),w=A(w,S=A(S,m=A(m,F,w,S,l,6,C[56]),F,w,b,10,C[57]),m,F,u,15,C[58]),S,m,y,21,C[59]),w=A(w,S=A(S,m=A(m,F,w,S,o,6,C[60]),F,w,g,10,C[61]),m,F,s,15,C[62]),S,m,f,21,C[63]),i[0]=i[0]+m|0,i[1]=i[1]+F|0,i[2]=i[2]+w|0,i[3]=i[3]+S|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32;var n=s.floor(i/4294967296);for(e[15+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,i=0;i<4;i++)r=e[i],e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),t.MD5=i._createHelper(r),t.HmacMD5=i._createHmacHelper(r)}(Math),GM=w,HM=(KM=GM.lib).WordArray,IM=KM.Hasher,JM=[],KM=GM.algo.SHA1=IM.extend({_doReset:function(){this._hash=new HM.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],s=i[2],a=i[3],o=i[4],h=0;h<80;h++){if(h<16)JM[h]=0|t[e+h];else{var u=JM[h-3]^JM[h-8]^JM[h-14]^JM[h-16];JM[h]=u<<1|u>>>31}u=(r<<5|r>>>27)+o+JM[h],u=h<20?u+(1518500249+(n&s|~n&a)):h<40?u+(1859775393+(n^s^a)):h<60?u+((n&s|n&a|s&a)-1894007588):u+((n^s^a)-899497514),o=a,a=s,s=n<<30|n>>>2,n=r,r=u}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+o|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(r+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=IM.clone.call(this);return t._hash=this._hash.clone(),t}}),GM.SHA1=IM._createHelper(KM),GM.HmacSHA1=IM._createHmacHelper(KM),function(n){for(var t=w,e=(r=t.lib).WordArray,i=r.Hasher,r=t.algo,s=[],g=[],a=function(t){return 4294967296*(t-(0|t))|0},o=2,h=0;h<64;){var u;t:{u=o;for(var c=n.sqrt(u),l=2;l<=c;l++)if(!(u%l)){u=!1;break t}u=!0}u&&(h<8&&(s[h]=a(n.pow(o,.5))),g[h]=a(n.pow(o,1/3)),h++),o++}var p=[];r=r.SHA256=i.extend({_doReset:function(){this._hash=new e.init(s.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],s=i[2],a=i[3],o=i[4],h=i[5],u=i[6],c=i[7],l=0;l<64;l++){if(l<16)p[l]=0|t[e+l];else{var f=p[l-15],d=p[l-2];p[l]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[l-7]+((d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+p[l-16]}f=c+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&h^~o&u)+g[l]+p[l],d=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&n^r&s^n&s),c=u,u=h,h=o,o=a+f|0,a=s,s=n,n=r,r=f+d|0}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+o|0,i[5]=i[5]+h|0,i[6]=i[6]+u|0,i[7]=i[7]+c|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=n.floor(i/4294967296),e[15+(r+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),t.SHA256=i._createHelper(r),t.HmacSHA256=i._createHmacHelper(r)}(Math),GN=w,HN=GN.lib.WordArray,IN=(JN=GN.algo).SHA256,JN=JN.SHA224=IN.extend({_doReset:function(){this._hash=new HN.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=IN._doFinalize.call(this);return t.sigBytes-=4,t}}),GN.SHA224=IN._createHelper(JN),GN.HmacSHA224=IN._createHmacHelper(JN),function(){function t(){return r.create.apply(r,arguments)}for(var e=w,i=e.lib.Hasher,r=(s=e.x64).Word,n=s.WordArray,s=e.algo,et=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],it=[],a=0;a<80;a++)it[a]=t();s=s.SHA512=i.extend({_doReset:function(){this._hash=new n.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var i=(u=this._hash.words)[0],r=u[1],n=u[2],s=u[3],a=u[4],o=u[5],h=u[6],u=u[7],c=i.high,l=i.low,f=r.high,d=r.low,g=n.high,p=n.low,y=s.high,v=s.low,b=a.high,m=a.low,S=o.high,w=o.low,F=h.high,x=h.low,j=u.high,E=u.low,A=c,C=l,P=f,D=d,T=g,I=p,k=y,B=v,H=b,R=m,O=S,N=w,_=F,L=x,V=j,M=E,K=0;K<80;K++){var q=it[K];if(K<16)var U=q.high=0|t[e+2*K],z=q.low=0|t[e+2*K+1];else{U=((z=(U=it[K-15]).high)>>>1|(G=U.low)<<31)^(z>>>8|G<<24)^z>>>7;var G=(G>>>1|z<<31)^(G>>>8|z<<24)^(G>>>7|z<<25),J=((z=(J=it[K-2]).high)>>>19|(Y=J.low)<<13)^(z<<3|Y>>>29)^z>>>6,Y=(Y>>>19|z<<13)^(Y<<3|z>>>29)^(Y>>>6|z<<26),W=(z=it[K-7]).high,Q=(X=it[K-16]).high,X=X.low;U=(U=(U=U+W+((z=G+z.low)>>>0<G>>>0?1:0))+J+((z+=Y)>>>0<Y>>>0?1:0))+Q+((z+=X)>>>0<X>>>0?1:0),q.high=U,q.low=z}W=H&O^~H&_,X=R&N^~R&L,q=A&P^A&T^P&T;var $=C&D^C&I^D&I,Z=(G=(A>>>28|C<<4)^(A<<30|C>>>2)^(A<<25|C>>>7),J=(C>>>28|A<<4)^(C<<30|A>>>2)^(C<<25|A>>>7),(Y=et[K]).high),tt=Y.low;Q=V+((H>>>14|R<<18)^(H>>>18|R<<14)^(H<<23|R>>>9))+((Y=M+((R>>>14|H<<18)^(R>>>18|H<<14)^(R<<23|H>>>9)))>>>0<M>>>0?1:0),V=_,M=L,_=O,L=N,O=H,N=R,H=k+(Q=(Q=(Q=Q+W+((Y+=X)>>>0<X>>>0?1:0))+Z+((Y+=tt)>>>0<tt>>>0?1:0))+U+((Y+=z)>>>0<z>>>0?1:0))+((R=B+Y|0)>>>0<B>>>0?1:0)|0,k=T,B=I,T=P,I=D,P=A,D=C,A=Q+(q=G+q+((z=J+$)>>>0<J>>>0?1:0))+((C=Y+z|0)>>>0<Y>>>0?1:0)|0}l=i.low=l+C,i.high=c+A+(l>>>0<C>>>0?1:0),d=r.low=d+D,r.high=f+P+(d>>>0<D>>>0?1:0),p=n.low=p+I,n.high=g+T+(p>>>0<I>>>0?1:0),v=s.low=v+B,s.high=y+k+(v>>>0<B>>>0?1:0),m=a.low=m+R,a.high=b+H+(m>>>0<R>>>0?1:0),w=o.low=w+N,o.high=S+O+(w>>>0<N>>>0?1:0),x=h.low=x+L,h.high=F+_+(x>>>0<L>>>0?1:0),E=u.low=E+M,u.high=j+V+(E>>>0<M>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(r+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=i._createHelper(s),e.HmacSHA512=i._createHmacHelper(s)}(),$O=w,_O=(cP=$O.x64).Word,aP=cP.WordArray,bP=(cP=$O.algo).SHA512,cP=cP.SHA384=bP.extend({_doReset:function(){this._hash=new aP.init([new _O.init(3418070365,3238371032),new _O.init(1654270250,914150663),new _O.init(2438529370,812702999),new _O.init(355462360,4144912697),new _O.init(1731405415,4290775857),new _O.init(2394180231,1750603025),new _O.init(3675008525,1694076839),new _O.init(1203062813,3204075428)])},_doFinalize:function(){var t=bP._doFinalize.call(this);return t.sigBytes-=16,t}}),$O.SHA384=bP._createHelper(cP),$O.HmacSHA384=bP._createHmacHelper(cP),Math,eP=w,fP=(hP=eP.lib).WordArray,gP=hP.Hasher,hP=eP.algo,iP=fP.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),jP=fP.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),kP=fP.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),lP=fP.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),mP=fP.create([0,1518500249,1859775393,2400959708,2840853838]),nP=fP.create([1352829926,1548603684,1836072691,2053994217,0]),hP=hP.RIPEMD160=gP.extend({_doReset:function(){this._hash=fP.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=t[p=e+i];t[p]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var n,s,a,o,h,u,c,l,f,d,g,p=this._hash.words,y=(r=mP.words,nP.words),v=iP.words,b=jP.words,m=kP.words,S=lP.words;for(u=n=p[0],c=s=p[1],l=a=p[2],f=o=p[3],d=h=p[4],i=0;i<80;i+=1)g=n+t[e+v[i]]|0,g=i<16?g+((s^a^o)+r[0]):i<32?g+((s&a|~s&o)+r[1]):i<48?g+(((s|~a)^o)+r[2]):i<64?g+((s&o|a&~o)+r[3]):g+((s^(a|~o))+r[4]),g=(g=(g|=0)<<m[i]|g>>>32-m[i])+h|0,n=h,h=o,o=a<<10|a>>>22,a=s,s=g,g=u+t[e+b[i]]|0,g=i<16?g+((c^(l|~f))+y[0]):i<32?g+((c&f|l&~f)+y[1]):i<48?g+(((c|~l)^f)+y[2]):i<64?g+((c&l|~c&f)+y[3]):g+((c^l^f)+y[4]),g=(g=(g|=0)<<S[i]|g>>>32-S[i])+d|0,u=d,d=f,f=l<<10|l>>>22,l=c,c=g;g=p[1]+a+f|0,p[1]=p[2]+o+d|0,p[2]=p[3]+h+u|0,p[3]=p[4]+n+c|0,p[4]=p[0]+s+l|0,p[0]=g},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;for(e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,i=0;i<5;i++)r=e[i],e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var t=gP.clone.call(this);return t._hash=this._hash.clone(),t}}),eP.RIPEMD160=gP._createHelper(hP),eP.HmacRIPEMD160=gP._createHmacHelper(hP),OP=w,PP=OP.enc.Utf8,OP.algo.HMAC=OP.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=PP.parse(e));var i=t.blockSize,r=4*i;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var n=this._oKey=e.clone(),s=this._iKey=e.clone(),a=n.words,o=s.words,h=0;h<i;h++)a[h]^=1549556828,o[h]^=909522486;n.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}}),cQ=w,dQ=(bQ=cQ.lib).Base,eQ=bQ.WordArray,fQ=(bQ=cQ.algo).HMAC,gQ=bQ.PBKDF2=dQ.extend({cfg:dQ.extend({keySize:4,hasher:bQ.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var i=this.cfg,r=fQ.create(i.hasher,t),n=eQ.create(),s=eQ.create([1]),a=n.words,o=s.words,h=i.keySize;for(i=i.iterations;a.length<h;){var u=r.update(e).finalize(s);r.reset();for(var c=u.words,l=c.length,f=u,d=1;d<i;d++){f=r.finalize(f),r.reset();for(var g=f.words,p=0;p<l;p++)c[p]^=g[p]}n.concat(u),o[0]++}return n.sigBytes=4*h,n}}),cQ.PBKDF2=function(t,e,i){return gQ.create(i).compute(t,e)};var va,ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ob="=";function Bc(t){var e,i,r="";for(e=0;e+3<=t.length;e+=3)i=parseInt(t.substring(e,e+3),16),r+=ma.charAt(i>>6)+ma.charAt(63&i);if(e+1==t.length?(i=parseInt(t.substring(e,e+1),16),r+=ma.charAt(i<<2)):e+2==t.length&&(i=parseInt(t.substring(e,e+2),16),r+=ma.charAt(i>>2)+ma.charAt((3&i)<<4)),ob)for(;0<(3&r.length);)r+=ob;return r}function ab(t){var e,i,r,n="",s=0;for(e=0;e<t.length&&t.charAt(e)!=ob;++e)(r=ma.indexOf(t.charAt(e)))<0||(s=0==s?(n+=O(r>>2),i=3&r,1):1==s?(n+=O(i<<2|r>>4),i=15&r,2):2==s?(n+=O(i),n+=O(r>>2),i=3&r,3):(n+=O(i<<2|r>>4),n+=O(15&r),0));return 1==s&&(n+=O(i<<2)),n}var Ag=0xdeadbeefcafe,wc=15715070==(16777215&Ag);function k(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function m(){return new k(null)}function Eg(t,e,i,r,n,s){for(;0<=--s;){var a=e*this[t++]+i[r]+n;n=Math.floor(a/67108864),i[r++]=67108863&a}return n}function Fg(t,e,i,r,n,s){for(var a=32767&e,o=e>>15;0<=--s;){var h=32767&this[t],u=this[t++]>>15,c=o*h+u*a;n=((h=a*h+((32767&c)<<15)+i[r]+(1073741823&n))>>>30)+(c>>>15)+o*u+(n>>>30),i[r++]=1073741823&h}return n}function Gg(t,e,i,r,n,s){for(var a=16383&e,o=e>>14;0<=--s;){var h=16383&this[t],u=this[t++]>>14,c=o*h+u*a;n=((h=a*h+((16383&c)<<14)+i[r]+n)>>28)+(c>>14)+o*u,i[r++]=268435455&h}return n}va=wc&&"Microsoft Internet Explorer"==oa.appName?(k.prototype.am=Fg,30):wc&&"Netscape"!=oa.appName?(k.prototype.am=Eg,26):(k.prototype.am=Gg,28),k.prototype.DB=va,k.prototype.DM=(1<<va)-1,k.prototype.DV=1<<va;var gb=52;k.prototype.FV=Math.pow(2,gb),k.prototype.F1=gb-va,k.prototype.F2=2*va-gb;var ib,r,Kg="0123456789abcdefghijklmnopqrstuvwxyz",Da=new Array;for(ib="0".charCodeAt(0),r=0;r<=9;++r)Da[ib++]=r;for(ib="a".charCodeAt(0),r=10;r<36;++r)Da[ib++]=r;for(ib="A".charCodeAt(0),r=10;r<36;++r)Da[ib++]=r;function O(t){return Kg.charAt(t)}function gc(t,e){var i=Da[t.charCodeAt(e)];return null==i?-1:i}function Og(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function Pg(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function U(t){var e=m();return e.fromInt(t),e}function Rg(t,e){var i;if(16==e)i=4;else if(8==e)i=3;else if(256==e)i=8;else if(2==e)i=1;else if(32==e)i=5;else{if(4!=e)return void this.fromRadix(t,e);i=2}this.t=0,this.s=0;for(var r=t.length,n=!1,s=0;0<=--r;){var a=8==i?255&t[r]:gc(t,r);a<0?"-"==t.charAt(r)&&(n=!0):(n=!1,0==s?this[this.t++]=a:s+i>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=i)>=this.DB&&(s-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,0<s&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&k.ZERO.subTo(this,this)}function Sg(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t}function Tg(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,n=!1,s="",a=this.t,o=this.DB-a*this.DB%e;if(0<a--)for(o<this.DB&&0<(i=this[a]>>o)&&(n=!0,s=O(i));0<=a;)o<e?(i=(this[a]&(1<<o)-1)<<e-o,i|=this[--a]>>(o+=this.DB-e)):(i=this[a]>>(o-=e)&r,o<=0&&(o+=this.DB,--a)),0<i&&(n=!0),n&&(s+=O(i));return n?s:"0"}function Ug(){var t=m();return k.ZERO.subTo(this,t),t}function Vg(){return this.s<0?this.negate():this}function Wg(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(0!=(e=i-t.t))return this.s<0?-e:e;for(;0<=--i;)if(0!=(e=this[i]-t[i]))return e;return 0}function Ea(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function Yg(){return this.t<=0?0:this.DB*(this.t-1)+Ea(this[this.t-1]^this.s&this.DM)}function Zg(t,e){var i;for(i=this.t-1;0<=i;--i)e[i+t]=this[i];for(i=t-1;0<=i;--i)e[i]=0;e.t=this.t+t,e.s=this.s}function $g(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s}function _g(t,e){var i,r=t%this.DB,n=this.DB-r,s=(1<<n)-1,a=Math.floor(t/this.DB),o=this.s<<r&this.DM;for(i=this.t-1;0<=i;--i)e[i+a+1]=this[i]>>n|o,o=(this[i]&s)<<r;for(i=a-1;0<=i;--i)e[i]=0;e[a]=o,e.t=this.t+a+1,e.s=this.s,e.clamp()}function ah(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)e.t=0;else{var r=t%this.DB,n=this.DB-r,s=(1<<r)-1;e[0]=this[i]>>r;for(var a=i+1;a<this.t;++a)e[a-i-1]|=(this[a]&s)<<n,e[a-i]=this[a]>>r;0<r&&(e[this.t-i-1]|=(this.s&s)<<n),e.t=this.t-i,e.clamp()}}function bh(t,e){for(var i=0,r=0,n=Math.min(t.t,this.t);i<n;)r+=this[i]-t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r-=t[i],e[i++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[i++]=this.DV+r:0<r&&(e[i++]=r),e.t=i,e.clamp()}function jd(t,e){var i=this.abs(),r=t.abs(),n=i.t;for(e.t=n+r.t;0<=--n;)e[n]=0;for(n=0;n<r.t;++n)e[n+i.t]=i.am(0,r[n],e,n,0,i.t);e.s=0,e.clamp(),this.s!=t.s&&k.ZERO.subTo(e,e)}function dh(t){for(var e=this.abs(),i=t.t=2*e.t;0<=--i;)t[i]=0;for(i=0;i<e.t-1;++i){var r=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,r,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()}function eh(t,e,i){var r=t.abs();if(!(r.t<=0)){var n=this.abs();if(n.t<r.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=m());var s=m(),a=this.s,o=t.s,h=this.DB-Ea(r[r.t-1]);0<h?(r.lShiftTo(h,s),n.lShiftTo(h,i)):(r.copyTo(s),n.copyTo(i));var u=s.t,c=s[u-1];if(0!=c){var l=c*(1<<this.F1)+(1<u?s[u-2]>>this.F2:0),f=this.FV/l,d=(1<<this.F1)/l,g=1<<this.F2,p=i.t,y=p-u,v=null==e?m():e;for(s.dlShiftTo(y,v),0<=i.compareTo(v)&&(i[i.t++]=1,i.subTo(v,i)),k.ONE.dlShiftTo(u,v),v.subTo(s,s);s.t<u;)s[s.t++]=0;for(;0<=--y;){var b=i[--p]==c?this.DM:Math.floor(i[p]*f+(i[p-1]+g)*d);if((i[p]+=s.am(0,b,i,y,0,u))<b)for(s.dlShiftTo(y,v),i.subTo(v,i);i[p]<--b;)i.subTo(v,i)}null!=e&&(i.drShiftTo(u,e),a!=o&&k.ZERO.subTo(e,e)),i.t=u,i.clamp(),0<h&&i.rShiftTo(h,i),a<0&&k.ZERO.subTo(i,i)}}}function fh(t){var e=m();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(k.ZERO)&&t.subTo(e,e),e}function da(t){this.m=t}function hh(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t}function ih(t){return t}function jh(t){t.divRemTo(this.m,null,t)}function kh(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function lh(t,e){t.squareTo(e),this.reduce(e)}function mh(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e}function ca(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function oh(t){var e=m();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(k.ZERO)&&this.m.subTo(e,e),e}function ph(t){var e=m();return t.copyTo(e),this.reduce(e),e}function qh(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],r=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)}function rh(t,e){t.squareTo(e),this.reduce(e)}function sh(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function th(){return 0==(0<this.t?1&this[0]:this.s)}function uh(t,e){if(4294967295<t||t<1)return k.ONE;var i=m(),r=m(),n=e.convert(this),s=Ea(t)-1;for(n.copyTo(i);0<=--s;)if(e.sqrTo(i,r),0<(t&1<<s))e.mulTo(r,n,i);else{var a=i;i=r,r=a}return e.revert(i)}function vh(t,e){var i;return i=t<256||e.isEven()?new da(e):new ca(e),this.exp(t,i)}function wh(){var t=m();return this.copyTo(t),t}function xh(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function yh(){return 0==this.t?this.s:this[0]<<24>>24}function zh(){return 0==this.t?this.s:this[0]<<16>>16}function Ah(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Bh(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Ch(t){if(null==t&&(t=10),0==this.signum()||t<2||36<t)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),r=U(i),n=m(),s=m(),a="";for(this.divRemTo(r,n,s);0<n.signum();)a=(i+s.intValue()).toString(t).substr(1)+a,n.divRemTo(r,n,s);return s.intValue().toString(t)+a}function Dh(t,e){this.fromInt(0),null==e&&(e=10);for(var i=this.chunkSize(e),r=Math.pow(e,i),n=!1,s=0,a=0,o=0;o<t.length;++o){var h=gc(t,o);h<0?"-"==t.charAt(o)&&0==this.signum()&&(n=!0):(a=e*a+h,++s>=i&&(this.dMultiply(r),this.dAddOffset(a,0),a=s=0))}0<s&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),n&&k.ZERO.subTo(this,this)}function Eh(t,e,i){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(k.ONE.shiftLeft(t-1),ub,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(k.ONE.shiftLeft(t-1),this);else{var r=new Array,n=7&t;r.length=1+(t>>3),e.nextBytes(r),0<n?r[0]&=(1<<n)-1:r[0]=0,this.fromString(r,256)}}function Fh(){var t=this.t,e=new Array;e[0]=this.s;var i,r=this.DB-t*this.DB%8,n=0;if(0<t--)for(r<this.DB&&(i=this[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);0<=t;)r<8?(i=(this[t]&(1<<r)-1)<<8-r,i|=this[--t]>>(r+=this.DB-8)):(i=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==n&&(128&this.s)!=(128&i)&&++n,(0<n||i!=this.s)&&(e[n++]=i);return e}function Gh(t){return 0==this.compareTo(t)}function Hh(t){return this.compareTo(t)<0?this:t}function Ih(t){return 0<this.compareTo(t)?this:t}function Jh(t,e,i){var r,n,s=Math.min(t.t,this.t);for(r=0;r<s;++r)i[r]=e(this[r],t[r]);if(t.t<this.t){for(n=t.s&this.DM,r=s;r<this.t;++r)i[r]=e(this[r],n);i.t=this.t}else{for(n=this.s&this.DM,r=s;r<t.t;++r)i[r]=e(n,t[r]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()}function Kh(t,e){return t&e}function Lh(t){var e=m();return this.bitwiseTo(t,Kh,e),e}function ub(t,e){return t|e}function Nh(t){var e=m();return this.bitwiseTo(t,ub,e),e}function $b(t,e){return t^e}function Ph(t){var e=m();return this.bitwiseTo(t,$b,e),e}function Ub(t,e){return t&~e}function Rh(t){var e=m();return this.bitwiseTo(t,Ub,e),e}function Sh(){for(var t=m(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function Th(t){var e=m();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Uh(t){var e=m();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Vh(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function Wh(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+Vh(this[t]);return this.s<0?this.t*this.DB:-1}function Xh(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function Yh(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=Xh(this[i]^e);return t}function Zh(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function $h(t,e){var i=k.ONE.shiftLeft(t);return this.bitwiseTo(i,e,i),i}function _h(t){return this.changeBit(t,ub)}function ai(t){return this.changeBit(t,Ub)}function bi(t){return this.changeBit(t,$b)}function ci(t,e){for(var i=0,r=0,n=Math.min(t.t,this.t);i<n;)r+=this[i]+t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r+=t[i],e[i++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,0<r?e[i++]=r:r<-1&&(e[i++]=this.DV+r),e.t=i,e.clamp()}function di(t){var e=m();return this.addTo(t,e),e}function ei(t){var e=m();return this.subTo(t,e),e}function fi(t){var e=m();return this.multiplyTo(t,e),e}function gi(){var t=m();return this.squareTo(t),t}function hi(t){var e=m();return this.divRemTo(t,e,null),e}function ii(t){var e=m();return this.divRemTo(t,null,e),e}function ji(t){var e=m(),i=m();return this.divRemTo(t,e,i),new Array(e,i)}function ki(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function li(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function ua(){}function Qb(t){return t}function oi(t,e,i){t.multiplyTo(e,i)}function pi(t,e){t.squareTo(e)}function qi(t){return this.exp(t,new ua)}function ri(t,e,i){var r,n=Math.min(this.t+t.t,e);for(i.s=0,i.t=n;0<n;)i[--n]=0;for(r=i.t-this.t;n<r;++n)i[n+this.t]=this.am(0,t[n],i,n,0,this.t);for(r=Math.min(t.t,e);n<r;++n)this.am(0,t[n],i,n,0,e-n);i.clamp()}function si(t,e,i){--e;var r=i.t=this.t+t.t-e;for(i.s=0;0<=--r;)i[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)i[this.t+r-e]=this.am(e-r,t[r],i,0,0,this.t+r-e);i.clamp(),i.drShiftTo(1,i)}function ea(t){this.r2=m(),this.q3=m(),k.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function ui(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=m();return t.copyTo(e),this.reduce(e),e}function vi(t){return t}function wi(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);0<=t.compareTo(this.m);)t.subTo(this.m,t)}function xi(t,e){t.squareTo(e),this.reduce(e)}function yi(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function zi(t,e){var i,r,n=t.bitLength(),s=U(1);if(n<=0)return s;i=n<18?1:n<48?3:n<144?4:n<768?5:6,r=n<8?new da(e):e.isEven()?new ea(e):new ca(e);var a=new Array,o=3,h=i-1,u=(1<<i)-1;if(a[1]=r.convert(this),1<i){var c=m();for(r.sqrTo(a[1],c);o<=u;)a[o]=m(),r.mulTo(c,a[o-2],a[o]),o+=2}var l,f,d=t.t-1,g=!0,p=m();for(n=Ea(t[d])-1;0<=d;){for(h<=n?l=t[d]>>n-h&u:(l=(t[d]&(1<<n+1)-1)<<h-n,0<d&&(l|=t[d-1]>>this.DB+n-h)),o=i;0==(1&l);)l>>=1,--o;if((n-=o)<0&&(n+=this.DB,--d),g)a[l].copyTo(s),g=!1;else{for(;1<o;)r.sqrTo(s,p),r.sqrTo(p,s),o-=2;0<o?r.sqrTo(s,p):(f=s,s=p,p=f),r.mulTo(p,a[l],s)}for(;0<=d&&0==(t[d]&1<<n);)r.sqrTo(s,p),f=s,s=p,p=f,--n<0&&(n=this.DB-1,--d)}return r.revert(s)}function Ai(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var r=e;e=i,i=r}var n=e.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),0<s&&(e.rShiftTo(s,e),i.rShiftTo(s,i));0<e.signum();)0<(n=e.getLowestSetBit())&&e.rShiftTo(n,e),0<(n=i.getLowestSetBit())&&i.rShiftTo(n,i),0<=e.compareTo(i)?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return 0<s&&i.lShiftTo(s,i),i}function Bi(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(0<this.t)if(0==e)i=this[0]%t;else for(var r=this.t-1;0<=r;--r)i=(e*i+this[r])%t;return i}function Ci(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return k.ZERO;for(var i=t.clone(),r=this.clone(),n=U(1),s=U(0),a=U(0),o=U(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),e?(n.isEven()&&s.isEven()||(n.addTo(this,n),s.subTo(t,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),e?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);0<=i.compareTo(r)?(i.subTo(r,i),e&&n.subTo(a,n),s.subTo(o,s)):(r.subTo(i,r),e&&a.subTo(n,a),o.subTo(s,o))}return 0!=r.compareTo(k.ONE)?k.ZERO:0<=o.compareTo(t)?o.subtract(t):o.signum()<0?(o.addTo(t,o),o.signum()<0?o.add(t):o):o}da.prototype.convert=hh,da.prototype.revert=ih,da.prototype.reduce=jh,da.prototype.mulTo=kh,da.prototype.sqrTo=lh,ca.prototype.convert=oh,ca.prototype.revert=ph,ca.prototype.reduce=qh,ca.prototype.mulTo=sh,ca.prototype.sqrTo=rh,k.prototype.copyTo=Og,k.prototype.fromInt=Pg,k.prototype.fromString=Rg,k.prototype.clamp=Sg,k.prototype.dlShiftTo=Zg,k.prototype.drShiftTo=$g,k.prototype.lShiftTo=_g,k.prototype.rShiftTo=ah,k.prototype.subTo=bh,k.prototype.multiplyTo=jd,k.prototype.squareTo=dh,k.prototype.divRemTo=eh,k.prototype.invDigit=mh,k.prototype.isEven=th,k.prototype.exp=uh,k.prototype.toString=Tg,k.prototype.negate=Ug,k.prototype.abs=Vg,k.prototype.compareTo=Wg,k.prototype.bitLength=Yg,k.prototype.mod=fh,k.prototype.modPowInt=vh,k.ZERO=U(0),k.ONE=U(1),ua.prototype.convert=Qb,ua.prototype.revert=Qb,ua.prototype.mulTo=oi,ua.prototype.sqrTo=pi,ea.prototype.convert=ui,ea.prototype.revert=vi,ea.prototype.reduce=wi,ea.prototype.mulTo=yi,ea.prototype.sqrTo=xi;var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ei=(1<<26)/l[l.length-1];function Fi(t){var e,i=this.abs();if(1==i.t&&i[0]<=l[l.length-1]){for(e=0;e<l.length;++e)if(i[0]==l[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<l.length;){for(var r=l[e],n=e+1;n<l.length&&r<Ei;)r*=l[n++];for(r=i.modInt(r);e<n;)if(r%l[e++]==0)return!1}return i.millerRabin(t)}function Gi(t){var e=this.subtract(k.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var r=e.shiftRight(i);(t=t+1>>1)>l.length&&(t=l.length);for(var n=m(),s=0;s<t;++s){n.fromInt(l[Math.floor(Math.random()*l.length)]);var a=n.modPow(r,this);if(0!=a.compareTo(k.ONE)&&0!=a.compareTo(e)){for(var o=1;o++<i&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(k.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0}function Va(){this.i=0,this.j=0,this.S=new Array}function Ii(t){var e,i,r;for(e=0;e<256;++e)this.S[e]=e;for(e=i=0;e<256;++e)i=i+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[i],this.S[i]=r;this.i=0,this.j=0}function Ji(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function Ki(){return new Va}k.prototype.chunkSize=Ah,k.prototype.toRadix=Ch,k.prototype.fromRadix=Dh,k.prototype.fromNumber=Eh,k.prototype.bitwiseTo=Jh,k.prototype.changeBit=$h,k.prototype.addTo=ci,k.prototype.dMultiply=ki,k.prototype.dAddOffset=li,k.prototype.multiplyLowerTo=ri,k.prototype.multiplyUpperTo=si,k.prototype.modInt=Bi,k.prototype.millerRabin=Gi,k.prototype.clone=wh,k.prototype.intValue=xh,k.prototype.byteValue=yh,k.prototype.shortValue=zh,k.prototype.signum=Bh,k.prototype.toByteArray=Fh,k.prototype.equals=Gh,k.prototype.min=Hh,k.prototype.max=Ih,k.prototype.and=Lh,k.prototype.or=Nh,k.prototype.xor=Ph,k.prototype.andNot=Rh,k.prototype.not=Sh,k.prototype.shiftLeft=Th,k.prototype.shiftRight=Uh,k.prototype.getLowestSetBit=Wh,k.prototype.bitCount=Yh,k.prototype.testBit=Zh,k.prototype.setBit=_h,k.prototype.clearBit=ai,k.prototype.flipBit=bi,k.prototype.add=di,k.prototype.subtract=ei,k.prototype.multiply=fi,k.prototype.divide=hi,k.prototype.remainder=ii,k.prototype.divideAndRemainder=ji,k.prototype.modPow=zi,k.prototype.modInverse=Ci,k.prototype.pow=qi,k.prototype.gcd=Ai,k.prototype.isProbablePrime=Fi,k.prototype.square=gi,Va.prototype.init=Ii,Va.prototype.next=Ji;var bd,o,n,bb=256;function Pi(t){o[n++]^=255&t,o[n++]^=t>>8&255,o[n++]^=t>>16&255,o[n++]^=t>>24&255,bb<=n&&(n-=bb)}function Lc(){Pi((new Date).getTime())}if(null==o){var T;if(o=new Array,n=0,void 0!==ga&&(void 0!==ga.crypto||void 0!==ga.msCrypto)){var zc=ga.crypto||ga.msCrypto;if(zc.getRandomValues){var yc=new Uint8Array(32);for(zc.getRandomValues(yc),T=0;T<32;++T)o[n++]=yc[T]}else if("Netscape"==oa.appName&&oa.appVersion<"5"){var tc=ga.crypto.random(32);for(T=0;T<tc.length;++T)o[n++]=255&tc.charCodeAt(T)}}for(;n<bb;)T=Math.floor(65536*Math.random()),o[n++]=T>>>8,o[n++]=255&T;n=0,Lc()}function Vi(){if(null==bd){for(Lc(),(bd=Ki()).init(o),n=0;n<o.length;++n)o[n]=0;n=0}return bd.next()}function Wi(t){var e;for(e=0;e<t.length;++e)t[e]=Vi()}function ba(){}function g(t,e){return new k(t,e)}function Zi(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var i=new Array,r=t.length-1;0<=r&&0<e;){var n=t.charCodeAt(r--);n<128?i[--e]=n:127<n&&n<2048?(i[--e]=63&n|128,i[--e]=n>>6|192):(i[--e]=63&n|128,i[--e]=n>>6&63|128,i[--e]=n>>12|224)}i[--e]=0;for(var s=new ba,a=new Array;2<e;){for(a[0]=0;0==a[0];)s.nextBytes(a);i[--e]=a[0]}return i[--e]=2,i[--e]=0,new k(i)}function oc(t,e,i){for(var r="",n=0;r.length<e;)r+=i(String.fromCharCode.apply(String,t.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return r}function _i(t,e,i,r){var n=j.crypto.MessageDigest,s=j.crypto.Util,a=null;if(i||(i="sha1"),"string"==typeof i&&(a=n.getCanonicalAlgName(i),r=n.getHashLength(a),i=function(t){return W(s.hashHex(F(t),a))}),t.length+2*r+2>e)throw"Message too long for RSA";var o,h="";for(o=0;o<e-t.length-2*r-2;o+=1)h+="\0";var u=i("")+h+""+t,c=new Array(r);(new ba).nextBytes(c);var l=oc(c,u.length,i),f=[];for(o=0;o<u.length;o+=1)f[o]=u.charCodeAt(o)^l.charCodeAt(o);var d=oc(f,c.length,i),g=[0];for(o=0;o<c.length;o+=1)g[o+1]=c[o]^d.charCodeAt(o);return new k(g.concat(f))}function z(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function bj(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&0<t.length&&0<e.length))throw"Invalid RSA public key";this.n=g(t,16),this.e=parseInt(e,16)}}function cj(t){return t.modPowInt(this.e,this.n)}function dj(t){var e=Zi(t,this.n.bitLength()+7>>3);if(null==e)return null;var i=this.doPublic(e);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r}function ej(t,e,i){var r=_i(t,this.n.bitLength()+7>>3,e,i);if(null==r)return null;var n=this.doPublic(r);if(null==n)return null;var s=n.toString(16);return 0==(1&s.length)?s:"0"+s}function fj(t,e){for(var i=t.toByteArray(),r=0;r<i.length&&0==i[r];)++r;if(i.length-r!=e-1||2!=i[r])return null;for(++r;0!=i[r];)if(++r>=i.length)return null;for(var n="";++r<i.length;){var s=255&i[r];s<128?n+=String.fromCharCode(s):191<s&&s<224?(n+=String.fromCharCode((31&s)<<6|63&i[r+1]),++r):(n+=String.fromCharCode((15&s)<<12|(63&i[r+1])<<6|63&i[r+2]),r+=2)}return n}function mc(t,e,i){for(var r="",n=0;r.length<e;)r+=i(t+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])),n+=1;return r}function hj(t,e,i,r){var n=j.crypto.MessageDigest,s=j.crypto.Util,a=null;for(i||(i="sha1"),"string"==typeof i&&(a=n.getCanonicalAlgName(i),r=n.getHashLength(a),i=function(t){return W(s.hashHex(F(t),a))}),t=t.toByteArray(),o=0;o<t.length;o+=1)t[o]&=255;for(;t.length<e;)t.unshift(0);if((t=String.fromCharCode.apply(String,t)).length<2*r+2)throw"Cipher too short";var o,h=t.substr(1,r),u=t.substr(r+1),c=mc(u,r,i),l=[];for(o=0;o<h.length;o+=1)l[o]=h.charCodeAt(o)^c.charCodeAt(o);var f=mc(String.fromCharCode.apply(String,l),t.length-r,i),d=[];for(o=0;o<u.length;o+=1)d[o]=u.charCodeAt(o)^f.charCodeAt(o);if((d=String.fromCharCode.apply(String,d)).substr(0,r)!==i(""))throw"Hash mismatch";var g=(d=d.substr(r)).indexOf("");if((-1!=g?d.substr(0,g).lastIndexOf("\0"):-1)+1!=g)throw"Malformed data";return d.substr(g+1)}function ij(t,e,i){if(this.isPrivate=!0,"string"!=typeof t)this.n=t,this.e=e,this.d=i;else{if(!(null!=t&&null!=e&&0<t.length&&0<e.length))throw"Invalid RSA private key";this.n=g(t,16),this.e=parseInt(e,16),this.d=g(i,16)}}function jj(t,e,i,r,n,s,a,o){if(this.isPrivate=!0,this.isPublic=!1,null==t)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=t&&null!=e&&0<t.length&&0<e.length))throw"Invalid RSA private key in RSASetPrivateEx";this.n=g(t,16),this.e=parseInt(e,16),this.d=g(i,16),this.p=g(r,16),this.q=g(n,16),this.dmp1=g(s,16),this.dmq1=g(a,16),this.coeff=g(o,16)}function kj(t,e){var i=new ba,r=t>>1;this.e=parseInt(e,16);for(var n=new k(e,16);;){for(;this.p=new k(t-r,1,i),0!=this.p.subtract(k.ONE).gcd(n).compareTo(k.ONE)||!this.p.isProbablePrime(10););for(;this.q=new k(r,1,i),0!=this.q.subtract(k.ONE).gcd(n).compareTo(k.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(k.ONE),o=this.q.subtract(k.ONE),h=a.multiply(o);if(0==h.gcd(n).compareTo(k.ONE)){this.n=this.p.multiply(this.q),this.d=n.modInverse(h),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(o),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0}function lj(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)}function mj(t){var e=g(t,16),i=this.doPrivate(e);return null==i?null:fj(i,this.n.bitLength()+7>>3)}function nj(t,e,i){var r=g(t,16),n=this.doPrivate(r);return null==n?null:hj(n,this.n.bitLength()+7>>3,e,i)}function e(t,e){this.x=e,this.q=t}function pj(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)}function qj(){return this.x}function rj(){return new e(this.q,this.x.negate().mod(this.q))}function sj(t){return new e(this.q,this.x.add(t.toBigInteger()).mod(this.q))}function tj(t){return new e(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))}function uj(t){return new e(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))}function vj(){return new e(this.q,this.x.square().mod(this.q))}function wj(t){return new e(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))}function c(t,e,i,r){this.curve=t,this.x=e,this.y=i,this.z=null==r?k.ONE:r,this.zinv=null}function yj(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function zj(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Aj(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(k.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(k.ZERO))}function Bj(){return null==this.x&&null==this.y||this.z.equals(k.ZERO)&&!this.y.toBigInteger().equals(k.ZERO)}function Cj(){return new c(this.curve,this.x,this.y.negate(),this.z)}function Dj(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),i=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(k.ZERO.equals(i))return k.ZERO.equals(e)?this.twice():this.curve.getInfinity();var r=new k("3"),n=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(t.x.toBigInteger(),t.y.toBigInteger(),i.square()),o=a.multiply(i),h=n.multiply(a),u=e.square().multiply(this.z),l=u.subtract(h.shiftLeft(1)).multiply(t.z).subtract(o).multiply(i).mod(this.curve.q),f=h.multiply(r).multiply(e).subtract(s.multiply(o)).subtract(u.multiply(e)).multiply(t.z).add(e.multiply(o)).mod(this.curve.q),d=o.multiply(this.z).multiply(t.z).mod(this.curve.q);return new c(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(f),d)}function Ej(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new k("3"),e=this.x.toBigInteger(),i=this.y.toBigInteger(),r=i.multiply(this.z),n=r.multiply(i).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=e.square().multiply(t);k.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s)));var o=(a=a.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.q),h=a.multiply(t).multiply(e).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(a.square().multiply(a)).mod(this.curve.q),u=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new c(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(h),u)}function Fj(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,i=t,r=i.multiply(new k("3")),n=this.negate(),s=this;for(e=r.bitLength()-2;0<e;--e){s=s.twice();var a=r.testBit(e);a!=i.testBit(e)&&(s=s.add(a?this:n))}return s}function Gj(t,e,i){var r;r=t.bitLength()>i.bitLength()?t.bitLength()-1:i.bitLength()-1;for(var n=this.curve.getInfinity(),s=this.add(e);0<=r;)n=n.twice(),t.testBit(r)?n=i.testBit(r)?n.add(s):n.add(this):i.testBit(r)&&(n=n.add(e)),--r;return n}function P(t,e,i){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(i),this.infinity=new c(this,null,null)}function Ij(){return this.q}function Jj(){return this.a}function Kj(){return this.b}function Lj(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}function Mj(){return this.infinity}function Nj(t){return new e(this.q,t)}function Oj(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,i=t.substr(2,e),r=t.substr(e+2,e);return new c(this,this.fromBigInteger(new k(i,16)),this.fromBigInteger(new k(r,16)));default:return null}}ba.prototype.nextBytes=Wi,z.prototype.doPublic=cj,z.prototype.setPublic=bj,z.prototype.encrypt=dj,z.prototype.encryptOAEP=ej,z.prototype.type="RSA",z.prototype.doPrivate=lj,z.prototype.setPrivate=ij,z.prototype.setPrivateEx=jj,z.prototype.generate=kj,z.prototype.decrypt=mj,z.prototype.decryptOAEP=nj,e.prototype.equals=pj,e.prototype.toBigInteger=qj,e.prototype.negate=rj,e.prototype.add=sj,e.prototype.subtract=tj,e.prototype.multiply=uj,e.prototype.square=vj,e.prototype.divide=wj,c.prototype.getX=yj,c.prototype.getY=zj,c.prototype.equals=Aj,c.prototype.isInfinity=Bj,c.prototype.negate=Cj,c.prototype.add=Dj,c.prototype.twice=Ej,c.prototype.multiply=Fj,c.prototype.multiplyTwo=Gj,P.prototype.getQ=Ij,P.prototype.getA=Jj,P.prototype.getB=Kj,P.prototype.equals=Lj,P.prototype.getInfinity=Mj,P.prototype.fromBigInteger=Nj,P.prototype.decodePointHex=Oj,e.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},c.prototype.getEncoded=function(t){var e=function(t,e){var i=t.toByteArrayUnsigned();if(e<i.length)i=i.slice(i.length-e);else for(;e>i.length;)i.unshift(0);return i},i=this.getX().toBigInteger(),r=this.getY().toBigInteger(),n=e(i,32);return t?r.isEven()?n.unshift(2):n.unshift(3):(n.unshift(4),n=n.concat(e(r,32))),n},c.decodeFrom=function(t,e){e[0];var i=e.length-1,r=e.slice(1,1+i/2),n=e.slice(1+i/2,1+i);r.unshift(0),n.unshift(0);var s=new k(r),a=new k(n);return new c(t,t.fromBigInteger(s),t.fromBigInteger(a))},c.decodeFromHex=function(t,e){e.substr(0,2);var i=e.length-2,r=e.substr(2,i/2),n=e.substr(2+i/2,i/2),s=new k(r,16),a=new k(n,16);return new c(t,t.fromBigInteger(s),t.fromBigInteger(a))},c.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),i=t.y.subtract(this.y).divide(e),r=i.square().subtract(this.x).subtract(t.x),n=i.multiply(this.x.subtract(r)).subtract(this.y);return new c(this.curve,r,n)},c.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(k.valueOf(2)),e=this.curve.fromBigInteger(k.valueOf(3)),i=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),r=i.square().subtract(this.x.multiply(t)),n=i.multiply(this.x.subtract(r)).subtract(this.y);return new c(this.curve,r,n)},c.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,i=t,r=i.multiply(new k("3")),n=this.negate(),s=this;for(e=r.bitLength()-2;0<e;--e){s=s.twice();var a=r.testBit(e);a!=i.testBit(e)&&(s=s.add2D(a?this:n))}return s},c.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),i=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),n=this.curve.getQ(),s=e.multiply(e).mod(n),a=t.multiply(t).multiply(t).add(i.multiply(t)).add(r).mod(n);return s.equals(a)},c.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},c.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),i=this.getY().toBigInteger();if(e.compareTo(k.ONE)<0||0<e.compareTo(t.subtract(k.ONE)))throw new Error("x coordinate out of bounds");if(i.compareTo(k.ONE)<0||0<i.compareTo(t.subtract(k.ONE)))throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ad=function(){var f=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),d=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function g(t,e,i){return e?r[e]:String.fromCharCode(parseInt(i,16))}var p=new String(""),y=(Object,Array,Object.hasOwnProperty);return function(t,o){var e,i,r=t.match(f),n=r[0],s=!1;"{"===n?e={}:"["===n?e=[]:(e=[],s=!0);for(var a=[e],h=1-s,u=r.length;h<u;++h){var c;switch((n=r[h]).charCodeAt(0)){default:(c=a[0])[i||c.length]=+n,i=void 0;break;case 34:if(-1!==(n=n.substring(1,n.length-1)).indexOf("\\")&&(n=n.replace(d,g)),c=a[0],!i){if(!(c instanceof Array)){i=n||p;break}i=c.length}c[i]=n,i=void 0;break;case 91:c=a[0],a.unshift(c[i||c.length]=[]),i=void 0;break;case 93:a.shift();break;case 102:(c=a[0])[i||c.length]=!1,i=void 0;break;case 110:(c=a[0])[i||c.length]=null,i=void 0;break;case 116:(c=a[0])[i||c.length]=!0,i=void 0;break;case 123:c=a[0],a.unshift(c[i||c.length]={}),i=void 0;break;case 125:a.shift()}}if(s){if(1!==a.length)throw new Error;e=e[0]}else if(a.length)throw new Error;if(o){var l=function(t,e){var i=t[e];if(i&&"object"==typeof i){var r=null;for(var n in i)if(y.call(i,n)&&i!==t){var s=l(i,n);void 0!==s?i[n]=s:(r||(r=[]),r.push(n))}if(r)for(var a=r.length;0<=--a;)delete i[r[a]]}return o.call(t,e,i)};e=l({"":e},"")}return e}}();void 0!==j&&j||(j={}),void 0!==j.asn1&&j.asn1||(j.asn1={}),j.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var i=e.substr(1).length;i%2==1?i+=1:e.match(/^[0-7]/)||(i+=2);for(var r="",n=0;n<i;n++)r+="f";e=new k(r,16).xor(t).add(k.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return A(t,e)},this.newObject=function(t){var e=j.asn1,i=e.DERBoolean,r=e.DERInteger,n=e.DERBitString,s=e.DEROctetString,a=e.DERNull,o=e.DERObjectIdentifier,h=e.DEREnumerated,u=e.DERUTF8String,c=e.DERNumericString,l=e.DERPrintableString,f=e.DERTeletexString,d=e.DERIA5String,g=e.DERUTCTime,p=e.DERGeneralizedTime,y=e.DERSequence,v=e.DERSet,b=e.DERTaggedObject,m=e.ASN1Util.newObject,S=Object.keys(t);if(1!=S.length)throw"key of param shall be only one.";var w=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+w+":"))throw"undefined key: "+w;if("bool"==w)return new i(t[w]);if("int"==w)return new r(t[w]);if("bitstr"==w)return new n(t[w]);if("octstr"==w)return new s(t[w]);if("null"==w)return new a(t[w]);if("oid"==w)return new o(t[w]);if("enum"==w)return new h(t[w]);if("utf8str"==w)return new u(t[w]);if("numstr"==w)return new c(t[w]);if("prnstr"==w)return new l(t[w]);if("telstr"==w)return new f(t[w]);if("ia5str"==w)return new d(t[w]);if("utctime"==w)return new g(t[w]);if("gentime"==w)return new p(t[w]);if("seq"==w){for(var F=t[w],x=[],E=0;E<F.length;E++){var A=m(F[E]);x.push(A)}return new y({array:x})}if("set"==w){for(F=t[w],x=[],E=0;E<F.length;E++)A=m(F[E]),x.push(A);return new v({array:x})}if("tag"==w){var C=t[w];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var P=m(C[2]);return new b({tag:C[0],explicit:C[1],obj:P})}var D={};if(void 0!==C.explicit&&(D.explicit=C.explicit),void 0!==C.tag&&(D.tag=C.tag),void 0===C.obj)throw"obj shall be specified for 'tag'.";return D.obj=m(C.obj),new b(D)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},j.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",i=parseInt(t.substr(0,2),16),r=(e=Math.floor(i/40)+"."+i%40,""),n=2;n<t.length;n+=2){var s=("00000000"+parseInt(t.substr(n,2),16).toString(2)).slice(-8);r+=s.substr(1,7),"0"==s.substr(0,1)&&(e=e+"."+new k(r,2).toString(10),r="")}return e},j.asn1.ASN1Util.oidIntToHex=function(t){var o=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},e=function(t){var e="",i=new k(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var n="",s=0;s<r;s++)n+="0";for(i=n+i,s=0;s<i.length-1;s+=7){var a=i.substr(s,7);s!=i.length-7&&(a="1"+a),e+=o(parseInt(a,2))}return e};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),n=40*parseInt(r[0])+parseInt(r[1]);i+=o(n),r.splice(0,2);for(var s=0;s<r.length;s++)i+=e(r[s]);return i},j.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var i=e.length/2;if(15<i)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+i).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},j.asn1.DERAbstractString=function(t){j.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Pa(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},a.lang.extend(j.asn1.DERAbstractString,j.asn1.ASN1Object),j.asn1.DERAbstractTime=function(t){j.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,i){var r=this.zeroPadding,n=this.localDateToUTC(t),s=String(n.getFullYear());"utc"==e&&(s=s.substr(2,2));var a=s+r(String(n.getMonth()+1),2)+r(String(n.getDate()),2)+r(String(n.getHours()),2)+r(String(n.getMinutes()),2)+r(String(n.getSeconds()),2);if(!0===i){var o=n.getMilliseconds();if(0!=o){var h=r(String(o),3);a=a+"."+(h=h.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=fa(t)},this.setByDateValue=function(t,e,i,r,n,s){var a=new Date(Date.UTC(t,e-1,i,r,n,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},a.lang.extend(j.asn1.DERAbstractTime,j.asn1.ASN1Object),j.asn1.DERAbstractStructured=function(t){j.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},a.lang.extend(j.asn1.DERAbstractStructured,j.asn1.ASN1Object),j.asn1.DERBoolean=function(){j.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},a.lang.extend(j.asn1.DERBoolean,j.asn1.ASN1Object),j.asn1.DERInteger=function(t){j.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=j.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new k(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},a.lang.extend(j.asn1.DERInteger,j.asn1.ASN1Object),j.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=j.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}j.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.hTLV=null,this.isModified=!0,this.hV=i+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var i=0;i<=e;i++)t+="0";var r="";for(i=0;i<t.length-1;i+=8){var n=t.substr(i,8),s=parseInt(n,2).toString(16);1==s.length&&(s="0"+s),r+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",i=0;i<t.length;i++)1==t[i]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},a.lang.extend(j.asn1.DERBitString,j.asn1.ASN1Object),j.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=j.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}j.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},a.lang.extend(j.asn1.DEROctetString,j.asn1.DERAbstractString),j.asn1.DERNull=function(){j.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},a.lang.extend(j.asn1.DERNull,j.asn1.ASN1Object),j.asn1.DERObjectIdentifier=function(t){var o=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},s=function(t){var e="",i=new k(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var n="",s=0;s<r;s++)n+="0";for(i=n+i,s=0;s<i.length-1;s+=7){var a=i.substr(s,7);s!=i.length-7&&(a="1"+a),e+=o(parseInt(a,2))}return e};j.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",i=t.split("."),r=40*parseInt(i[0])+parseInt(i[1]);e+=o(r),i.splice(0,2);for(var n=0;n<i.length;n++)e+=s(i[n]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=j.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},a.lang.extend(j.asn1.DERObjectIdentifier,j.asn1.ASN1Object),j.asn1.DEREnumerated=function(t){j.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=j.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new k(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},a.lang.extend(j.asn1.DEREnumerated,j.asn1.ASN1Object),j.asn1.DERUTF8String=function(t){j.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},a.lang.extend(j.asn1.DERUTF8String,j.asn1.DERAbstractString),j.asn1.DERNumericString=function(t){j.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},a.lang.extend(j.asn1.DERNumericString,j.asn1.DERAbstractString),j.asn1.DERPrintableString=function(t){j.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},a.lang.extend(j.asn1.DERPrintableString,j.asn1.DERAbstractString),j.asn1.DERTeletexString=function(t){j.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},a.lang.extend(j.asn1.DERTeletexString,j.asn1.DERAbstractString),j.asn1.DERIA5String=function(t){j.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},a.lang.extend(j.asn1.DERIA5String,j.asn1.DERAbstractString),j.asn1.DERUTCTime=function(t){j.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=fa(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=fa(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},a.lang.extend(j.asn1.DERUTCTime,j.asn1.DERAbstractTime),j.asn1.DERGeneralizedTime=function(t){j.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=fa(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=fa(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},a.lang.extend(j.asn1.DERGeneralizedTime,j.asn1.DERAbstractTime),j.asn1.DERSequence=function(t){j.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},a.lang.extend(j.asn1.DERSequence,j.asn1.DERAbstractStructured),j.asn1.DERSet=function(t){j.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var i=this.asn1Array[e];t.push(i.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},a.lang.extend(j.asn1.DERSet,j.asn1.DERAbstractStructured),j.asn1.DERTaggedObject=function(t){j.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,i){this.hT=e,this.isExplicit=t,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},a.lang.extend(j.asn1.DERTaggedObject,j.asn1.ASN1Object);var j,Qc,Q,q=new function(){};function Uj(t){for(var e=new Array,i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function eb(t){for(var e="",i=0;i<t.length;i++){var r=t[i].toString(16);1==r.length&&(r="0"+r),e+=r}return e}function fa(t){return eb(Uj(t))}function sc(t){return(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function fb(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function y(t){return t.length%2==1&&(t="0"+t),sc(Bc(t))}function C(t){return ab(fb(t))}function Pa(t){return jc(Eb(t))}function x(t){return decodeURIComponent(Mb(t))}function W(t){for(var e="",i=0;i<t.length-1;i+=2)e+=String.fromCharCode(parseInt(t.substr(i,2),16));return e}function F(t){for(var e="",i=0;i<t.length;i++)e+=("0"+t.charCodeAt(i).toString(16)).slice(-2);return e}function Oc(t){return Bc(t)}function mb(t){var e=Oc(t).replace(/(.{64})/g,"$1\r\n");return e.replace(/\r\n$/,"")}function fk(t){return ab(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function A(t,e){return"-----BEGIN "+e+"-----\r\n"+mb(t)+"\r\n-----END "+e+"-----\r\n"}function G(t,e){if(-1==t.indexOf("-----BEGIN "))throw"can't find PEM header: "+e;return fk(t=void 0!==e?(t=t.replace("-----BEGIN "+e+"-----","")).replace("-----END "+e+"-----",""):(t=t.replace(/-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----/,""))}function ik(t){var e,i,r,n,s,a,o,h,u,c,l;if(l=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return h=l[1],e=parseInt(h),2===h.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),i=parseInt(l[2])-1,r=parseInt(l[3]),n=parseInt(l[4]),s=parseInt(l[5]),a=parseInt(l[6]),o=0,""!==(u=l[7])&&(c=(u.substr(1)+"00").substr(0,3),o=parseInt(c)),Date.UTC(e,i,r,n,s,a,o);throw"unsupported zulu format: "+t}function jk(t){return~~(ik(t)/1e3)}function jc(t){return t.replace(/%/g,"")}function Mb(t){return t.replace(/(..)/g,"%$1")}function mk(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var i=(t=t.toLowerCase()).split(":").length-1;if(i<2)throw e;var r=":".repeat(7-i+2),n=(t=t.replace("::",r)).split(":");if(8!=n.length)throw e;for(var s=0;s<8;s++)n[s]=("0000"+n[s]).slice(-4);return n.join("")}function nk(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var e=(t=t.toLowerCase()).match(/.{1,4}/g),i=0;i<8;i++)e[i]=e[i].replace(/^0+/,""),""==e[i]&&(e[i]="0");var r=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null===r)return t.slice(1,-1);var n="";for(i=0;i<r.length;i++)r[i].length>n.length&&(n=r[i]);return(t=t.replace(n,"::")).slice(1,-1)}function ok(t){var e="malformed hex value";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=t.length)return 32==t.length?nk(t):t;try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}function Eb(t){for(var e=encodeURIComponent(t),i="",r=0;r<e.length;r++)"%"==e[r]?(i+=e.substr(r,3),r+=2):i=i+"%"+fa(e[r]);return i}function Kc(t){return t.length%2==1?"0"+t:"7"<t.substr(0,1)?"00"+t:t}function rk(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map(function(t,e,i){var r=parseInt(t);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(t){throw"malformed integer array string: "+t}}q.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var i=parseInt(t.substr(e+3,1));return 0==i?-1:0<i&&i<10?i+1:-2},q.getL=function(t,e){var i=q.getLblen(t,e);return i<1?"":t.substr(e+2,2*i)},q.getVblen=function(t,e){var i;return""==(i=q.getL(t,e))?-1:("8"===i.substr(0,1)?new k(i.substr(2),16):new k(i,16)).intValue()},q.getVidx=function(t,e){var i=q.getLblen(t,e);return i<0?i:e+2*(i+1)},q.getV=function(t,e){var i=q.getVidx(t,e),r=q.getVblen(t,e);return t.substr(i,2*r)},q.getTLV=function(t,e){return t.substr(e,2)+q.getL(t,e)+q.getV(t,e)},q.getNextSiblingIdx=function(t,e){return q.getVidx(t,e)+2*q.getVblen(t,e)},q.getChildIdx=function(t,e){var i=q,r=new Array,n=i.getVidx(t,e);"03"==t.substr(e,2)?r.push(n+2):r.push(n);for(var s=i.getVblen(t,e),a=n,o=0;;){var h=i.getNextSiblingIdx(t,a);if(null==h||2*s<=h-n)break;if(200<=o)break;r.push(h),a=h,o++}return r},q.getNthChildIdx=function(t,e,i){return q.getChildIdx(t,e)[i]},q.getIdxbyList=function(t,e,i,r){var n,s,a=q;if(0!=i.length)return n=i.shift(),s=a.getChildIdx(t,e),a.getIdxbyList(t,s[n],i,r);if(void 0!==r&&t.substr(e,2)!==r)throw"checking tag doesn't match: "+t.substr(e,2)+"!="+r;return e},q.getTLVbyList=function(t,e,i,r){var n=q,s=n.getIdxbyList(t,e,i);if(void 0===s)throw"can't find nthList object";if(void 0!==r&&t.substr(s,2)!=r)throw"checking tag doesn't match: "+t.substr(s,2)+"!="+r;return n.getTLV(t,s)},q.getVbyList=function(t,e,i,r,n){var s,a,o=q;if(void 0===(s=o.getIdxbyList(t,e,i,r)))throw"can't find nthList object";return a=o.getV(t,s),!0===n&&(a=a.substr(2)),a},q.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},i=[],r=t.substr(0,2),n=parseInt(r,16);i[0]=new String(Math.floor(n/40)),i[1]=new String(n%40);for(var s=t.substr(2),a=[],o=0;o<s.length/2;o++)a.push(parseInt(s.substr(2*o,2),16));var h=[],u="";for(o=0;o<a.length;o++)128&a[o]?u+=e((127&a[o]).toString(2),7):(u+=e((127&a[o]).toString(2),7),h.push(new String(parseInt(u,2))),u="");var c=i.join(".");return 0<h.length&&(c=c+"."+h.join(".")),c},q.dump=function(t,e,i,r){var n=q,s=n.getV,a=n.dump,o=n.getChildIdx,h=t;t instanceof j.asn1.ASN1Object&&(h=t.getEncodedHex());var u=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===i&&(i=0),void 0===r&&(r="");var c=e.ommit_long_octet;if("01"==h.substr(i,2))return"00"==(l=s(h,i))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==h.substr(i,2))return r+"INTEGER "+u(l=s(h,i),c)+"\n";if("03"==h.substr(i,2))return r+"BITSTRING "+u(l=s(h,i),c)+"\n";if("04"==h.substr(i,2)){var l=s(h,i);return n.isASN1HEX(l)?(F=r+"OCTETSTRING, encapsulates\n")+a(l,e,0,r+"  "):r+"OCTETSTRING "+u(l,c)+"\n"}if("05"==h.substr(i,2))return r+"NULL\n";if("06"==h.substr(i,2)){var f=s(h,i),d=j.asn1.ASN1Util.oidHexToInt(f),g=j.asn1.x509.OID.oid2name(d),p=d.replace(/\./g," ");return""!=g?r+"ObjectIdentifier "+g+" ("+p+")\n":r+"ObjectIdentifier ("+p+")\n"}if("0c"==h.substr(i,2))return r+"UTF8String '"+x(s(h,i))+"'\n";if("13"==h.substr(i,2))return r+"PrintableString '"+x(s(h,i))+"'\n";if("14"==h.substr(i,2))return r+"TeletexString '"+x(s(h,i))+"'\n";if("16"==h.substr(i,2))return r+"IA5String '"+x(s(h,i))+"'\n";if("17"==h.substr(i,2))return r+"UTCTime "+x(s(h,i))+"\n";if("18"==h.substr(i,2))return r+"GeneralizedTime "+x(s(h,i))+"\n";if("30"==h.substr(i,2)){if("3000"==h.substr(i,4))return r+"SEQUENCE {}\n";F=r+"SEQUENCE\n";var y=e;if((2==(m=o(h,i)).length||3==m.length)&&"06"==h.substr(m[0],2)&&"04"==h.substr(m[m.length-1],2)){g=n.oidname(s(h,m[0]));var v=JSON.parse(JSON.stringify(e));v.x509ExtName=g,y=v}for(var b=0;b<m.length;b++)F+=a(h,y,m[b],r+"  ");return F}if("31"==h.substr(i,2)){F=r+"SET\n";var m=o(h,i);for(b=0;b<m.length;b++)F+=a(h,e,m[b],r+"  ");return F}var S=parseInt(h.substr(i,2),16);if(0==(128&S))return r+"UNKNOWN("+h.substr(i,2)+") "+s(h,i)+"\n";var w=31&S;if(0==(32&S))return"68747470"==(l=s(h,i)).substr(0,8)&&(l=x(l)),"subjectAltName"===e.x509ExtName&&2==w&&(l=x(l)),r+"["+w+"] "+l+"\n";var F=r+"["+w+"]\n";for(m=o(h,i),b=0;b<m.length;b++)F+=a(h,e,m[b],r+"  ");return F},q.isASN1HEX=function(t){var e=q;if(t.length%2==1)return!1;var i=e.getVblen(t,0),r=t.substr(0,2),n=e.getL(t,0);return t.length-r.length-n.length==2*i},q.oidname=function(t){var e=j.asn1;j.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var i=e.x509.OID.oid2name(t);return""===i&&(i=t),i},void 0!==j&&j||(j={}),void 0!==j.asn1&&j.asn1||(j.asn1={}),void 0!==j.asn1.x509&&j.asn1.x509||(j.asn1.x509={}),j.asn1.x509.Certificate=function(t){j.asn1.x509.Certificate.superclass.constructor.call(this);var e=j,i=(e.crypto,e.asn1),r=i.DERSequence,n=i.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var t=new j.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});t.init(this.prvKey),t.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=t.sign(),this.asn1Sig=new n({hex:"00"+this.hexSig});var e=new r({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(t){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=t,this.asn1Sig=new n({hex:"00"+this.hexSig});var e=new r({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+mb(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==t&&(void 0!==t.tbscertobj&&(this.asn1TBSCert=t.tbscertobj),void 0!==t.prvkeyobj&&(this.prvKey=t.prvkeyobj))},a.lang.extend(j.asn1.x509.Certificate,j.asn1.ASN1Object),j.asn1.x509.TBSCertificate=function(t){j.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=j.asn1,n=e.DERSequence,i=e.DERInteger,s=e.DERTaggedObject,r=e.x509,a=r.Time,o=r.X500Name,h=r.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new s({obj:new i({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(t){this.asn1SerialNumber=new i(t)},this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new r.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new o(t)},this.setNotBeforeByParam=function(t){this.asn1NotBefore=new a(t)},this.setNotAfterByParam=function(t){this.asn1NotAfter=new a(t)},this.setSubjectByParam=function(t){this.asn1Subject=new o(t)},this.setSubjectPublicKey=function(t){this.asn1SubjPKey=new h(t)},this.setSubjectPublicKeyByGetKey=function(t){var e=D.getKey(t);this.asn1SubjPKey=new h(e)},this.appendExtension=function(t){this.extensionsArray.push(t)},this.appendExtensionByName=function(t,e){j.asn1.x509.Extension.appendByNameToArray(t,e,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var t=new n({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(t),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),0<this.extensionsArray.length){var e=new n({array:this.extensionsArray}),i=new s({explicit:!0,tag:"a3",obj:e});this.asn1Array.push(i)}var r=new n({array:this.asn1Array});return this.hTLV=r.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},a.lang.extend(j.asn1.x509.TBSCertificate,j.asn1.ASN1Object),j.asn1.x509.Extension=function(t){j.asn1.x509.Extension.superclass.constructor.call(this);var e=j.asn1,r=e.DERObjectIdentifier,n=e.DEROctetString,s=(e.DERBitString,e.DERBoolean),a=e.DERSequence;this.getEncodedHex=function(){var t=new r({oid:this.oid}),e=new n({hex:this.getExtnValueHex()}),i=new Array;return i.push(t),this.critical&&i.push(new s),i.push(e),new a({array:i}).getEncodedHex()},this.critical=!1,void 0!==t&&void 0!==t.critical&&(this.critical=t.critical)},a.lang.extend(j.asn1.x509.Extension,j.asn1.ASN1Object),j.asn1.x509.Extension.appendByNameToArray=function(t,e,i){var r=t.toLowerCase(),n=j.asn1.x509;if("basicconstraints"==r){var s=new n.BasicConstraints(e);i.push(s)}else if("keyusage"==r)s=new n.KeyUsage(e),i.push(s);else if("crldistributionpoints"==r)s=new n.CRLDistributionPoints(e),i.push(s);else if("extkeyusage"==r)s=new n.ExtKeyUsage(e),i.push(s);else if("authoritykeyidentifier"==r)s=new n.AuthorityKeyIdentifier(e),i.push(s);else if("authorityinfoaccess"==r)s=new n.AuthorityInfoAccess(e),i.push(s);else if("subjectaltname"==r)s=new n.SubjectAltName(e),i.push(s);else{if("issueraltname"!=r)throw"unsupported extension name: "+t;s=new n.IssuerAltName(e),i.push(s)}},j.asn1.x509.KeyUsage=function(t){j.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var e=B.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==t&&(void 0!==t.bin&&(this.asn1ExtnValue=new j.asn1.DERBitString(t)),void 0!==t.names&&void 0!==t.names.length)){for(var i=t.names,r="000000000",n=0;n<i.length;n++)for(var s=0;s<e.length;s++)i[n]===e[s]&&(r=r.substring(0,s)+"1"+r.substring(s+1,r.length));this.asn1ExtnValue=new j.asn1.DERBitString({bin:r})}},a.lang.extend(j.asn1.x509.KeyUsage,j.asn1.x509.Extension),j.asn1.x509.BasicConstraints=function(t){j.asn1.x509.BasicConstraints.superclass.constructor.call(this,t),this.getExtnValueHex=function(){var t=new Array;this.cA&&t.push(new j.asn1.DERBoolean),-1<this.pathLen&&t.push(new j.asn1.DERInteger({int:this.pathLen}));var e=new j.asn1.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==t&&(void 0!==t.cA&&(this.cA=t.cA),void 0!==t.pathLen&&(this.pathLen=t.pathLen))},a.lang.extend(j.asn1.x509.BasicConstraints,j.asn1.x509.Extension),j.asn1.x509.CRLDistributionPoints=function(t){j.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var e=j.asn1,n=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(t){this.asn1ExtnValue=new e.DERSequence({array:t})},this.setByOneURI=function(t){var e=new n.GeneralNames([{uri:t}]),i=new n.DistributionPointName(e),r=new n.DistributionPoint({dpobj:i});this.setByDPArray([r])},this.oid="2.5.29.31",void 0!==t&&(void 0!==t.array?this.setByDPArray(t.array):void 0!==t.uri&&this.setByOneURI(t.uri))},a.lang.extend(j.asn1.x509.CRLDistributionPoints,j.asn1.x509.Extension),j.asn1.x509.ExtKeyUsage=function(t){j.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var r=j.asn1;this.setPurposeArray=function(t){this.asn1ExtnValue=new r.DERSequence;for(var e=0;e<t.length;e++){var i=new r.DERObjectIdentifier(t[e]);this.asn1ExtnValue.appendASN1Object(i)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==t&&void 0!==t.array&&this.setPurposeArray(t.array)},a.lang.extend(j.asn1.x509.ExtKeyUsage,j.asn1.x509.Extension),j.asn1.x509.AuthorityKeyIdentifier=function(t){j.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var i=j.asn1,r=i.DERTaggedObject;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=new Array;this.asn1KID&&t.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new r({explicit:!1,tag:"a1",obj:this.asn1CertIssuer})),this.asn1CertSN&&t.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var e=new i.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(t){this.asn1KID=new j.asn1.DEROctetString(t)},this.setCertIssuerByParam=function(t){this.asn1CertIssuer=new j.asn1.x509.X500Name(t)},this.setCertSNByParam=function(t){this.asn1CertSN=new j.asn1.DERInteger(t)},this.oid="2.5.29.35",void 0!==t&&(void 0!==t.kid&&this.setKIDByParam(t.kid),void 0!==t.issuer&&this.setCertIssuerByParam(t.issuer),void 0!==t.sn&&this.setCertSNByParam(t.sn))},a.lang.extend(j.asn1.x509.AuthorityKeyIdentifier,j.asn1.x509.Extension),j.asn1.x509.AuthorityInfoAccess=function(t){j.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(t){for(var e=new Array,i=j.asn1,r=i.DERSequence,n=0;n<t.length;n++){var s=new r({array:[new i.DERObjectIdentifier(t[n].accessMethod),new i.x509.GeneralName(t[n].accessLocation)]});e.push(s)}this.asn1ExtnValue=new r({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==t&&void 0!==t.array&&this.setAccessDescriptionArray(t.array)},a.lang.extend(j.asn1.x509.AuthorityInfoAccess,j.asn1.x509.Extension),j.asn1.x509.SubjectAltName=function(t){j.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new j.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},a.lang.extend(j.asn1.x509.SubjectAltName,j.asn1.x509.Extension),j.asn1.x509.IssuerAltName=function(t){j.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new j.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},a.lang.extend(j.asn1.x509.IssuerAltName,j.asn1.x509.Extension),j.asn1.x509.CRL=function(t){j.asn1.x509.CRL.superclass.constructor.call(this),this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new j.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new j.asn1.DERBitString({hex:"00"+this.hexSig});var t=new j.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+mb(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==t&&(void 0!==t.tbsobj&&(this.asn1TBSCertList=t.tbsobj),void 0!==t.prvkeyobj&&(this.prvKey=t.prvkeyobj))},a.lang.extend(j.asn1.x509.CRL,j.asn1.ASN1Object),j.asn1.x509.TBSCertList=function(t){j.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=j.asn1,i=e.DERSequence,n=e.x509,r=n.Time;this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new n.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new n.X500Name(t)},this.setThisUpdateByParam=function(t){this.asn1ThisUpdate=new r(t)},this.setNextUpdateByParam=function(t){this.asn1NextUpdate=new r(t)},this.addRevokedCert=function(t,e){var i={};null!=t&&null!=t&&(i.sn=t),null!=e&&null!=e&&(i.time=e);var r=new n.CRLEntry(i);this.aRevokedCert.push(r)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),0<this.aRevokedCert.length){var t=new i({array:this.aRevokedCert});this.asn1Array.push(t)}var e=new i({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},a.lang.extend(j.asn1.x509.TBSCertList,j.asn1.ASN1Object),j.asn1.x509.CRLEntry=function(t){j.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=j.asn1;this.setCertSerial=function(t){this.sn=new e.DERInteger(t)},this.setRevocationDate=function(t){this.time=new e.x509.Time(t)},this.getEncodedHex=function(){var t=new e.DERSequence({array:[this.sn,this.time]});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&(void 0!==t.time&&this.setRevocationDate(t.time),void 0!==t.sn&&this.setCertSerial(t.sn))},a.lang.extend(j.asn1.x509.CRLEntry,j.asn1.ASN1Object),j.asn1.x509.X500Name=function(t){j.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var e,i=j.asn1,s=i.x509,r=G;(this.setByString=function(t){var e=t.split("/");e.shift();for(var i=[],r=0;r<e.length;r++)if(e[r].match(/^[^=]+=.+$/))i.push(e[r]);else{var n=i.length-1;i[n]=i[n]+"/"+e[r]}for(r=0;r<i.length;r++)this.asn1Array.push(new s.RDN({str:i[r]}))},this.setByLdapString=function(t){var e=s.X500Name.ldapToOneline(t);this.setByString(e)},this.setByObject=function(t){for(var e in t)if(t.hasOwnProperty(e)){var i=new j.asn1.x509.RDN({str:e+"="+t[e]});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var t=new i.DERSequence({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t)&&(void 0!==t.str?this.setByString(t.str):void 0!==t.ldapstr?this.setByLdapString(t.ldapstr):"object"==typeof t&&this.setByObject(t),void 0!==t.certissuer&&((e=new B).hex=r(t.certissuer),this.hTLV=e.getIssuerHex()),void 0!==t.certsubject&&((e=new B).hex=r(t.certsubject),this.hTLV=e.getSubjectHex()))},a.lang.extend(j.asn1.x509.X500Name,j.asn1.ASN1Object),j.asn1.x509.X500Name.onelineToLDAP=function(t){if("/"!==t.substr(0,1))throw"malformed input";var e=(t=t.substr(1)).split("/");return e.reverse(),(e=e.map(function(t){return t.replace(/,/,"\\,")})).join(",")},j.asn1.x509.X500Name.ldapToOneline=function(t){for(var e=t.split(","),i=!1,r=[],n=0;0<e.length;n++){var s=e.shift();if(!0===i){var a=(r.pop()+","+s).replace(/\\,/g,",");r.push(a),i=!1}else r.push(s);"\\"===s.substr(-1,1)&&(i=!0)}return(r=r.map(function(t){return t.replace("/","\\/")})).reverse(),"/"+r.join("/")},j.asn1.x509.RDN=function(t){j.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(t){this.asn1Array.push(new j.asn1.x509.AttributeTypeAndValue({str:t}))},this.addByMultiValuedString=function(t){for(var e=j.asn1.x509.RDN.parseString(t),i=0;i<e.length;i++)this.addByString(e[i])},this.getEncodedHex=function(){var t=new j.asn1.DERSet({array:this.asn1Array});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&void 0!==t.str&&this.addByMultiValuedString(t.str)},a.lang.extend(j.asn1.x509.RDN,j.asn1.ASN1Object),j.asn1.x509.RDN.parseString=function(t){for(var e=t.split(/\+/),i=!1,r=[],n=0;0<e.length;n++){var s=e.shift();if(!0===i){var a=(r.pop()+"+"+s).replace(/\\\+/g,"+");r.push(a),i=!1}else r.push(s);"\\"===s.substr(-1,1)&&(i=!0)}var o=!1,h=[];for(n=0;0<r.length;n++){if(s=r.shift(),!0===o){var u=h.pop();s.match(/"$/)?(a=(u+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2"),h.push(a),o=!1):h.push(u+"+"+s)}else h.push(s);s.match(/^[^=]+="/)&&(o=!0)}return h},j.asn1.x509.AttributeTypeAndValue=function(t){j.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var i=j.asn1;this.setByString=function(t){var e=t.match(/^([^=]+)=(.+)$/);if(!e)throw"malformed attrTypeAndValueStr: "+t;this.setByAttrTypeAndValueStr(e[1],e[2])},this.setByAttrTypeAndValueStr=function(t,e){this.typeObj=j.asn1.x509.OID.atype2obj(t);var i="utf8";"C"==t&&(i="prn"),this.valueObj=this.getValueObj(i,e)},this.getValueObj=function(t,e){if("utf8"==t)return new i.DERUTF8String({str:e});if("prn"==t)return new i.DERPrintableString({str:e});if("tel"==t)return new i.DERTeletexString({str:e});if("ia5"==t)return new i.DERIA5String({str:e});throw"unsupported directory string type: type="+t+" value="+e},this.getEncodedHex=function(){var t=new i.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&void 0!==t.str&&this.setByString(t.str)},a.lang.extend(j.asn1.x509.AttributeTypeAndValue,j.asn1.ASN1Object),j.asn1.x509.SubjectPublicKeyInfo=function(t){j.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=j,i=e.asn1,n=i.DERInteger,s=i.DERBitString,a=i.DERObjectIdentifier,r=i.DERSequence,o=i.ASN1Util.newObject,h=i.x509.AlgorithmIdentifier,u=e.crypto;u.ECDSA,u.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new r({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var t=this.getASN1Object();return this.hTLV=t.getEncodedHex(),this.hTLV},this.setPubKey=function(t){try{if(t instanceof z){var e=o({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}).getEncodedHex();this.asn1AlgId=new h({name:"rsaEncryption"}),this.asn1SubjPKey=new s({hex:"00"+e})}}catch(t){}try{if(t instanceof j.crypto.ECDSA){var i=new a({name:t.curveName});this.asn1AlgId=new h({name:"ecPublicKey",asn1params:i}),this.asn1SubjPKey=new s({hex:"00"+t.pubKeyHex})}}catch(t){}try{if(t instanceof j.crypto.DSA){i=new o({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}),this.asn1AlgId=new h({name:"dsa",asn1params:i});var r=new n({bigint:t.y});this.asn1SubjPKey=new s({hex:"00"+r.getEncodedHex()})}}catch(t){}},void 0!==t&&this.setPubKey(t)},a.lang.extend(j.asn1.x509.SubjectPublicKeyInfo,j.asn1.ASN1Object),j.asn1.x509.Time=function(t){j.asn1.x509.Time.superclass.constructor.call(this);var e=j.asn1,i=e.DERUTCTime,r=e.DERGeneralizedTime;this.setTimeParams=function(t){this.timeParams=t},this.getEncodedHex=function(){var t=null;return t=null!=this.timeParams?"utc"==this.type?new i(this.timeParams):new r(this.timeParams):"utc"==this.type?new i:new r,this.TLV=t.getEncodedHex(),this.TLV},this.type="utc",void 0!==t&&(void 0!==t.type?this.type=t.type:void 0!==t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)},a.lang.extend(j.asn1.x509.Time,j.asn1.ASN1Object),j.asn1.x509.AlgorithmIdentifier=function(t){j.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var i=j.asn1;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw"algorithm not specified";null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=i.x509.OID.name2obj(this.nameAlg));var t=[this.asn1Alg];null!==this.asn1Params&&t.push(this.asn1Params);var e=new i.DERSequence({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&(void 0!==t.name&&(this.nameAlg=t.name),void 0!==t.asn1params&&(this.asn1Params=t.asn1params),void 0!==t.paramempty&&(this.paramEmpty=t.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var e=this.nameAlg.toLowerCase();"withdsa"!==e.substr(-7,7)&&"withecdsa"!==e.substr(-9,9)&&(this.asn1Params=new i.DERNull)}},a.lang.extend(j.asn1.x509.AlgorithmIdentifier,j.asn1.ASN1Object),j.asn1.x509.GeneralName=function(t){j.asn1.x509.GeneralName.superclass.constructor.call(this);var u={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},e=j.asn1,c=(e.DERSequence,e.DEROctetString),l=e.DERIA5String,f=e.DERTaggedObject,d=e.ASN1Object,g=e.x509.X500Name,p=G;this.explicit=!1,this.setByParam=function(t){var e=null;if(void 0!==t){if(void 0!==t.rfc822&&(this.type="rfc822",e=new l({str:t[this.type]})),void 0!==t.dns&&(this.type="dns",e=new l({str:t[this.type]})),void 0!==t.uri&&(this.type="uri",e=new l({str:t[this.type]})),void 0!==t.dn&&(this.type="dn",this.explicit=!0,e=new g({str:t.dn})),void 0!==t.ldapdn&&(this.type="dn",this.explicit=!0,e=new g({ldapstr:t.ldapdn})),void 0!==t.certissuer){this.type="dn",this.explicit=!0;var i=null;if((n=t.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=n.indexOf("-----BEGIN ")&&(i=p(n)),null==i)throw"certissuer param not cert";(s=new B).hex=i;var r=s.getIssuerHex();(e=new d).hTLV=r}if(void 0!==t.certsubj){var n,s;if(this.type="dn",this.explicit=!0,i=null,(n=t.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=n.indexOf("-----BEGIN ")&&(i=p(n)),null==i)throw"certsubj param not cert";(s=new B).hex=i,r=s.getSubjectHex(),(e=new d).hTLV=r}if(void 0!==t.ip){this.type="ip",this.explicit=!1;var a,o=t.ip,h="malformed IP address";if(o.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(a=rk("["+o.split(".").join(",")+"]")).length)throw h}else if(o.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))a=mk(o);else{if(!o.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw h;a=o}e=new c({hex:a})}if(null==this.type)throw"unsupported type in params="+t;this.asn1Obj=new f({explicit:this.explicit,tag:u[this.type],obj:e})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==t&&this.setByParam(t)},a.lang.extend(j.asn1.x509.GeneralName,j.asn1.ASN1Object),j.asn1.x509.GeneralNames=function(t){j.asn1.x509.GeneralNames.superclass.constructor.call(this);var r=j.asn1;this.setByParamArray=function(t){for(var e=0;e<t.length;e++){var i=new r.x509.GeneralName(t[e]);this.asn1Array.push(i)}},this.getEncodedHex=function(){return new r.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==t&&this.setByParamArray(t)},a.lang.extend(j.asn1.x509.GeneralNames,j.asn1.ASN1Object),j.asn1.x509.DistributionPointName=function(t){j.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=j.asn1,i=e.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new i({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==t){if(!e.x509.GeneralNames.prototype.isPrototypeOf(t))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=t}},a.lang.extend(j.asn1.x509.DistributionPointName,j.asn1.ASN1Object),j.asn1.x509.DistributionPoint=function(t){j.asn1.x509.DistributionPoint.superclass.constructor.call(this);var i=j.asn1;this.getEncodedHex=function(){var t=new i.DERSequence;if(null!=this.asn1DP){var e=new i.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});t.appendASN1Object(e)}return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.dpobj&&(this.asn1DP=t.dpobj)},a.lang.extend(j.asn1.x509.DistributionPoint,j.asn1.ASN1Object),j.asn1.x509.OID=new function(t){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var e=this.name2oidList[t],i=new j.asn1.DERObjectIdentifier({oid:e});return this.objCache[t]=i},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.atype2oidList[t])throw"AttributeType name undefined: "+t;var e=this.atype2oidList[t],i=new j.asn1.DERObjectIdentifier({oid:e});return this.objCache[t]=i}},j.asn1.x509.OID.oid2name=function(t){var e=j.asn1.x509.OID.name2oidList;for(var i in e)if(e[i]==t)return i;return""},j.asn1.x509.OID.oid2atype=function(t){var e=j.asn1.x509.OID.atype2oidList;for(var i in e)if(e[i]==t)return i;return t},j.asn1.x509.OID.name2oid=function(t){var e=j.asn1.x509.OID.name2oidList;return void 0===e[t]?"":e[t]},j.asn1.x509.X509Util={},j.asn1.x509.X509Util.newCertPEM=function(t){var e=j.asn1.x509,i=e.TBSCertificate,r=e.Certificate,n=new i;if(void 0===t.serial)throw"serial number undefined.";if(n.setSerialNumberByParam(t.serial),"string"!=typeof t.sigalg.name)throw"unproper signature algorithm name";if(n.setSignatureAlgByParam(t.sigalg),void 0===t.issuer)throw"issuer name undefined.";if(n.setIssuerByParam(t.issuer),void 0===t.notbefore)throw"notbefore undefined.";if(n.setNotBeforeByParam(t.notbefore),void 0===t.notafter)throw"notafter undefined.";if(n.setNotAfterByParam(t.notafter),void 0===t.subject)throw"subject name undefined.";if(n.setSubjectByParam(t.subject),void 0===t.sbjpubkey)throw"subject public key undefined.";if(n.setSubjectPublicKeyByGetKey(t.sbjpubkey),void 0!==t.ext&&void 0!==t.ext.length)for(var s=0;s<t.ext.length;s++)for(key in t.ext[s])n.appendExtensionByName(key,t.ext[s][key]);if(void 0===t.cakey&&void 0===t.sighex)throw"param cakey and sighex undefined.";var a=null;return t.cakey&&(a=new r({tbscertobj:n,prvkeyobj:!0===t.cakey.isPrivate?t.cakey:D.getKey.apply(null,t.cakey)})).sign(),t.sighex&&(a=new r({tbscertobj:n})).setSignatureHex(t.sighex),a.getPEMString()},void 0!==j&&j||(j={}),void 0!==j.asn1&&j.asn1||(j.asn1={}),void 0!==j.asn1.cms&&j.asn1.cms||(j.asn1.cms={}),j.asn1.cms.Attribute=function(t){var r=j.asn1;r.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var t,e,i;t=new r.DERObjectIdentifier({oid:this.attrTypeOid}),e=new r.DERSet({array:this.valueList});try{e.getEncodedHex()}catch(t){throw"fail valueSet.getEncodedHex in Attribute(1)/"+t}i=new r.DERSequence({array:[t,e]});try{this.hTLV=i.getEncodedHex()}catch(t){throw"failed seq.getEncodedHex in Attribute(2)/"+t}return this.hTLV}},a.lang.extend(j.asn1.cms.Attribute,j.asn1.ASN1Object),j.asn1.cms.ContentType=function(t){var e=j.asn1;e.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var i=null;void 0!==t&&(i=new e.DERObjectIdentifier(t),this.valueList=[i])},a.lang.extend(j.asn1.cms.ContentType,j.asn1.cms.Attribute),j.asn1.cms.MessageDigest=function(t){var e=j,i=e.asn1,r=i.DEROctetString,n=i.cms;if(n.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==t)if(t.eciObj instanceof n.EncapsulatedContentInfo&&"string"==typeof t.hashAlg){var s=t.eciObj.eContentValueHex,a=t.hashAlg;(o=new r({hex:e.crypto.Util.hashHex(s,a)})).getEncodedHex(),this.valueList=[o]}else{var o;(o=new r(t)).getEncodedHex(),this.valueList=[o]}},a.lang.extend(j.asn1.cms.MessageDigest,j.asn1.cms.Attribute),j.asn1.cms.SigningTime=function(t){var e=j.asn1;if(e.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==t){var i=new e.x509.Time(t);try{i.getEncodedHex()}catch(t){throw"SigningTime.getEncodedHex() failed/"+t}this.valueList=[i]}},a.lang.extend(j.asn1.cms.SigningTime,j.asn1.cms.Attribute),j.asn1.cms.SigningCertificate=function(t){var u=j,c=u.asn1,l=c.DERSequence,f=c.cms;u.crypto,f.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(t){for(var e=[],i=0;i<t.length;i++){var r=G(t[i]),n=u.crypto.Util.hashHex(r,"sha1"),s=new c.DEROctetString({hex:n});s.getEncodedHex();var a=new f.IssuerAndSerialNumber({cert:t[i]});a.getEncodedHex();var o=new l({array:[s,a]});o.getEncodedHex(),e.push(o)}var h=new l({array:e});h.getEncodedHex(),this.valueList=[h]},void 0!==t&&"object"==typeof t.array&&this.setCerts(t.array)},a.lang.extend(j.asn1.cms.SigningCertificate,j.asn1.cms.Attribute),j.asn1.cms.SigningCertificateV2=function(t){var e=j,l=e.asn1,f=l.DERSequence,d=l.x509,g=l.cms,p=e.crypto;if(g.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=G(t[r]),s=[];"sha256"!==e&&s.push(new d.AlgorithmIdentifier({name:e}));var a=p.Util.hashHex(n,e),o=new l.DEROctetString({hex:a});o.getEncodedHex(),s.push(o);var h=new g.IssuerAndSerialNumber({cert:t[r]});h.getEncodedHex(),s.push(h);var u=new f({array:s});u.getEncodedHex(),i.push(u)}var c=new f({array:i});c.getEncodedHex(),this.valueList=[c]},void 0!==t&&"object"==typeof t.array){var i="sha256";"string"==typeof t.hashAlg&&(i=t.hashAlg),this.setCerts(t.array,i)}},a.lang.extend(j.asn1.cms.SigningCertificateV2,j.asn1.cms.Attribute),j.asn1.cms.IssuerAndSerialNumber=function(t){var e=j.asn1,s=e.DERInteger,i=e.cms,a=e.x509.X500Name,o=B;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.setByCertPEM=function(t){var e=G(t),i=new o;i.hex=e;var r=i.getIssuerHex();this.dIssuer=new a,this.dIssuer.hTLV=r;var n=i.getSerialNumberHex();this.dSerial=new s({hex:n})},this.getEncodedHex=function(){var t=new e.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&this.setByCertPEM(t),t.issuer&&t.serial&&(t.issuer instanceof a?this.dIssuer=t.issuer:this.dIssuer=new a(t.issuer),t.serial instanceof s?this.dSerial=t.serial:this.dSerial=new s(t.serial)),"string"==typeof t.cert&&this.setByCertPEM(t.cert))},a.lang.extend(j.asn1.cms.IssuerAndSerialNumber,j.asn1.ASN1Object),j.asn1.cms.AttributeList=function(t){var e=j.asn1,i=e.cms;i.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(t){t instanceof i.Attribute&&this.list.push(t)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var t=new e.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},a.lang.extend(j.asn1.cms.AttributeList,j.asn1.ASN1Object),j.asn1.cms.SignerInfo=function(t){var e=j,a=e.asn1,n=a.DERTaggedObject,i=a.cms,s=i.AttributeList,r=i.ContentType,o=i.EncapsulatedContentInfo,h=i.MessageDigest,u=i.SignedData,c=a.x509.AlgorithmIdentifier,l=e.crypto,f=D;i.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new a.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new s,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new s,this.setSignerIdentifier=function(t){"string"==typeof t&&-1!=t.indexOf("CERTIFICATE")&&-1!=t.indexOf("BEGIN")&&-1!=t.indexOf("END")&&(this.dSignerIdentifier=new i.IssuerAndSerialNumber({cert:t}))},this.setForContentAndHash=function(t){void 0!==t&&(t.eciObj instanceof o&&(this.dSignedAttrs.add(new r({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new h({eciObj:t.eciObj,hashAlg:t.hashAlg}))),void 0!==t.sdObj&&t.sdObj instanceof u&&-1==t.sdObj.digestAlgNameList.join(":").indexOf(t.hashAlg)&&t.sdObj.digestAlgNameList.push(t.hashAlg),"string"==typeof t.hashAlg&&(this.dDigestAlgorithm=new c({name:t.hashAlg})))},this.sign=function(t,e){this.dSigAlg=new c({name:e});var i=this.dSignedAttrs.getEncodedHex(),r=f.getKey(t),n=new l.Signature({alg:e});n.init(r),n.updateHex(i);var s=n.sign();this.dSig=new a.DEROctetString({hex:s})},this.addUnsigned=function(t){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(t)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof s&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var t=new n({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),e=null;0<this.dUnsignedAttrs.length()&&(e=new n({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var i=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,t,this.dSigAlg,this.dSig];null!=e&&i.push(e);var r=new a.DERSequence({array:i});return this.hTLV=r.getEncodedHex(),this.hTLV}},a.lang.extend(j.asn1.cms.SignerInfo,j.asn1.ASN1Object),j.asn1.cms.EncapsulatedContentInfo=function(t){var e=j.asn1,r=e.DERTaggedObject,n=e.DERSequence,i=e.DERObjectIdentifier,s=e.DEROctetString;e.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new i({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(t){t.match(/^[0-2][.][0-9.]+$/)?this.dEContentType=new i({oid:t}):this.dEContentType=new i({name:t})},this.setContentValue=function(t){void 0!==t&&("string"==typeof t.hex?this.eContentValueHex=t.hex:"string"==typeof t.str&&(this.eContentValueHex=Pa(t.str)))},this.setContentValueHex=function(t){this.eContentValueHex=t},this.setContentValueStr=function(t){this.eContentValueHex=Pa(t)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var t=new s({hex:this.eContentValueHex});this.dEContent=new r({obj:t,tag:"a0",explicit:!0});var e=[this.dEContentType];this.isDetached||e.push(this.dEContent);var i=new n({array:e});return this.hTLV=i.getEncodedHex(),this.hTLV}},a.lang.extend(j.asn1.cms.EncapsulatedContentInfo,j.asn1.ASN1Object),j.asn1.cms.ContentInfo=function(t){var e=j.asn1,i=e.DERTaggedObject,r=e.DERSequence,n=e.x509;j.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(t){"string"==typeof t&&(this.dContentType=n.OID.name2obj(t))},this.getEncodedHex=function(){var t=new i({obj:this.dContent,tag:"a0",explicit:!0}),e=new r({array:[this.dContentType,t]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&(t.type&&this.setContentType(t.type),t.obj&&t.obj instanceof e.ASN1Object&&(this.dContent=t.obj))},a.lang.extend(j.asn1.cms.ContentInfo,j.asn1.ASN1Object),j.asn1.cms.SignedData=function(t){var e=j.asn1,r=e.ASN1Object,i=e.DERInteger,h=e.DERSet,u=e.DERSequence,c=e.DERTaggedObject,n=e.cms,s=n.EncapsulatedContentInfo,a=n.SignerInfo,o=n.ContentInfo,l=e.x509.AlgorithmIdentifier;j.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new i({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new s,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new a],this.addCertificatesByPEM=function(t){var e=G(t),i=new r;i.hTLV=e,this.certificateList.push(i)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var t=[],e=0;e<this.digestAlgNameList.length;e++){var i=this.digestAlgNameList[e],r=new l({name:i});t.push(r)}this.dDigestAlgs=new h({array:t})}var n=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&0<this.certificateList.length){var s=new h({array:this.certificateList});this.dCerts=new c({obj:s,tag:"a0",explicit:!1})}null!=this.dCerts&&n.push(this.dCerts);var a=new h({array:this.signerInfoList});n.push(a);var o=new u({array:n});return this.hTLV=o.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new o({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return A(this.getContentInfoEncodedHex(),"CMS")}},a.lang.extend(j.asn1.cms.SignedData,j.asn1.ASN1Object),j.asn1.cms.CMSUtil=new function(){},j.asn1.cms.CMSUtil.newSignedData=function(t){var e=j.asn1,i=e.cms,r=i.SignerInfo,n=i.SignedData,s=i.SigningTime,a=i.SigningCertificate,o=i.SigningCertificateV2,h=e.cades.SignaturePolicyIdentifier,u=new n;if(u.dEncapContentInfo.setContentValue(t.content),"object"==typeof t.certs)for(var c=0;c<t.certs.length;c++)u.addCertificatesByPEM(t.certs[c]);for(u.signerInfoList=[],c=0;c<t.signerInfos.length;c++){var l=t.signerInfos[c],f=new r;for(attrName in f.setSignerIdentifier(l.signerCert),f.setForContentAndHash({sdObj:u,eciObj:u.dEncapContentInfo,hashAlg:l.hashAlg}),l.sAttr){var d=l.sAttr[attrName];if("SigningTime"==attrName){var g=new s(d);f.dSignedAttrs.add(g)}"SigningCertificate"==attrName&&(g=new a(d),f.dSignedAttrs.add(g)),"SigningCertificateV2"==attrName&&(g=new o(d),f.dSignedAttrs.add(g)),"SignaturePolicyIdentifier"==attrName&&(g=new h(d),f.dSignedAttrs.add(g))}f.sign(l.signerPrvKey,l.sigAlg),u.signerInfoList.push(f)}return u},j.asn1.cms.CMSUtil.verifySignedData=function(t){var e=j,i=e.asn1,r=i.cms,n=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,i.cades.SignaturePolicyIdentifier,e.lang.String.isHex),s=q,h=s.getVbyList,a=s.getTLVbyList,o=s.getIdxbyList,d=s.getChildIdx,g=s.getTLV,u=s.oidname,p=e.crypto.Util.hashHex;void 0===t.cms&&n(t.cms);var c=t.cms,l=function(t,e){var i=e.idx;e.signerid_issuer1=a(t,i,[1,0],"30"),e.signerid_serial1=h(t,i,[1,1],"02"),e.hashalg=u(h(t,i,[2,0],"06"));var r=o(t,i,[3],"a0");e.idxSignedAttrs=r,f(t,e,r);var n=d(t,i).length;if(n<6)throw"malformed SignerInfo";e.sigalg=u(h(t,i,[n-2,0],"06")),e.sigval=h(t,i,[n-1],"04")},f=function(t,e,i){var r=d(t,i);e.signedAttrIdxList=r;for(var n=0;n<r.length;n++){var s,a=r[n],o=h(t,a,[0],"06");"2a864886f70d010905"===o?(s=x(h(t,a,[1,0])),e.saSigningTime=s):"2a864886f70d010904"===o&&(s=h(t,a,[1,0],"04"),e.saMessageDigest=s)}},y=function(t,e,i,r){i.verifyDetail={};var n=i.verifyDetail,s=e.parse.econtent,a=i.hashalg,o=i.saMessageDigest;n.validMessageDigest=!1,p(s,a)===o&&(n.validMessageDigest=!0),function(t,e,i,r){var n,s=e.parse.certsIdx;if(void 0===e.certs){n=[],e.certkeys=[];for(var a=d(t,s),o=0;o<a.length;o++){var h=g(t,a[o]),u=new B;u.readCertHex(h),n[o]=u,e.certkeys[o]=u.getPublicKey()}e.certs=n}else n=e.certs;for(e.cccc=n.length,e.cccci=a.length,o=0;o<n.length;o++){var c=u.getIssuerHex(),l=u.getSerialNumberHex();i.signerid_issuer1===c&&i.signerid_serial1===l&&(i.certkey_idx=o)}}(t,e,i),n.validSignatureValue=!1;var h=i.sigalg,u="31"+g(t,i.idxSignedAttrs).substr(2);i.signedattrshex=u;var c=e.certs[i.certkey_idx].getPublicKey(),l=new j.crypto.Signature({alg:h});l.init(c),l.updateHex(u);var f=l.verify(i.sigval);!0===(n.validSignatureValue_isValid=f)&&(n.validSignatureValue=!0),i.isValid=!1,n.validMessageDigest&&n.validSignatureValue&&(i.isValid=!0)},v={isValid:!1,parse:{}};return function(t,e){if("2a864886f70d010702"!==h(t,0,[0],"06"))return;e.cmsType="signedData",e.econtent=h(t,0,[1,0,2,1,0]),function(t,e){for(var i,r=3;r<6;r++)if(void 0!==(i=o(t,0,[1,0,r]))){var n=t.substr(i,2);"a0"===n&&(e.certsIdx=i),"a1"===n&&(e.revinfosIdx=i),"31"===n&&(e.signerinfosIdx=i)}}(t,e),e.signerInfos=[],function(t,e){var i=e.signerinfosIdx;if(void 0!==i){var r=d(t,i);e.signerInfoIdxList=r;for(var n=0;n<r.length;n++){var s={idx:r[n]};l(t,s),e.signerInfos.push(s)}}}(t,e)}(c,v.parse),function(t,e){for(var i=e.parse.signerInfos,r=i.length,n=!0,s=0;s<r;s++){var a=i[s];y(t,e,a),a.isValid||(n=!1)}e.isValid=n}(c,v),v},void 0!==j&&j||(j={}),void 0!==j.asn1&&j.asn1||(j.asn1={}),void 0!==j.asn1.tsp&&j.asn1.tsp||(j.asn1.tsp={}),j.asn1.tsp.Accuracy=function(t){var e=j.asn1,o=e.DERInteger,h=e.DERSequence,u=e.DERTaggedObject;e.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var t=null,e=null,i=null,r=[];if(null!=this.seconds&&(t=new o({int:this.seconds}),r.push(t)),null!=this.millis){var n=new o({int:this.millis});e=new u({obj:n,tag:"80",explicit:!1}),r.push(e)}if(null!=this.micros){var s=new o({int:this.micros});i=new u({obj:s,tag:"81",explicit:!1}),r.push(i)}var a=new h({array:r});return this.hTLV=a.getEncodedHex(),this.hTLV},void 0!==t&&("number"==typeof t.seconds&&(this.seconds=t.seconds),"number"==typeof t.millis&&(this.millis=t.millis),"number"==typeof t.micros&&(this.micros=t.micros))},a.lang.extend(j.asn1.tsp.Accuracy,j.asn1.ASN1Object),j.asn1.tsp.MessageImprint=function(t){var e=j.asn1,i=e.DERSequence,r=e.DEROctetString,n=e.x509.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new i({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==t&&("string"==typeof t.hashAlg&&(this.dHashAlg=new n({name:t.hashAlg})),"string"==typeof t.hashValue&&(this.dHashValue=new r({hex:t.hashValue})))},a.lang.extend(j.asn1.tsp.MessageImprint,j.asn1.ASN1Object),j.asn1.tsp.TimeStampReq=function(t){var e=j.asn1,i=e.DERSequence,r=e.DERInteger,n=e.DERBoolean,s=e.DERObjectIdentifier,a=e.tsp,o=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(t){t instanceof o?this.dMessageImprint=t:"object"==typeof t&&(this.dMessageImprint=new o(t))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var t=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&t.push(this.dPolicy),null!=this.dNonce&&t.push(this.dNonce),this.certReq&&t.push(new n);var e=new i({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.mi&&this.setMessageImprint(t.mi),"object"==typeof t.policy&&(this.dPolicy=new s(t.policy)),"object"==typeof t.nonce&&(this.dNonce=new r(t.nonce)),"boolean"==typeof t.certreq&&(this.certReq=t.certreq))},a.lang.extend(j.asn1.tsp.TimeStampReq,j.asn1.ASN1Object),j.asn1.tsp.TSTInfo=function(t){var e=j.asn1,i=e.DERSequence,r=e.DERInteger,n=e.DERBoolean,s=e.DERGeneralizedTime,a=e.DERObjectIdentifier,o=e.tsp,h=o.MessageImprint,u=o.Accuracy,c=e.x509.X500Name;if(o.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(t.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(t.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(t.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var e=new i({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t){if("string"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:t.policy})}void 0!==t.messageImprint&&(this.dMessageImprint=new h(t.messageImprint)),void 0!==t.serialNumber&&(this.dSerialNumber=new r(t.serialNumber)),void 0!==t.genTime&&(this.dGenTime=new s(t.genTime)),void 0!==t.accuracy&&(this.dAccuracy=new u(t.accuracy)),void 0!==t.ordering&&1==t.ordering&&(this.dOrdering=new n),void 0!==t.nonce&&(this.dNonce=new r(t.nonce)),void 0!==t.tsa&&(this.dTsa=new c(t.tsa))}},a.lang.extend(j.asn1.tsp.TSTInfo,j.asn1.ASN1Object),j.asn1.tsp.TimeStampResp=function(t){var e=j.asn1,i=e.DERSequence,r=e.ASN1Object,n=e.tsp,s=n.PKIStatusInfo;n.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var t=[this.dStatus];null!=this.dTST&&t.push(this.dTST);var e=new i({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.status&&(this.dStatus=new s(t.status)),void 0!==t.tst&&t.tst instanceof r&&(this.dTST=t.tst.getContentInfo()))},a.lang.extend(j.asn1.tsp.TimeStampResp,j.asn1.ASN1Object),j.asn1.tsp.PKIStatusInfo=function(t){var e=j.asn1,i=e.DERSequence,r=e.tsp,n=r.PKIStatus,s=r.PKIFreeText,a=r.PKIFailureInfo;r.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var t=[this.dStatus];null!=this.dStatusString&&t.push(this.dStatusString),null!=this.dFailureInfo&&t.push(this.dFailureInfo);var e=new i({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.status&&(this.dStatus=new n(t.status)),"object"==typeof t.statstr&&(this.dStatusString=new s({array:t.statstr})),"object"==typeof t.failinfo&&(this.dFailureInfo=new a(t.failinfo)))},a.lang.extend(j.asn1.tsp.PKIStatusInfo,j.asn1.ASN1Object),j.asn1.tsp.PKIStatus=function(t){var e=j.asn1,i=e.DERInteger,r=e.tsp,n=r.PKIStatus;if(r.PKIStatus.superclass.constructor.call(this),this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==t)if(void 0!==t.name){var s=n.valueList;if(void 0===s[t.name])throw"name undefined: "+t.name;this.dStatus=new i({int:s[t.name]})}else this.dStatus=new i(t)},a.lang.extend(j.asn1.tsp.PKIStatus,j.asn1.ASN1Object),j.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},j.asn1.tsp.PKIFreeText=function(t){var e=j.asn1,r=e.DERSequence,n=e.DERUTF8String;e.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var t=[],e=0;e<this.textList.length;e++)t.push(new n({str:this.textList[e]}));var i=new r({array:t});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==t&&"object"==typeof t.array&&(this.textList=t.array)},a.lang.extend(j.asn1.tsp.PKIFreeText,j.asn1.ASN1Object),j.asn1.tsp.PKIFailureInfo=function(t){var e=j.asn1,i=e.DERBitString,r=e.tsp.PKIFailureInfo;if(r.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var t=new Number(this.value).toString(2),e=new i;return e.setByBinaryString(t),this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t)if("string"==typeof t.name){var n=r.valueList;if(void 0===n[t.name])throw"name undefined: "+t.name;this.value=n[t.name]}else"number"==typeof t.int&&(this.value=t.int)},a.lang.extend(j.asn1.tsp.PKIFailureInfo,j.asn1.ASN1Object),j.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},j.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(t,e){throw"not implemented yet"}},j.asn1.tsp.SimpleTSAAdapter=function(t){var e=j,n=e.asn1.tsp,s=e.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,e){var i=s(t,e);this.params.tstInfo.messageImprint={hashAlg:e,hashValue:i},this.params.tstInfo.serialNumber={int:this.serial++};var r=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:r},n.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},a.lang.extend(j.asn1.tsp.SimpleTSAAdapter,j.asn1.tsp.AbstractTSAAdapter),j.asn1.tsp.FixedTSAAdapter=function(t){var e=j,r=e.asn1.tsp,n=e.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,e){var i=n(t,e);return this.params.tstInfo.messageImprint={hashAlg:e,hashValue:i},r.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},a.lang.extend(j.asn1.tsp.FixedTSAAdapter,j.asn1.tsp.AbstractTSAAdapter),j.asn1.tsp.TSPUtil=new function(){},j.asn1.tsp.TSPUtil.newTimeStampToken=function(t){var e=j.asn1,i=e.cms,r=(e.tsp,e.tsp.TSTInfo),n=new i.SignedData,s=new r(t.tstInfo).getEncodedHex();if(n.dEncapContentInfo.setContentValue({hex:s}),n.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof t.certs)for(var a=0;a<t.certs.length;a++)n.addCertificatesByPEM(t.certs[a]);var o=n.signerInfoList[0];o.setSignerIdentifier(t.signerCert),o.setForContentAndHash({sdObj:n,eciObj:n.dEncapContentInfo,hashAlg:t.hashAlg});var h=new i.SigningCertificate({array:[t.signerCert]});return o.dSignedAttrs.add(h),o.sign(t.signerPrvKey,t.sigAlg),n},j.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){var e=q,i=e.getChildIdx,r=e.getV,n=e.getTLV,s={certreq:!1},a=i(t,0);if(a.length<2)throw"TimeStampReq must have at least 2 items";var o=n(t,a[1]);s.mi=j.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var h=2;h<a.length;h++){var u=a[h],c=t.substr(u,2);if("06"==c){var l=r(t,u);s.policy=e.hextooidstr(l)}"02"==c&&(s.nonce=r(t,u)),"01"==c&&(s.certreq=!0)}return s},j.asn1.tsp.TSPUtil.parseMessageImprint=function(t){var e=q,i=e.getChildIdx,r=e.getV,n=e.getIdxbyList,s={};if("30"!=t.substr(0,2))throw"head of messageImprint hex shall be '30'";i(t,0);var a=r(t,n(t,0,[0,0])),o=e.hextooidstr(a),h=j.asn1.x509.OID.oid2name(o);if(""==h)throw"hashAlg name undefined: "+o;var u=h,c=n(t,0,[1]);return s.hashAlg=u,s.hashValue=r(t,c),s},void 0!==j&&j||(j={}),void 0!==j.asn1&&j.asn1||(j.asn1={}),void 0!==j.asn1.cades&&j.asn1.cades||(j.asn1.cades={}),j.asn1.cades.SignaturePolicyIdentifier=function(t){var e=j.asn1,i=e.DERObjectIdentifier,r=e.DERSequence,n=e.cades,s=n.OtherHashAlgAndValue;if(n.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==t&&"string"==typeof t.oid&&"object"==typeof t.hash){var a=new r({array:[new i({oid:t.oid}),new s(t.hash)]});this.valueList=[a]}},a.lang.extend(j.asn1.cades.SignaturePolicyIdentifier,j.asn1.cms.Attribute),j.asn1.cades.OtherHashAlgAndValue=function(t){var e=j.asn1,i=e.DERSequence,r=e.DEROctetString,n=e.x509.AlgorithmIdentifier;e.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var t=new i({array:[this.dAlg,this.dHash]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&"string"==typeof t.alg&&"string"==typeof t.hash&&(this.dAlg=new n({name:t.alg}),this.dHash=new r({hex:t.hash}))},a.lang.extend(j.asn1.cades.OtherHashAlgAndValue,j.asn1.ASN1Object),j.asn1.cades.SignatureTimeStamp=function(t){var e=j.asn1,i=e.ASN1Object;if(e.x509,e.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==t){if(void 0!==t.res)if("string"==typeof t.res&&t.res.match(/^[0-9A-Fa-f]+$/));else if(!(t.res instanceof i))throw"res param shall be ASN1Object or hex string";if(void 0!==t.tst)if("string"==typeof t.tst&&t.tst.match(/^[0-9A-Fa-f]+$/)){var r=new i;this.tstHex=t.tst,r.hTLV=this.tstHex,r.getEncodedHex(),this.valueList=[r]}else if(!(t.tst instanceof i))throw"tst param shall be ASN1Object or hex string"}},a.lang.extend(j.asn1.cades.SignatureTimeStamp,j.asn1.cms.Attribute),j.asn1.cades.CompleteCertificateRefs=function(t){var r=j.asn1.cades;r.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(t){this.valueList=[];for(var e=0;e<t.length;e++){var i=new r.OtherCertID(t[e]);this.valueList.push(i)}},void 0!==t&&"object"==typeof t&&"number"==typeof t.length&&this.setByArray(t)},a.lang.extend(j.asn1.cades.CompleteCertificateRefs,j.asn1.cms.Attribute),j.asn1.cades.OtherCertID=function(t){var i=j.asn1,e=i.cms,r=i.cades;r.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(t){this.dOtherCertHash=new r.OtherHash(t),this.hasIssuerSerial&&(this.dIssuerSerial=new e.IssuerAndSerialNumber(t))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var t=[this.dOtherCertHash];null!=this.dIssuerSerial&&t.push(this.dIssuerSerial);var e=new i.DERSequence({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&this.setByCertPEM(t),"object"==typeof t&&(!1===t.hasis&&(this.hasIssuerSerial=!1),"string"==typeof t.cert&&this.setByCertPEM(t.cert)))},a.lang.extend(j.asn1.cades.OtherCertID,j.asn1.ASN1Object),j.asn1.cades.OtherHash=function(t){var e=j,i=e.asn1,r=(i.cms,i.cades),n=r.OtherHashAlgAndValue,s=e.crypto.Util.hashHex;if(r.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(t){if(-1==t.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var e=G(t),i=s(e,this.alg);this.dOtherHash=new n({alg:this.alg,hash:i})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==t)if("string"==typeof t)if(-1!=t.indexOf("-----BEGIN "))this.setByCertPEM(t);else{if(!t.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new i.DEROctetString({hex:t})}else"object"==typeof t&&("string"==typeof t.cert?("string"==typeof t.alg&&(this.alg=t.alg),this.setByCertPEM(t.cert)):this.dOtherHash=new n(t))},a.lang.extend(j.asn1.cades.OtherHash,j.asn1.ASN1Object),j.asn1.cades.CAdESUtil=new function(){},j.asn1.cades.CAdESUtil.addSigTS=function(t,e,i){},j.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){var e=q,i=e.getChildIdx,r=e.getTLV,n=e.getTLVbyList,s=e.getIdxbyList,a=j.asn1,o=a.ASN1Object,h=a.cms.SignedData,u=a.cades.CAdESUtil,c={};if("06092a864886f70d010702"!=n(t,0,[0]))throw"hex is not CMS SignedData";var l=i(t,s(t,0,[1,0]));if(l.length<4)throw"num of SignedData elem shall be 4 at least";var f=l.shift();c.version=r(t,f);var d=l.shift();c.algs=r(t,d);var g=l.shift();c.encapcontent=r(t,g),c.certs=null,c.revs=null,c.si=[];var p=l.shift();"a0"==t.substr(p,2)&&(c.certs=r(t,p),p=l.shift()),"a1"==t.substr(p,2)&&(c.revs=r(t,p),p=l.shift());var y=p;if("31"!=t.substr(y,2))throw"Can't find signerInfos";for(var v=i(t,y),b=0;b<v.length;b++){var m=v[b],S=u.parseSignerInfoForAddingUnsigned(t,m,b);c.si[b]=S}var w=null;for(c.obj=new h,(w=new o).hTLV=c.version,c.obj.dCMSVersion=w,(w=new o).hTLV=c.algs,c.obj.dDigestAlgs=w,(w=new o).hTLV=c.encapcontent,c.obj.dEncapContentInfo=w,(w=new o).hTLV=c.certs,c.obj.dCerts=w,c.obj.signerInfoList=[],b=0;b<c.si.length;b++)c.obj.signerInfoList.push(c.si[b].obj);return c},j.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,i){var r=q,n=r.getChildIdx,s=r.getTLV,a=r.getV,o=j.asn1,h=o.ASN1Object,u=o.cms,c=u.AttributeList,l=u.SignerInfo,f={},d=n(t,e);if(6!=d.length)throw"not supported items for SignerInfo (!=6)";var g=d.shift();f.version=s(t,g);var p=d.shift();f.si=s(t,p);var y=d.shift();f.digalg=s(t,y);var v=d.shift();f.sattrs=s(t,v);var b=d.shift();f.sigalg=s(t,b);var m=d.shift();f.sig=s(t,m),f.sigval=a(t,m);var S=null;return f.obj=new l,(S=new h).hTLV=f.version,f.obj.dCMSVersion=S,(S=new h).hTLV=f.si,f.obj.dSignerIdentifier=S,(S=new h).hTLV=f.digalg,f.obj.dDigestAlgorithm=S,(S=new h).hTLV=f.sattrs,f.obj.dSignedAttrs=S,(S=new h).hTLV=f.sigalg,f.obj.dSigAlg=S,(S=new h).hTLV=f.sig,f.obj.dSig=S,f.obj.dUnsignedAttrs=new c,f},void 0!==j.asn1.csr&&j.asn1.csr||(j.asn1.csr={}),j.asn1.csr.CertificationRequest=function(t){var r=j,e=r.asn1,n=e.DERBitString,s=e.DERSequence,i=e.csr,a=e.x509;i.CertificationRequest.superclass.constructor.call(this),this.sign=function(t,e){null==this.prvKey&&(this.prvKey=e),this.asn1SignatureAlg=new a.AlgorithmIdentifier({name:t}),sig=new r.crypto.Signature({alg:t}),sig.init(this.prvKey),sig.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new n({hex:"00"+this.hexSig});var i=new s({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=i.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return A(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==t&&void 0!==t.csrinfo&&(this.asn1CSRInfo=t.csrinfo)},a.lang.extend(j.asn1.csr.CertificationRequest,j.asn1.ASN1Object),j.asn1.csr.CertificationRequestInfo=function(t){var e=j.asn1,i=e.DERInteger,s=e.DERSequence,a=e.DERSet,o=e.DERNull,h=e.DERTaggedObject,u=e.DERObjectIdentifier,r=e.csr,n=e.x509,c=n.X500Name,l=n.Extension,f=D;r.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new i({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(t){this.asn1Subject=new c(t)},this.setSubjectPublicKeyByGetKey=function(t){var e=f.getKey(t);this.asn1SubjPKey=new n.SubjectPublicKeyInfo(e)},this.appendExtensionByName=function(t,e){l.appendByNameToArray(t,e,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),0<this.extensionsArray.length){var t=new s({array:this.extensionsArray}),e=new a({array:[t]}),i=new s({array:[new u({oid:"1.2.840.113549.1.9.14"}),e]}),r=new h({explicit:!0,tag:"a0",obj:i});this.asn1Array.push(r)}else r=new h({explicit:!1,tag:"a0",obj:new o}),this.asn1Array.push(r);var n=new s({array:this.asn1Array});return this.hTLV=n.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},a.lang.extend(j.asn1.csr.CertificationRequestInfo,j.asn1.ASN1Object),j.asn1.csr.CSRUtil=new function(){},j.asn1.csr.CSRUtil.newCSRPEM=function(t){var e=D,i=j.asn1.csr;if(void 0===t.subject)throw"parameter subject undefined";if(void 0===t.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===t.sigalg)throw"parameter sigalg undefined";if(void 0===t.sbjprvkey)throw"parameter sbjpubkey undefined";var r=new i.CertificationRequestInfo;if(r.setSubjectByParam(t.subject),r.setSubjectPublicKeyByGetKey(t.sbjpubkey),void 0!==t.ext&&void 0!==t.ext.length)for(var n=0;n<t.ext.length;n++)for(key in t.ext[n])r.appendExtensionByName(key,t.ext[n][key]);var s=new i.CertificationRequest({csrinfo:r}),a=e.getKey(t.sbjprvkey);return s.sign(t.sigalg,a),s.getPEMString()},j.asn1.csr.CSRUtil.getInfo=function(t){var e=q.getTLVbyList,i={subject:{},pubkey:{}};if(-1==t.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var r=G(t,"CERTIFICATE REQUEST");return i.subject.hex=e(r,0,[0,1]),i.subject.name=B.hex2dn(i.subject.hex),i.pubkey.hex=e(r,0,[0,2]),i.pubkey.obj=D.getKey(i.pubkey.hex,null,"pkcs8pub"),i},void 0!==j&&j||(j={}),void 0!==j.asn1&&j.asn1||(j.asn1={}),void 0!==j.asn1.ocsp&&j.asn1.ocsp||(j.asn1.ocsp={}),j.asn1.ocsp.DEFAULT_HASH="sha1",j.asn1.ocsp.CertID=function(t){var e=j,i=e.asn1,n=i.DEROctetString,s=i.DERInteger,r=i.DERSequence,a=i.x509.AlgorithmIdentifier,o=i.ocsp,c=o.DEFAULT_HASH,l=e.crypto.Util.hashHex,f=B,d=q;if(o.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(t,e,i,r){void 0===r&&(r=c),this.dHashAlg=new a({name:r}),this.dIssuerNameHash=new n({hex:t}),this.dIssuerKeyHash=new n({hex:e}),this.dSerialNumber=new s({hex:i})},this.setByCert=function(t,e,i){void 0===i&&(i=c);var r=new f;r.readCertPEM(e);var n=new f;n.readCertPEM(t);var s=n.getPublicKeyHex(),a=d.getTLVbyList(s,0,[1,0],"30"),o=r.getSerialNumberHex(),h=l(n.getSubjectHex(),i),u=l(a,i);this.setByValue(h,u,o,i),this.hoge=r.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var t=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber],e=new r({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t){var h=t;if(void 0!==h.issuerCert&&void 0!==h.subjectCert){var u=c;void 0===h.alg&&(u=void 0),this.setByCert(h.issuerCert,h.subjectCert,u)}else{if(void 0===h.namehash||void 0===h.keyhash||void 0===h.serial)throw"invalid constructor arguments";u=c,void 0===h.alg&&(u=void 0),this.setByValue(h.namehash,h.keyhash,h.serial,u)}}},a.lang.extend(j.asn1.ocsp.CertID,j.asn1.ASN1Object),j.asn1.ocsp.Request=function(t){var e=j.asn1,i=e.DERSequence,r=e.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var t=[];if(null===this.dReqCert)throw"reqCert not set";t.push(this.dReqCert);var e=new i({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t){var n=new r.CertID(t);this.dReqCert=n}},a.lang.extend(j.asn1.ocsp.Request,j.asn1.ASN1Object),j.asn1.ocsp.TBSRequest=function(t){var e=j.asn1,r=e.DERSequence,n=e.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(t){for(var e=[],i=0;i<t.length;i++){var r=new n.Request(t[0]);e.push(r)}this.dRequestList=e},this.getEncodedHex=function(){var t=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var e=new r({array:this.dRequestList});if(t.push(e),null!==this.dRequestExt)throw"requestExtensions not supported";var i=new r({array:t});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.reqList&&this.setRequestListByParam(t.reqList)},a.lang.extend(j.asn1.ocsp.TBSRequest,j.asn1.ASN1Object),j.asn1.ocsp.OCSPRequest=function(t){var e=j.asn1,i=e.DERSequence,r=e.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var t=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(t.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var e=new i({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.reqList){var n=new r.TBSRequest(t);this.dTbsRequest=n}},a.lang.extend(j.asn1.ocsp.OCSPRequest,j.asn1.ASN1Object),j.asn1.ocsp.OCSPUtil={},j.asn1.ocsp.OCSPUtil.getRequestHex=function(t,e,i){var r=j.asn1.ocsp;void 0===i&&(i=r.DEFAULT_HASH);var n={alg:i,issuerCert:t,subjectCert:e};return new r.OCSPRequest({reqList:[n]}).getEncodedHex()},j.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var e=q,i=e.getVbyList,r=e.getIdxbyList,n=(i=e.getVbyList,e.getV),s={};try{var a=i(t,0,[0],"0a");s.responseStatus=parseInt(a,16)}catch(t){}if(0!==s.responseStatus)return s;try{var o=r(t,0,[1,0,1,0,0,2,0,1]);"80"===t.substr(o,2)?s.certStatus="good":"a1"===t.substr(o,2)?(s.certStatus="revoked",s.revocationTime=x(i(t,o,[0]))):"82"===t.substr(o,2)&&(s.certStatus="unknown")}catch(t){}try{var h=r(t,0,[1,0,1,0,0,2,0,2]);s.thisUpdate=x(n(t,h))}catch(t){}try{var u=r(t,0,[1,0,1,0,0,2,0,3]);"a0"===t.substr(u,2)&&(s.nextUpdate=x(i(t,u,[0])))}catch(t){}return s},void 0!==j&&j||(j={}),void 0!==j.lang&&j.lang||(j.lang={}),j.lang.String=function(){},Q="function"==typeof hb?(Qc=function(t){return sc(new hb(t,"utf8").toString("base64"))},function(t){return new hb(fb(t),"base64").toString("utf8")}):(Qc=function(t){return y(jc(Eb(t)))},function(t){return decodeURIComponent(Mb(C(t)))}),j.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},j.lang.String.isHex=function(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))},j.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},j.lang.String.isBase64URL=function(t){return!t.match(/[+\/=]/)&&(t=fb(t),j.lang.String.isBase64(t))},j.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==j&&j||(j={}),void 0!==j.crypto&&j.crypto||(j.crypto={}),j.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:w.algo.MD5,sha1:w.algo.SHA1,sha224:w.algo.SHA224,sha256:w.algo.SHA256,sha384:w.algo.SHA384,sha512:w.algo.SHA512,ripemd160:w.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,i){var r=this.getDigestInfoHex(t,e),n=i/4;if(r.length+22>n)throw"key is too short for SigAlg: keylen="+i+","+e;for(var s="00"+r,a="",o=n-"0001".length-s.length,h=0;h<o;h+=2)a+="ff";return"0001"+a+s},this.hashString=function(t,e){return new j.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new j.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return new j.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(t)},this.sha256=function(t){return new j.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(t)},this.sha256Hex=function(t){return new j.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(t)},this.sha512=function(t){return new j.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(t)},this.sha512Hex=function(t){return new j.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(t)}},j.crypto.Util.md5=function(t){return new j.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},j.crypto.Util.ripemd160=function(t){return new j.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},j.crypto.Util.SECURERANDOMGEN=new ba,j.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return j.crypto.Util.SECURERANDOMGEN.nextBytes(e),eb(e)},j.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new k(j.crypto.Util.getRandomHexOfNbytes(t),16)},j.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,i=new Array((t-e)/8+1);return j.crypto.Util.SECURERANDOMGEN.nextBytes(i),i[0]=(255<<e&255^255)&i[0],eb(i)},j.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new k(j.crypto.Util.getRandomHexOfNbits(t),16)},j.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var i=j.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(i))return i}},j.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var i=t.compareTo(e);if(1==i)throw"biMin is greater than biMax";if(0==i)return t;var r=e.subtract(t);return j.crypto.Util.getRandomBigIntegerZeroToMax(r).add(t)},j.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(e,t){if(null!==(e=j.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=j.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=j.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=w.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(w.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=j.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},j.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},j.crypto.MessageDigest.getHashLength=function(t){var e=j.crypto.MessageDigest,i=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[i])throw"not supported algorithm: "+t;return e.HASHLENGTH[i]},j.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},j.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=j.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var i=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)&&"cryptojs"==e){try{var r=j.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i];this.mac=w.algo.HMAC.create(r,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+i+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=w.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(w.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=F(t)),void(this.pass=w.enc.Hex.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;if(e=null,void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=Pa(t.utf8)),void 0!==t.rstr&&(e=F(t.rstr)),void 0!==t.b64&&(e=ab(t.b64)),void 0!==t.b64u&&(e=C(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=w.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=j.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},j.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase())},this._zeroPaddingOfSignature=function(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new j.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t}this.init=function(t,e){var i=null;try{i=void 0===e?D.getKey(t):D.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===i.isPrivate)this.prvKey=i,this.state="SIGN";else{if(!0!==i.isPublic)throw"init failed.:"+i;this.pubKey=i,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var t=new j.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof z&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof z&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof j.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof j.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new j.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,t,this.ecpubhex);if(this.pubKey instanceof z&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof z&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==j.crypto.ECDSA&&this.pubKey instanceof j.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==j.crypto.DSA&&this.pubKey instanceof j.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},void 0!==(this.initParams=t)&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=j.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=D.getKey(t.prvkeypem),this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},j.crypto.Cipher=function(t){},j.crypto.Cipher.encrypt=function(t,e,i){if(e instanceof z&&e.isPublic){var r=j.crypto.Cipher.getAlgByKeyAndName(e,i);if("RSA"===r)return e.encrypt(t);if("RSAOAEP"===r)return e.encryptOAEP(t,"sha1");var n=r.match(/^RSAOAEP(\d+)$/);if(null!==n)return e.encryptOAEP(t,"sha"+n[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.encrypt: unsupported key or algorithm"},j.crypto.Cipher.decrypt=function(t,e,i){if(e instanceof z&&e.isPrivate){var r=j.crypto.Cipher.getAlgByKeyAndName(e,i);if("RSA"===r)return e.decrypt(t);if("RSAOAEP"===r)return e.decryptOAEP(t,"sha1");var n=r.match(/^RSAOAEP(\d+)$/);if(null!==n)return e.decryptOAEP(t,"sha"+n[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.decrypt: unsupported key or algorithm"},j.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof z){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null==e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},j.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==j&&j||(j={}),void 0!==j.crypto&&j.crypto||(j.crypto={}),j.crypto.ECDSA=function(t){var e=new ba;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new k(t.bitLength(),e).mod(t.subtract(k.ONE)).add(k.ONE)},this.setNamedCurve=function(t){this.ecparams=j.crypto.ECParameterDB.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw"malformed public key hex length";var i={};return i.x=t.substr(2,e),i.y=t.substr(2+e),i},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),i=this.ecparams.G.multiply(e),r=i.getX().toBigInteger(),n=i.getY().toBigInteger(),s=this.ecparams.keylen/4,a=("0000000000"+e.toString(16)).slice(-s),o="04"+("0000000000"+r.toString(16)).slice(-s)+("0000000000"+n.toString(16)).slice(-s);return this.setPrivateKeyHex(a),this.setPublicKeyHex(o),{ecprvhex:a,ecpubhex:o}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var i=new k(e,16),r=this.ecparams.n,n=new k(t,16);do{var s=this.getBigRandom(r),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(r)}while(a.compareTo(k.ZERO)<=0);var o=s.modInverse(r).multiply(n.add(i.multiply(a))).mod(r);return j.crypto.ECDSA.biRSSigToASN1Sig(a,o)},this.sign=function(t,e){var i=e,r=this.ecparams.n,n=k.fromByteArrayUnsigned(t);do{var s=this.getBigRandom(r),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(r)}while(a.compareTo(k.ZERO)<=0);var o=s.modInverse(r).multiply(n.add(i.multiply(a))).mod(r);return this.serializeSig(a,o)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,i){var r,n,s,a=j.crypto.ECDSA.parseSigHex(e);r=a.r,n=a.s,s=c.decodeFromHex(this.ecparams.curve,i);var o=new k(t,16);return this.verifyRaw(o,r,n,s)},this.verify=function(t,e,i){var r,n,s;if(Bitcoin.Util.isArray(e)){var a=this.parseSig(e);r=a.r,n=a.s}else{if("object"!=typeof e||!e.r||!e.s)throw"Invalid value for signature";r=e.r,n=e.s}if(i instanceof c)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=c.decodeFrom(this.ecparams.curve,i)}var o=k.fromByteArrayUnsigned(t);return this.verifyRaw(o,r,n,s)},this.verifyRaw=function(t,e,i,r){var n=this.ecparams.n,s=this.ecparams.G;if(e.compareTo(k.ONE)<0||0<=e.compareTo(n))return!1;if(i.compareTo(k.ONE)<0||0<=i.compareTo(n))return!1;var a=i.modInverse(n),o=t.multiply(a).mod(n),h=e.multiply(a).mod(n);return s.multiply(o).add(r.multiply(h)).getX().toBigInteger().mod(n).equals(e)},this.serializeSig=function(t,e){var i=t.toByteArraySigned(),r=e.toByteArraySigned(),n=[];return n.push(2),n.push(i.length),(n=n.concat(i)).push(2),n.push(r.length),(n=n.concat(r)).unshift(n.length),n.unshift(48),n},this.parseSig=function(t){var e;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[e=2])throw new Error("First element in signature must be a DERInteger");var i=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error("Second element in signature must be a DERInteger");var r=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:k.fromByteArrayUnsigned(i),s:k.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||7<e)throw"Invalid signature type";var i=this.ecparams.n;return{r:k.fromByteArrayUnsigned(t.slice(1,33)).mod(i),s:k.fromByteArrayUnsigned(t.slice(33,65)).mod(i),i:e}},this.readPKCS5PrvKeyHex=function(t){var e,i,r,n=q,s=j.crypto.ECDSA.getName,a=n.getVbyList;if(!1===n.isASN1HEX(t))throw"not ASN.1 hex string";try{e=a(t,0,[2,0],"06"),i=a(t,0,[1],"04");try{r=a(t,0,[3,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=s(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){var e,i,r,n=q,s=j.crypto.ECDSA.getName,a=n.getVbyList;if(!1===n.isASN1HEX(t))throw"not ASN.1 hex string";try{a(t,0,[1,0],"06"),e=a(t,0,[1,1],"06"),i=a(t,0,[2,0,1],"04");try{r=a(t,0,[2,0,2,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=s(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){var e,i,r=q,n=j.crypto.ECDSA.getName,s=r.getVbyList;if(!1===r.isASN1HEX(t))throw"not ASN.1 hex string";try{s(t,0,[0,0],"06"),e=s(t,0,[0,1],"06"),i=s(t,0,[1],"03").substr(2)}catch(t){throw"malformed PKCS#8 ECC public key"}if(this.curveName=n(e),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},this.readCertPubKeyHex=function(t,e){5!==e&&(e=6);var i,r,n=q,s=j.crypto.ECDSA.getName,a=n.getVbyList;if(!1===n.isASN1HEX(t))throw"not ASN.1 hex string";try{i=a(t,0,[0,e,0,1],"06"),r=a(t,0,[0,e,1],"03").substr(2)}catch(t){throw"malformed X.509 certificate ECC public key"}if(this.curveName=s(i),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},j.crypto.ECDSA.parseSigHex=function(t){var e=j.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new k(e.r,16),s:new k(e.s,16)}},j.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=q,i=e.getChildIdx,r=e.getV;if("30"!=t.substr(0,2))throw"signature is not a ASN.1 sequence";var n=i(t,0);if(2!=n.length)throw"number of signature ASN.1 sequence elements seem wrong";var s=n[0],a=n[1];if("02"!=t.substr(s,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=t.substr(a,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:r(t,s),s:r(t,a)}},j.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=j.crypto.ECDSA.parseSigHexInHexRS(t),i=e.r,r=e.s;if("00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),i.length%32==30&&(i="00"+i),r.length%32==30&&(r="00"+r),i.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return i+r},j.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var e=t.substr(0,t.length/2),i=t.substr(t.length/2);return j.crypto.ECDSA.hexRSSigToASN1Sig(e,i)},j.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var i=new k(t,16),r=new k(e,16);return j.crypto.ECDSA.biRSSigToASN1Sig(i,r)},j.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var i=j.asn1,r=new i.DERInteger({bigint:t}),n=new i.DERInteger({bigint:e});return new i.DERSequence({array:[r,n]}).getEncodedHex()},j.crypto.ECDSA.getName=function(t){return"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040022"===t?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":null},void 0!==j&&j||(j={}),void 0!==j.crypto&&j.crypto||(j.crypto={}),j.crypto.ECParameterDB=new function(){var S={},w={};function F(t){return new k(t,16)}this.getByName=function(t){var e=t;if(void 0!==w[e]&&(e=w[t]),void 0!==S[e])return S[e];throw"unregistered EC curve name: "+e},this.regist=function(t,e,i,r,n,s,a,o,h,u,c,l){S[t]={};var f=F(i),d=F(r),g=F(n),p=F(s),y=F(a),v=new P(f,d,g),b=v.decodePointHex("04"+o+h);S[t].name=t,S[t].keylen=e,S[t].curve=v,S[t].G=b,S[t].n=p,S[t].h=y,S[t].oid=c,S[t].info=l;for(var m=0;m<u.length;m++)w[u[m]]=t}},j.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),j.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),j.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),j.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),j.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),j.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),j.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),j.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),j.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),j.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==j&&j||(j={}),void 0!==j.crypto&&j.crypto||(j.crypto={}),j.crypto.DSA=function(){this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(t,e,i,r,n){this.isPrivate=!0,this.p=t,this.q=e,this.g=i,this.y=r,this.x=n},this.setPrivateHex=function(t,e,i,r,n){var s,a,o,h,u;s=new k(t,16),a=new k(e,16),o=new k(i,16),h="string"==typeof r&&1<r.length?new k(r,16):null,u=new k(n,16),this.setPrivate(s,a,o,h,u)},this.setPublic=function(t,e,i,r){this.isPublic=!0,this.p=t,this.q=e,this.g=i,this.y=r,this.x=null},this.setPublicHex=function(t,e,i,r){var n,s,a,o;n=new k(t,16),s=new k(e,16),a=new k(i,16),o=new k(r,16),this.setPublic(n,s,a,o)},this.signWithMessageHash=function(t){var e=this.p,i=this.q,r=this.g,n=(this.y,this.x),s=j.crypto.Util.getRandomBigIntegerMinToMax(k.ONE.add(k.ONE),i.subtract(k.ONE)),a=new k(t.substr(0,i.bitLength()/4),16),o=r.modPow(s,e).mod(i),h=s.modInverse(i).multiply(a.add(n.multiply(o))).mod(i);return j.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:o}},{int:{bigint:h}}]})},this.verifyWithMessageHash=function(t,e){var i=this.p,r=this.q,n=this.g,s=this.y,a=this.parseASN1Signature(e),o=a[0],h=a[1],u=new k(t.substr(0,r.bitLength()/4),16);if(0<k.ZERO.compareTo(o)||0<o.compareTo(r))throw"invalid DSA signature";if(0<=k.ZERO.compareTo(h)||0<h.compareTo(r))throw"invalid DSA signature";var c=h.modInverse(r),l=u.multiply(c).mod(r),f=o.multiply(c).mod(r);return 0==n.modPow(l,i).multiply(s.modPow(f,i)).mod(i).mod(r).compareTo(o)},this.parseASN1Signature=function(t){try{return[new k(q.getVbyList(t,0,[0],"02"),16),new k(q.getVbyList(t,0,[1],"02"),16)]}catch(t){throw"malformed ASN.1 DSA signature"}},this.readPKCS5PrvKeyHex=function(t){var e,i,r,n,s,a=q,o=a.getVbyList;if(!1===a.isASN1HEX(t))throw"not ASN.1 hex string";try{e=o(t,0,[1],"02"),i=o(t,0,[2],"02"),r=o(t,0,[3],"02"),n=o(t,0,[4],"02"),s=o(t,0,[5],"02")}catch(t){throw"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(e,i,r,n,s)},this.readPKCS8PrvKeyHex=function(t){var e,i,r,n,s=q,a=s.getVbyList;if(!1===s.isASN1HEX(t))throw"not ASN.1 hex string";try{e=a(t,0,[1,1,0],"02"),i=a(t,0,[1,1,1],"02"),r=a(t,0,[1,1,2],"02"),n=a(t,0,[2,0],"02")}catch(t){throw"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(e,i,r,null,n)},this.readPKCS8PubKeyHex=function(t){var e,i,r,n,s=q,a=s.getVbyList;if(!1===s.isASN1HEX(t))throw"not ASN.1 hex string";try{e=a(t,0,[0,1,0],"02"),i=a(t,0,[0,1,1],"02"),r=a(t,0,[0,1,2],"02"),n=a(t,0,[1,0],"02")}catch(t){throw"malformed PKCS#8 DSA public key"}this.setPublicHex(e,i,r,n)},this.readCertPubKeyHex=function(t,e){var i,r,n,s;5!==e&&(e=6);var a=q,o=a.getVbyList;if(!1===a.isASN1HEX(t))throw"not ASN.1 hex string";try{i=o(t,0,[0,e,0,1,0],"02"),r=o(t,0,[0,e,0,1,1],"02"),n=o(t,0,[0,e,0,1,2],"02"),s=o(t,0,[0,e,1,0],"02")}catch(t){throw"malformed X.509 certificate DSA public key"}this.setPublicHex(i,r,n,s)}};var D=(jra=function(t,e,i){return kra(w.AES,t,e,i)},kra=function(t,e,i,r){var n=w.enc.Hex.parse(e),s=w.enc.Hex.parse(i),a=w.enc.Hex.parse(r),o={};o.key=s,o.iv=a,o.ciphertext=n;var h=t.decrypt(o,s,{iv:a});return w.enc.Hex.stringify(h)},lra=function(t,e,i){return mra(w.AES,t,e,i)},mra=function(t,e,i,r){var n=w.enc.Hex.parse(e),s=w.enc.Hex.parse(i),a=w.enc.Hex.parse(r),o=t.encrypt(n,s,{iv:a}),h=w.enc.Hex.parse(o.toString());return w.enc.Base64.stringify(h)},nra={"AES-256-CBC":{proc:jra,eproc:lra,keylen:32,ivlen:16},"AES-192-CBC":{proc:jra,eproc:lra,keylen:24,ivlen:16},"AES-128-CBC":{proc:jra,eproc:lra,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,e,i){return kra(w.TripleDES,t,e,i)},eproc:function(t,e,i){return mra(w.TripleDES,t,e,i)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,e,i){return kra(w.DES,t,e,i)},eproc:function(t,e,i){return mra(w.DES,t,e,i)},keylen:8,ivlen:8}},ora=function(t){var e={},i=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));i&&(e.cipher=i[1],e.ivsalt=i[2]);var r=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(e.type=r[1]);var n=-1,s=0;-1!=t.indexOf("\r\n\r\n")&&(n=t.indexOf("\r\n\r\n"),s=2),-1!=t.indexOf("\n\n")&&(n=t.indexOf("\n\n"),s=1);var a=t.indexOf("-----END");if(-1!=n&&-1!=a){var o=t.substring(n+2*s,a-s);o=o.replace(/\s+/g,""),e.data=o}return e},pra=function(t,e,i){for(var r=i.substring(0,16),n=w.enc.Hex.parse(r),s=w.enc.Utf8.parse(e),a=nra[t].keylen+nra[t].ivlen,o="",h=null;;){var u=w.algo.MD5.create();if(null!=h&&u.update(h),u.update(s),u.update(n),h=u.finalize(),(o+=w.enc.Hex.stringify(h)).length>=2*a)break}var c={};return c.keyhex=o.substr(0,2*nra[t].keylen),c.ivhex=o.substr(2*nra[t].keylen,2*nra[t].ivlen),c},qra=function(t,e,i,r){var n=w.enc.Base64.parse(t),s=w.enc.Hex.stringify(n);return(0,nra[e].proc)(s,i,r)},{version:"1.0.0",parsePKCS5PEM:function(t){return ora(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,i){return pra(t,e,i)},decryptKeyB64:function(t,e,i,r){return qra(t,e,i,r)},getDecryptedKeyHex:function(t,e){var i=ora(t),r=(i.type,i.cipher),n=i.ivsalt,s=i.data,a=pra(r,e,n).keyhex;return qra(s,r,a,n)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,i,r,n){var s,a,o,h,u,c,l="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===nra[r])throw"KEYUTIL unsupported algorithm: "+r;return void 0!==n&&null!=n||(n=(s=nra[r].ivlen,a=w.lib.WordArray.random(s),w.enc.Hex.stringify(a)).toUpperCase()),l="-----BEGIN "+t+" PRIVATE KEY-----\r\n",l+="Proc-Type: 4,ENCRYPTED\r\n",l+="DEK-Info: "+r+","+n+"\r\n",l+="\r\n",(l+=(o=e,u=pra(h=r,i,n).keyhex,c=n,(0,nra[h].eproc)(o,u,c)).replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+t+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var e=q,i=e.getChildIdx,r=e.getV,n={},s=i(t,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;n.ciphertext=r(t,s[1]);var a=i(t,s[0]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+a.length;if("2a864886f70d01050d"!=r(t,a[0]))throw"this only supports pkcs5PBES2";var o=i(t,a[1]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length;var h=i(t,o[1]);if(2!=h.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+h.length;if("2a864886f70d0307"!=r(t,h[0]))throw"this only supports TripleDES";n.encryptionSchemeAlg="TripleDES",n.encryptionSchemeIV=r(t,h[1]);var u=i(t,o[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=r(t,u[0]))throw"this only supports pkcs5PBKDF2";var c=i(t,u[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;n.pbkdf2Salt=r(t,c[0]);var l=r(t,c[1]);try{n.pbkdf2Iter=parseInt(l,16)}catch(t){throw"malformed format pbkdf2Iter: "+l}return n},getPBKDF2KeyHexFromParam:function(t,e){var i=w.enc.Hex.parse(t.pbkdf2Salt),r=t.pbkdf2Iter,n=w.PBKDF2(e,i,{keySize:6,iterations:r});return w.enc.Hex.stringify(n)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var i=G(t,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(i),n=D.getPBKDF2KeyHexFromParam(r,e),s={};s.ciphertext=w.enc.Hex.parse(r.ciphertext);var a=w.enc.Hex.parse(n),o=w.enc.Hex.parse(r.encryptionSchemeIV),h=w.TripleDES.decrypt(s,a,{iv:o});return w.enc.Hex.stringify(h)},getKeyFromEncryptedPKCS8PEM:function(t,e){var i=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(i)},parsePlainPrivatePKCS8Hex:function(t){var e=q,i=e.getChildIdx,r=e.getV,n={algparam:null};if("30"!=t.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var s=i(t,0);if(3!=s.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=t.substr(s[1],2))throw"malformed PKCS8 private key(code:003)";var a=i(t,s[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=t.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(n.algoid=r(t,a[0]),"06"==t.substr(a[1],2)&&(n.algparam=r(t,a[1])),"04"!=t.substr(s[2],2))throw"malformed PKCS8 private key(code:006)";return n.keyidx=e.getVidx(t,s[2]),n},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=G(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,i=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==i.algoid)e=new z;else if("2a8648ce380401"==i.algoid)e=new j.crypto.DSA;else{if("2a8648ce3d0201"!=i.algoid)throw"unsupported private key algorithm";e=new j.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,i=q.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===i)e=new z;else if("2a8648ce380401"===i)e=new j.crypto.DSA;else{if("2a8648ce3d0201"!==i)throw"unsupported PKCS#8 public key hex";e=new j.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=q,i=e.getChildIdx,r=e.getV,n={};if("30"!=t.substr(0,2))throw"malformed RSA key(code:001)";var s=i(t,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=t.substr(s[0],2))throw"malformed RSA key(code:003)";if(n.n=r(t,s[0]),"02"!=t.substr(s[1],2))throw"malformed RSA key(code:004)";return n.e=r(t,s[1]),n},parsePublicPKCS8Hex:function(t){var e=q,i=e.getChildIdx,r=e.getV,n={algparam:null},s=i(t,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var a=s[0];if("30"!=t.substr(a,2))throw"malformed PKCS8 public key(code:001)";var o=i(t,a);if(2!=o.length)throw"malformed PKCS8 public key(code:002)";if("06"!=t.substr(o[0],2))throw"malformed PKCS8 public key(code:003)";if(n.algoid=r(t,o[0]),"06"==t.substr(o[1],2)?n.algparam=r(t,o[1]):"30"==t.substr(o[1],2)&&(n.algparam={},n.algparam.p=e.getVbyList(t,o[1],[0],"02"),n.algparam.q=e.getVbyList(t,o[1],[1],"02"),n.algparam.g=e.getVbyList(t,o[1],[2],"02")),"03"!=t.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return n.key=r(t,s[1]).substr(2),n}}),jra,kra,lra,mra,nra,ora,pra,qra;D.getKey=function(t,e,i){var r,n=(v=q).getChildIdx,s=(v.getV,v.getVbyList),a=j.crypto,o=a.ECDSA,h=a.DSA,u=z,c=G,l=D;if(void 0!==u&&t instanceof u)return t;if(void 0!==o&&t instanceof o)return t;if(void 0!==h&&t instanceof h)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new o({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new o({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(I=new u).setPublic(t.n,t.e),I;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(I=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),I;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(I=new u).setPrivate(t.n,t.e,t.d),I;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(I=new h).setPublic(t.p,t.q,t.g,t.y),I;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(I=new h).setPrivate(t.p,t.q,t.g,t.y,t.x),I;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(I=new u).setPublic(C(t.n),C(t.e)),I;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(I=new u).setPrivateEx(C(t.n),C(t.e),C(t.d),C(t.p),C(t.q),C(t.dp),C(t.dq),C(t.qi)),I;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(I=new u).setPrivate(C(t.n),C(t.e),C(t.d)),I;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var f=(T=new o({curve:t.crv})).ecparams.keylen/4,d="04"+("0000000000"+C(t.x)).slice(-f)+("0000000000"+C(t.y)).slice(-f);return T.setPublicKeyHex(d),T}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){f=(T=new o({curve:t.crv})).ecparams.keylen/4,d="04"+("0000000000"+C(t.x)).slice(-f)+("0000000000"+C(t.y)).slice(-f);var g=("0000000000"+C(t.d)).slice(-f);return T.setPublicKeyHex(d),T.setPrivateKeyHex(g),T}if("pkcs5prv"===i){var p,y=t,v=q;if(9===(p=n(y,0)).length)(I=new u).readPKCS5PrvKeyHex(y);else if(6===p.length)(I=new h).readPKCS5PrvKeyHex(y);else{if(!(2<p.length&&"04"===y.substr(p[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(I=new o).readPKCS5PrvKeyHex(y)}return I}if("pkcs8prv"===i)return l.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===i)return l._getKeyFromPublicPKCS8Hex(t);if("x509pub"===i)return B.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return B.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var b=G(t,"PUBLIC KEY");return l._getKeyFromPublicPKCS8Hex(b)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var m=c(t,"RSA PRIVATE KEY");return l.getKey(m,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var S=s(r=c(t,"DSA PRIVATE KEY"),0,[1],"02"),w=s(r,0,[2],"02"),F=s(r,0,[3],"02"),x=s(r,0,[4],"02"),E=s(r,0,[5],"02");return(I=new h).setPrivate(new k(S,16),new k(w,16),new k(F,16),new k(x,16),new k(E,16)),I}if(-1!=t.indexOf("-END PRIVATE KEY-"))return l.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var A=l.getDecryptedKeyHex(t,e),P=new z;return P.readPKCS5PrvKeyHex(A),P}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var T,I=s(r=l.getDecryptedKeyHex(t,e),0,[1],"04"),H=s(r,0,[2,0],"06"),R=s(r,0,[3,0],"03").substr(2);if(void 0===j.crypto.OID.oidhex2name[H])throw"undefined OID(hex) in KJUR.crypto.OID: "+H;return(T=new o({curve:j.crypto.OID.oidhex2name[H]})).setPublicKeyHex(R),T.setPrivateKeyHex(I),T.isPublic=!1,T}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED"))return S=s(r=l.getDecryptedKeyHex(t,e),0,[1],"02"),w=s(r,0,[2],"02"),F=s(r,0,[3],"02"),x=s(r,0,[4],"02"),E=s(r,0,[5],"02"),(I=new h).setPrivate(new k(S,16),new k(w,16),new k(F,16),new k(x,16),new k(E,16)),I;if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return l.getKeyFromEncryptedPKCS8PEM(t,e);throw"not supported argument"},D.generateKeypair=function(t,e){if("RSA"==t){var i=e;(a=new z).generate(i,"10001"),a.isPrivate=!0,a.isPublic=!0;var r=new z,n=a.n.toString(16),s=a.e.toString(16);return r.setPublic(n,s),r.isPrivate=!1,r.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=r,o}if("EC"!=t)throw"unknown algorithm: "+t;var a,o,h=e,u=new j.crypto.ECDSA({curve:h}).generateKeyPairHex();return(a=new j.crypto.ECDSA({curve:h})).setPublicKeyHex(u.ecpubhex),a.setPrivateKeyHex(u.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(r=new j.crypto.ECDSA({curve:h})).setPublicKeyHex(u.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=r,o},D.getPEM=function(t,e,i,r,n,s){var a=j,o=a.asn1,h=o.DERObjectIdentifier,u=o.DERInteger,c=o.ASN1Util.newObject,l=o.x509.SubjectPublicKeyInfo,f=a.crypto,d=f.DSA,g=f.ECDSA,p=z;function y(t){return c({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function v(t){return c({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function b(t){return c({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==p&&t instanceof p||void 0!==d&&t instanceof d||void 0!==g&&t instanceof g)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return A(x=new l(t).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===i||null==i)&&1==t.isPrivate)return A(x=y(t).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==g&&t instanceof g&&(void 0===i||null==i)&&1==t.isPrivate){var m=new h({name:t.curveName}).getEncodedHex(),S=v(t).getEncodedHex(),F="";return(F+=A(m,"EC PARAMETERS"))+A(S,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==d&&t instanceof d&&(void 0===i||null==i)&&1==t.isPrivate)return A(x=b(t).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==i&&null!=i&&1==t.isPrivate){var x=y(t).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",x,i,r,s)}if("PKCS5PRV"==e&&void 0!==g&&t instanceof g&&void 0!==i&&null!=i&&1==t.isPrivate)return x=v(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",x,i,r,s);if("PKCS5PRV"==e&&void 0!==d&&t instanceof d&&void 0!==i&&null!=i&&1==t.isPrivate)return x=b(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",x,i,r,s);var E=function(t,e){var i=C(t,e);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:i.pbkdf2Salt}},{int:i.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:i.encryptionSchemeIV}}]}]}]},{octstr:{hex:i.ciphertext}}]}).getEncodedHex()},C=function(t,e){var i=w.lib.WordArray.random(8),r=w.lib.WordArray.random(8),n=w.PBKDF2(e,i,{keySize:6,iterations:100}),s=w.enc.Hex.parse(t),a=w.TripleDES.encrypt(s,n,{iv:r})+"",o={};return o.ciphertext=a,o.pbkdf2Salt=w.enc.Hex.stringify(i),o.pbkdf2Iter=100,o.encryptionSchemeAlg="DES-EDE3-CBC",o.encryptionSchemeIV=w.enc.Hex.stringify(r),o};if("PKCS8PRV"==e&&null!=p&&t instanceof p&&1==t.isPrivate){var P=y(t).getEncodedHex();return x=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:P}}]}).getEncodedHex(),void 0===i||null==i?A(x,"PRIVATE KEY"):A(S=E(x,i),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==g&&t instanceof g&&1==t.isPrivate)return P=new c({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]}).getEncodedHex(),x=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:P}}]}).getEncodedHex(),void 0===i||null==i?A(x,"PRIVATE KEY"):A(S=E(x,i),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate)return P=new u({bigint:t.x}).getEncodedHex(),x=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:P}}]}).getEncodedHex(),void 0===i||null==i?A(x,"PRIVATE KEY"):A(S=E(x,i),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},D.getKeyFromCSRPEM=function(t){var e=G(t,"CERTIFICATE REQUEST");return D.getKeyFromCSRHex(e)},D.getKeyFromCSRHex=function(t){var e=D.parseCSRHex(t);return D.getKey(e.p8pubkeyhex,null,"pkcs8pub")},D.parseCSRHex=function(t){var e=q,i=e.getChildIdx,r=e.getTLV,n={},s=t;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var a=i(s,0);if(a.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(a[0],2))throw"malformed CSR(code:003)";var o=i(s,a[0]);if(o.length<3)throw"malformed CSR(code:004)";return n.p8pubkeyhex=r(s,o[2]),n},D.getJWKFromKey=function(t){var e={};if(t instanceof z&&t.isPrivate)return e.kty="RSA",e.n=y(t.n.toString(16)),e.e=y(t.e.toString(16)),e.d=y(t.d.toString(16)),e.p=y(t.p.toString(16)),e.q=y(t.q.toString(16)),e.dp=y(t.dmp1.toString(16)),e.dq=y(t.dmq1.toString(16)),e.qi=y(t.coeff.toString(16)),e;if(t instanceof z&&t.isPublic)return e.kty="RSA",e.n=y(t.n.toString(16)),e.e=y(t.e.toString(16)),e;if(t instanceof j.crypto.ECDSA&&t.isPrivate){if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var i=t.getPublicKeyXYHex();return e.kty="EC",e.crv=r,e.x=y(i.x),e.y=y(i.y),e.d=y(t.prvKeyHex),e}if(t instanceof j.crypto.ECDSA&&t.isPublic){var r;if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return i=t.getPublicKeyXYHex(),e.kty="EC",e.crv=r,e.x=y(i.x),e.y=y(i.y),e}throw"not supported key object"},z.getPosArrayOfChildrenFromHex=function(t){return q.getChildIdx(t,0)},z.getHexValueArrayOfChildrenFromHex=function(t){var e,i=q.getV,r=i(t,(e=z.getPosArrayOfChildrenFromHex(t))[0]),n=i(t,e[1]),s=i(t,e[2]),a=i(t,e[3]),o=i(t,e[4]),h=i(t,e[5]),u=i(t,e[6]),c=i(t,e[7]),l=i(t,e[8]);return(e=new Array).push(r,n,s,a,o,h,u,c,l),e},z.prototype.readPrivateKeyFromPEMString=function(t){var e=G(t),i=z.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},z.prototype.readPKCS5PrvKeyHex=function(t){var e=z.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},z.prototype.readPKCS8PrvKeyHex=function(t){var e,i,r,n,s,a,o,h,u=q,c=u.getVbyList;if(!1===u.isASN1HEX(t))throw"not ASN.1 hex string";try{e=c(t,0,[2,0,1],"02"),i=c(t,0,[2,0,2],"02"),r=c(t,0,[2,0,3],"02"),n=c(t,0,[2,0,4],"02"),s=c(t,0,[2,0,5],"02"),a=c(t,0,[2,0,6],"02"),o=c(t,0,[2,0,7],"02"),h=c(t,0,[2,0,8],"02")}catch(t){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(e,i,r,n,s,a,o,h)},z.prototype.readPKCS5PubKeyHex=function(t){var e=q,i=e.getV;if(!1===e.isASN1HEX(t))throw"keyHex is not ASN.1 hex string";var r=e.getChildIdx(t,0);if(2!==r.length||"02"!==t.substr(r[0],2)||"02"!==t.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var n=i(t,r[0]),s=i(t,r[1]);this.setPublic(n,s)},z.prototype.readPKCS8PubKeyHex=function(t){var e=q;if(!1===e.isASN1HEX(t))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==e.getTLVbyList(t,0,[0,0]))throw"not PKCS8 RSA public key";var i=e.getTLVbyList(t,0,[1,0]);this.readPKCS5PubKeyHex(i)},z.prototype.readCertPubKeyHex=function(t,e){var i,r;(i=new B).readCertHex(t),r=i.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var rb=new RegExp("");function kc(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t}function Hb(t,e,i){for(var r="",n=0;r.length<e;)r+=W(i(F(t+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return r}function Uc(t){for(var e in j.crypto.Util.DIGESTINFOHEAD){var i=j.crypto.Util.DIGESTINFOHEAD[e],r=i.length;if(t.substring(0,r)==i)return[e,t.substring(r)]}return[]}function B(){var a=q,c=a.getChildIdx,l=a.getV,f=a.getTLV,d=a.getVbyList,s=a.getTLVbyList,o=a.getIdxbyList,h=a.getVidx,g=a.oidname,t=B,e=G;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==s(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):this.version=3},this.getSerialNumberHex=function(){return d(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return g(d(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return s(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return t.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return s(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return t.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var t=d(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getNotAfter=function(){var t=d(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getPublicKeyHex=function(){return a.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return o(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return o(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return D.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return g(d(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return d(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmName(),i=this.getSignatureValueHex(),r=s(this.hex,0,[0],"30"),n=new j.crypto.Signature({alg:e});return n.init(t),n.updateHex(r),n.verify(i)},this.parseExt=function(){if(3!==this.version)return-1;var t=o(this.hex,0,[0,7,0],"30"),e=c(this.hex,t);this.aExtInfo=new Array;for(var i=0;i<e.length;i++){var r={critical:!1},n=0;3===c(this.hex,e[i]).length&&(r.critical=!0,n=1),r.oid=a.hextooidstr(d(this.hex,e[i],[0],"06"));var s=o(this.hex,e[i],[1+n]);r.vidx=h(this.hex,s),this.aExtInfo.push(r)}},this.getExtInfo=function(t){var e=this.aExtInfo,i=t;if(t.match(/^[0-9.]+$/)||(i=j.asn1.x509.OID.name2oid(t)),""!==i)for(var r=0;r<e.length;r++)if(e[r].oid===i)return e[r]},this.getExtBasicConstraints=function(){var t=this.getExtInfo("basicConstraints");if(void 0===t)return t;var e=l(this.hex,t.vidx);if(""===e)return{};if("0101ff"===e)return{cA:!0};if("0101ff02"!==e.substr(0,8))throw"basicConstraints parse error";var i=l(e,6);return{cA:!0,pathLen:parseInt(i,16)}},this.getExtKeyUsageBin=function(){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";var e=l(this.hex,t.vidx);if(e.length%2!=0||e.length<=2)throw"malformed key usage value";var i=parseInt(e.substr(0,2)),r=parseInt(e.substr(2),16).toString(2);return r.substr(0,r.length-i)},this.getExtKeyUsageString=function(){for(var t=this.getExtKeyUsageBin(),e=new Array,i=0;i<t.length;i++)"1"==t.substr(i,1)&&e.push(B.KEYUSAGE_NAME[i]);return e.join(",")},this.getExtSubjectKeyIdentifier=function(){var t=this.getExtInfo("subjectKeyIdentifier");return void 0===t?t:l(this.hex,t.vidx)},this.getExtAuthorityKeyIdentifier=function(){var t=this.getExtInfo("authorityKeyIdentifier");if(void 0===t)return t;for(var e={},i=f(this.hex,t.vidx),r=c(i,0),n=0;n<r.length;n++)"80"===i.substr(r[n],2)&&(e.kid=l(i,r[n]));return e},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var e=new Array,i=f(this.hex,t.vidx);if(""===i)return e;for(var r=c(i,0),n=0;n<r.length;n++)e.push(g(l(i,r[n])));return e},this.getExtSubjectAltName=function(){for(var t=this.getExtSubjectAltName2(),e=new Array,i=0;i<t.length;i++)"DNS"===t[i][0]&&e.push(t[i][1]);return e},this.getExtSubjectAltName2=function(){var t,e,i,r=this.getExtInfo("subjectAltName");if(void 0===r)return r;for(var n=new Array,s=f(this.hex,r.vidx),a=c(s,0),o=0;o<a.length;o++)i=s.substr(a[o],2),t=l(s,a[o]),"81"===i&&(e=x(t),n.push(["MAIL",e])),"82"===i&&(e=x(t),n.push(["DNS",e])),"84"===i&&(e=B.hex2dn(t,0),n.push(["DN",e])),"86"===i&&(e=x(t),n.push(["URI",e])),"87"===i&&(e=ok(t),n.push(["IP",e]));return n},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo("cRLDistributionPoints");if(void 0===t)return t;for(var e=new Array,i=c(this.hex,t.vidx),r=0;r<i.length;r++)try{var n=x(d(this.hex,i[r],[0,0,0],"86"));e.push(n)}catch(t){}return e},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var e={ocsp:[],caissuer:[]},i=c(this.hex,t.vidx),r=0;r<i.length;r++){var n=d(this.hex,i[r],[0],"06"),s=d(this.hex,i[r],[1],"86");"2b06010505073001"===n&&e.ocsp.push(x(s)),"2b06010505073002"===n&&e.caissuer.push(x(s))}return e},this.getExtCertificatePolicies=function(){var t=this.getExtInfo("certificatePolicies");if(void 0===t)return t;for(var e=f(this.hex,t.vidx),i=[],r=c(e,0),n=0;n<r.length;n++){var s={},a=c(e,r[n]);if(s.id=g(l(e,a[0])),2===a.length)for(var o=c(e,a[1]),h=0;h<o.length;h++){var u=d(e,o[h],[0],"06");"2b06010505070201"===u?s.cps=x(d(e,o[h],[1])):"2b06010505070202"===u&&(s.unotice=x(d(e,o[h],[1,0])))}i.push(s)}return i},this.readCertPEM=function(t){this.readCertHex(e(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{o(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var t,e,i;if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Kc(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Kc(e.e.toString(16))+"\n"),null!=(i=this.aExtInfo)){t+="X509v3 Extensions:\n";for(var r=0;r<i.length;r++){var n=i[r],s=j.asn1.x509.OID.oid2name(n.oid);""===s&&(s=n.oid);var a="";if(!0===n.critical&&(a="CRITICAL"),t+="  "+s+" "+a+":\n","basicConstraints"===s){var o=this.getExtBasicConstraints();void 0===o.cA?t+="    {}\n":(t+="    cA=true",void 0!==o.pathLen&&(t+=", pathLen="+o.pathLen),t+="\n")}else if("keyUsage"===s)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===s)t+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===s){var h=this.getExtAuthorityKeyIdentifier();void 0!==h.kid&&(t+="    kid="+h.kid+"\n")}else if("extKeyUsage"===s)t+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===s)t+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===s)t+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===s){var u=this.getExtAIAInfo();void 0!==u.ocsp&&(t+="    ocsp: "+u.ocsp.join(",")+"\n"),void 0!==u.caissuer&&(t+="    caissuer: "+u.caissuer.join(",")+"\n")}else if("certificatePolicies"===s)for(var c=this.getExtCertificatePolicies(),l=0;l<c.length;l++)void 0!==c[l].id&&(t+="    policy oid: "+c[l].id+"\n"),void 0!==c[l].cps&&(t+="    cps: "+c[l].cps+"\n")}}return(t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}rb.compile("[^0-9a-f]","gi"),z.prototype.sign=function(t,e){var i,r=(i=t,j.crypto.Util.hashString(i,e));return this.signWithMessageHash(r,e)},z.prototype.signWithMessageHash=function(t,e){var i=g(j.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return kc(this.doPrivate(i).toString(16),this.n.bitLength())},z.prototype.signPSS=function(t,e,i){var r,n=(r=F(t),j.crypto.Util.hashHex(r,e));return void 0===i&&(i=-1),this.signWithMessageHashPSS(n,e,i)},z.prototype.signWithMessageHashPSS=function(t,e,i){var r,n=W(t),s=n.length,a=this.n.bitLength()-1,o=Math.ceil(a/8),h=function(t){return j.crypto.Util.hashHex(t,e)};if(-1===i||void 0===i)i=s;else if(-2===i)i=o-s-2;else if(i<-2)throw"invalid salt length";if(o<s+i+2)throw"data too long";var u="";0<i&&(u=new Array(i),(new ba).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=W(h(F("\0\0\0\0\0\0\0\0"+n+u))),l=[];for(r=0;r<o-i-s-2;r+=1)l[r]=0;var f=String.fromCharCode.apply(String,l)+""+u,d=Hb(c,f.length,h),g=[];for(r=0;r<f.length;r+=1)g[r]=f.charCodeAt(r)^d.charCodeAt(r);var p=65280>>8*o-a&255;for(g[0]&=~p,r=0;r<s;r++)g.push(c.charCodeAt(r));return g.push(188),kc(this.doPrivate(new k(g)).toString(16),this.n.bitLength())},z.prototype.verify=function(t,e){var i=g(e=(e=e.replace(rb,"")).replace(/[ \n]+/g,""),16);if(i.bitLength()>this.n.bitLength())return 0;var r=Uc(this.doPublic(i).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;var n,s=r[0];return r[1]==(n=t,j.crypto.Util.hashString(n,s))},z.prototype.verifyWithMessageHash=function(t,e){var i=g(e=(e=e.replace(rb,"")).replace(/[ \n]+/g,""),16);if(i.bitLength()>this.n.bitLength())return 0;var r=Uc(this.doPublic(i).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==t)},z.prototype.verifyPSS=function(t,e,i,r){var n,s=(n=F(t),j.crypto.Util.hashHex(n,i));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(s,e,i,r)},z.prototype.verifyWithMessageHashPSS=function(t,e,i,r){var n=new k(e,16);if(n.bitLength()>this.n.bitLength())return!1;var s,a=function(t){return j.crypto.Util.hashHex(t,i)},o=W(t),h=o.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===r||void 0===r)r=h;else if(-2===r)r=c-h-2;else if(r<-2)throw"invalid salt length";if(c<h+r+2)throw"data too long";var l=this.doPublic(n).toByteArray();for(s=0;s<l.length;s+=1)l[s]&=255;for(;l.length<c;)l.unshift(0);if(188!==l[c-1])throw"encoded message does not end in 0xbc";var f=(l=String.fromCharCode.apply(String,l)).substr(0,c-h-1),d=l.substr(f.length,h),g=65280>>8*c-u&255;if(0!=(f.charCodeAt(0)&g))throw"bits beyond keysize not zero";var p=Hb(d,f.length,a),y=[];for(s=0;s<f.length;s+=1)y[s]=f.charCodeAt(s)^p.charCodeAt(s);y[0]&=~g;var v=c-h-r-2;for(s=0;s<v;s+=1)if(0!==y[s])throw"leftmost octets not zero";if(1!==y[v])throw"0x01 marker not found";return d===W(a(F("\0\0\0\0\0\0\0\0"+o+String.fromCharCode.apply(String,y.slice(-r)))))},z.SALT_LEN_HLEN=-1,z.SALT_LEN_MAX=-2,z.SALT_LEN_RECOVER=-2,B.hex2dn=function(t,e){if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed DN";for(var i=new Array,r=q.getChildIdx(t,e),n=0;n<r.length;n++)i.push(B.hex2rdn(t,r[n]));return"/"+(i=i.map(function(t){return t.replace("/","\\/")})).join("/")},B.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw"malformed RDN";for(var i=new Array,r=q.getChildIdx(t,e),n=0;n<r.length;n++)i.push(B.hex2attrTypeValue(t,r[n]));return(i=i.map(function(t){return t.replace("+","\\+")})).join("+")},B.hex2attrTypeValue=function(t,e){var i=q,r=i.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed attribute type and value";var n=i.getChildIdx(t,e);2!==n.length||t.substr(n[0],2);var s=r(t,n[0]),a=j.asn1.ASN1Util.oidHexToInt(s);return j.asn1.x509.OID.oid2atype(a)+"="+W(r(t,n[1]))},B.getPublicKeyFromCertHex=function(t){var e=new B;return e.readCertHex(t),e.getPublicKey()},B.getPublicKeyFromCertPEM=function(t){var e=new B;return e.readCertPEM(t),e.getPublicKey()},B.getPublicKeyInfoPropOfCertPEM=function(t){var e,i,r=q.getVbyList,n={algparam:null};return(e=new B).readCertPEM(t),i=e.getPublicKeyHex(),n.keyhex=r(i,0,[1],"03").substr(2),n.algoid=r(i,0,[0,0],"06"),"2a8648ce3d0201"===n.algoid&&(n.algparam=r(i,0,[0,1],"06")),n},B.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==j&&j||(j={}),void 0!==j.jws&&j.jws||(j.jws={}),j.jws.JWS=function(){var l=j.jws.JWS.isSafeJSONString;this.parseJWS=function(t,e){if(void 0===this.parsedJWS||!e&&void 0===this.parsedJWS.sigvalH){var i=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==i)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var r=i[1],n=i[2],s=i[3],a=r+"."+n;if(this.parsedJWS={},this.parsedJWS.headB64U=r,this.parsedJWS.payloadB64U=n,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!e){var o=C(s),h=g(o,16);this.parsedJWS.sigvalH=o,this.parsedJWS.sigvalBI=h}var u=Q(r),c=Q(n);if(this.parsedJWS.headS=u,this.parsedJWS.payloadS=c,!l(u,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+u}}},j.jws.JWS.sign=function(t,e,i,r,n){var s,a,o,h=j,u=h.jws.JWS,c=u.readSafeJSONString,l=u.isSafeJSONString,f=h.crypto,d=(f.ECDSA,f.Mac),g=f.Signature,p=JSON;if("string"!=typeof e&&"object"!=typeof e)throw"spHeader must be JSON string or object: "+e;if("object"==typeof e&&(a=e,s=p.stringify(a)),"string"==typeof e){if(!l(s=e))throw"JWS Head is not safe JSON string: "+s;a=c(s)}if("object"==typeof(o=i)&&(o=p.stringify(i)),""!=t&&null!=t||void 0===a.alg||(t=a.alg),""!=t&&null!=t&&void 0===a.alg&&(a.alg=t,s=p.stringify(a)),t!==a.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+a.alg;var v=null;if(void 0===u.jwsalg2sigalg[t])throw"unsupported alg name: "+t;v=u.jwsalg2sigalg[t];var b=Qc(s)+"."+Qc(o),m="";if("Hmac"==v.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var S=new d({alg:v,prov:"cryptojs",pass:r});S.updateString(b),m=S.doFinal()}else{var w;-1!=v.indexOf("withECDSA")?((w=new g({alg:v})).init(r,n),w.updateString(b),hASN1Sig=w.sign(),m=j.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)):"none"!=v&&((w=new g({alg:v})).init(r,n),w.updateString(b),m=w.sign())}return b+"."+y(m)},j.jws.JWS.verify=function(t,e,i){var r,n=j,s=n.jws.JWS,a=s.readSafeJSONString,o=n.crypto,h=o.ECDSA,u=o.Mac,c=o.Signature;void 0!==typeof z&&(r=z);var l=t.split(".");if(3!==l.length)return!1;var f,d=l[0]+"."+l[1],g=C(l[2]),p=a(Q(l[0])),y=null;if(void 0===p.alg)throw"algorithm not specified in header";if(f=(y=p.alg).substr(0,2),null!=i&&"[object Array]"===Object.prototype.toString.call(i)&&0<i.length&&-1==(":"+i.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=D.getKey(e)),!("RS"!=f&&"PS"!=f||e instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==f&&!(e instanceof h))throw"key shall be a ECDSA obj for ES* algs";var v=null;if(void 0===s.jwsalg2sigalg[p.alg])throw"unsupported alg name: "+y;if("none"==(v=s.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==v.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var b=new u({alg:v,pass:e});return b.updateString(d),g==b.doFinal()}if(-1==v.indexOf("withECDSA"))return(m=new c({alg:v})).init(e),m.updateString(d),m.verify(g);var m,S=null;try{S=h.concatSigToASN1Sig(g)}catch(t){return!1}return(m=new c({alg:v})).init(e),m.updateString(d),m.verify(S)},j.jws.JWS.parse=function(t){var e,i,r,n=t.split("."),s={};if(2!=n.length&&3!=n.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=n[0],i=n[1],3==n.length&&(r=n[2]),s.headerObj=j.jws.JWS.readSafeJSONString(Q(e)),s.payloadObj=j.jws.JWS.readSafeJSONString(Q(i)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),null==s.payloadObj?s.payloadPP=Q(i):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),void 0!==r&&(s.sigHex=C(r)),s},j.jws.JWS.verifyJWT=function(t,e,i){var r=j.jws,n=r.JWS,s=n.readSafeJSONString,a=n.inArray,o=n.includedArray,h=t.split("."),u=h[0],c=h[1],l=(C(h[2]),s(Q(u))),f=s(Q(c));if(void 0===l.alg)return!1;if(void 0===i.alg)throw"acceptField.alg shall be specified";if(!a(l.alg,i.alg))return!1;if(void 0!==f.iss&&"object"==typeof i.iss&&!a(f.iss,i.iss))return!1;if(void 0!==f.sub&&"object"==typeof i.sub&&!a(f.sub,i.sub))return!1;if(void 0!==f.aud&&"object"==typeof i.aud)if("string"==typeof f.aud){if(!a(f.aud,i.aud))return!1}else if("object"==typeof f.aud&&!o(f.aud,i.aud))return!1;var d=r.IntDate.getNow();return void 0!==i.verifyAt&&"number"==typeof i.verifyAt&&(d=i.verifyAt),void 0!==i.gracePeriod&&"number"==typeof i.gracePeriod||(i.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+i.gracePeriod<d||void 0!==f.nbf&&"number"==typeof f.nbf&&d<f.nbf-i.gracePeriod||void 0!==f.iat&&"number"==typeof f.iat&&d<f.iat-i.gracePeriod||void 0!==f.jti&&void 0!==i.jti&&f.jti!==i.jti||!n.verify(t,e,i.alg))},j.jws.JWS.includedArray=function(t,e){var i=j.jws.JWS.inArray;if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],e))return!1;return!0},j.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},j.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},j.jws.JWS.isSafeJSONString=function(t,e,i){var r=null;try{return"object"!=typeof(r=ad(t))?0:r.constructor===Array?0:(e&&(e[i]=r),1)}catch(t){return 0}},j.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=typeof(e=ad(t))?null:e.constructor===Array?null:e}catch(t){return null}},j.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},j.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var i=F(e);return y(j.crypto.Util.hashHex(i,"sha256"))},j.jws.IntDate={},j.jws.IntDate.get=function(t){var e=j.jws.IntDate,i=e.getNow,r=e.getZulu;if("now"==t)return i();if("now + 1hour"==t)return i()+3600;if("now + 1day"==t)return i()+86400;if("now + 1month"==t)return i()+2592e3;if("now + 1year"==t)return i()+31536e3;if(t.match(/Z$/))return r(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},j.jws.IntDate.getZulu=function(t){return jk(t)},j.jws.IntDate.getNow=function(){return~~(new Date/1e3)},j.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},j.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},void 0!==j&&j||(j={}),void 0!==j.jws&&j.jws||(j.jws={}),j.jws.JWSJS=function(){var o=j.jws.JWS,i=o.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var e=t.split(".");if(3!=e.length)throw"malformed input JWS";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(t,e,i,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var n=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=j.jws.JWS.sign(t,e,this.sPayload,i,r).split(".");s[0],s[2],this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(t){throw this.aHeader.length>n&&this.aHeader.pop(),this.aSignature.length>n&&this.aSignature.pop(),"addSignature failed: "+t}},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var e=0;e<t.length;e++){var i=t[e];if(2!==i.length)return!1;if(!1===this.verifyNth(e,i[0],i[1]))return!1}return!0},this.verifyNth=function(t,e,i){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var r=this.aHeader[t],n=this.aSignature[t],s=r+"."+this.sPayload+"."+n,a=!1;try{a=o.verify(s,e,i)}catch(t){return!1}return a},this.readJWSJS=function(t){if("string"==typeof t){var e=i(t);if(null==e)throw"argument is not safe JSON object string";this.aHeader=e.headers,this.sPayload=e.payload,this.aSignature=e.signatures}else try{if(!(0<t.headers.length))throw"malformed header";if(this.aHeader=t.headers,"string"!=typeof t.payload)throw"malformed signatures";if(this.sPayload=t.payload,!(0<t.signatures.length))throw"malformed signatures";this.aSignatures=t.signatures}catch(t){throw"malformed JWS-JS JSON object: "+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}};var Sk=j.crypto.ECDSA,Rk=j.crypto.DSA,Qk=j.crypto.Signature,Uk=j.crypto.MessageDigest,Ok=j.crypto.Mac,Nk=j.crypto.Cipher,Ek=Oc,Fk=j,Mk=j.crypto,Lk=j.asn1,Pk=j.jws,v=j.lang,xb=function(){var t=window.navigator.userAgent.toLowerCase();return t&&/iphone|ipad|ipod|ios/.test(t)},ra=function(e){var t=new XMLHttpRequest,i=e.data?Oa.stringify(e.data):null;t.open("POST",e.url,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.timeout=t.timeout||5e3,t.onload=function(){200<=t.status&&t.status<400&&e.success&&e.success(JSON.parse(t.responseText)),-1<[403,502].indexOf(t.status)&&e.retry&&e.retry()},t.onerror=function(t){e.error&&e.error(t)},t.ontimeout=t.onerror,t.send(i)},Hk=function(t){return t.split(".").concat(["0","0"]).splice(0,3).join(".")},Gk=function(){var e,i,t=sa($e),r=navigator.userAgent,n=navigator.userAgent.toLowerCase(),s=(new t.d).setUA(r);try{var a=s.getDevice(),o=a.vendor,h=a.model;if("Apple"===(e=o)&&(e=h),!e){var u={oppo:"oppo",PCAM00:"oppo",PBEM00:"oppo",PBET00:"oppo",R11:"oppo",vivo:"vivo",V1813BA:"vivo",V1838A:"vivo",V1901A:"vivo",V1922A:"iqoo",huawei:"huawei","HMA-L29":"huawei","EVR-AL00":"huawei","COL-AL10":"huawei","ATU-AL10":"huawei","TAS-AL00":"huawei",honor:"honor","BND-AL10":"honor","BKK-AL10":"honor",xiaomi:"xiaomi",MIX:"xiaomi"};for(var c in u)if(-1<n.indexOf(c.toLowerCase())){e=u[c];break}}e=e.toLowerCase()}catch(t){e=""}try{var l=s.getOS().version;i=/^[0-9][0-9.]*$/.test(l)?Hk(l):""}catch(t){i=""}return{mobileType:e,mobileVersion:i}},Dk=function(t){return p(t)?Ve(t,function(t){return Se(t)||""===t||"{}"===t}):t},na=function(i,t){if(void 0===t&&(t=!0),!p(i))return i;i=Dk(i);var e=Object.keys(i).sort().reduce(function(t,e){return t[e]=i[e],t},{}),r=Oa.stringify(e,{encode:!1}),n=new Fk.crypto.Signature({alg:"SHA1withRSA",prvkeypem:"-----BEGIN PRIVATE KEY-----\n  MIICeQIBADANBgkqhkiG9w0BAQEFAASCAmMwggJfAgEAAoGBALaiUegzB3VChAHOkBomXH//JWKdoUo3X9rujbdnC0NN0gmL50rMVF2tm7+7f7NTZMIaIOnqH6DlI9xKLI1xhBS4OPvmB0aX5UdrlhrDlkNtLGfzQ01ztyJfIabS4aGyyr3VDIbQc9DgNXQQJRw0OlFfdlKuYOhx088XXNS3J6U5AgMBAAECgYEAlCo7qNU9R7QexBiAb7aPdIfaHJclMsCZ01OVRSUjzgZkT7pgeh4qk5U0tee3QhR1ucLY0OxPnIhI/35thpKBQ65fccMAsekZvgbZiBtEiLAr3TGZmKZtWgatxxiqIUmXLoW/uIgPCwZYVgoDoOiHOTtrwI/zIwp0NtspUOOSdMECQQDmmljdigFZA+NkfxVs1pMmmkQ+WJkIzgzbvaTfRc11pgOsmOIrWnv7oQ1J8+2yy68uzsu17mjTILTNRfTiwoHjAkEAyr+IIoRB4sNPr8S/mHqkiwlUyurPOh2zCckrmTx77zdolrPm3GBYuAj6hfjkBw4sJ2LAOyUjG58ksVIPJYA3MwJBALC8UqdYAbhrVnfLPmxv9896JBt0Y7Vv1kMDkbzdDp7AYciCU7TOYH91621mWiLSIK1LKK2CzywgwPEiUJEKaekCQQC6nWSOcLG8KQ2VuUCo9mmxV9tmEo6+7Us3/KRWnSdt3dA0tk4OFdhTPGBrI9Wu8MqPTgOl7N7Ns8OwOtmaKNOlAkEA3wqudEhKnRghZqHEREtTi4zvigV4O5g8K53EurDfVjjgng02mk6FMoQyVlgX+b8VJYfBpNwUdrsHj5BFjPbvYw==\n  -----END PRIVATE KEY-----"});n.updateString(r);var s=Ek(n.sign()),a=za({sign:s},i);return t?a:Oa.stringify(a)},Bk=function(){var exports=this,module={exports:this},define,global=arguments[0],uDa,vDa;return uDa="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==S?S:this,vDa=function(global){global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(t){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},i=0,r=t.length;i<r;i++)e[t.charAt(i)]=i;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(1<t.length?t.charCodeAt(1):0)<<8|(2<t.length?t.charCodeAt(2):0);return[b64chars.charAt(i>>>18),b64chars.charAt(i>>>12&63),2<=e?"=":b64chars.charAt(i>>>6&63),1<=e?"=":b64chars.charAt(63&i)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return fromCharCode(55296+(e>>>10))+fromCharCode(56320+(1023&e));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,i=e%4,r=(0<e?b64tab[t.charAt(0)]<<18:0)|(1<e?b64tab[t.charAt(1)]<<12:0)|(2<e?b64tab[t.charAt(2)]<<6:0)|(3<e?b64tab[t.charAt(3)]:0),n=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return n.length-=[0,0,2,1][i],n.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(t){return encode(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}},"object"==typeof exports&&void 0!==module?module.exports=vDa(uDa):"function"==typeof define&&define.amd?define(vDa):vDa(uDa),module.exports}.call({}),Ak,yb,ta={},hEa,iEa;hEa=ta,iEa=function(){return function(i){var r={};function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}return n.m=i,n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=r(i(1)),o=r(i(3)),h=r(i(4));function r(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function r(t,e){!function(t,e){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return i.resolveOptions(e),i.listenClick(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o.default),s(r,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===n(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,h.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),r}();function c(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}t.exports=u},function(t,e,i){var r,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=(r=i(2))&&r.__esModule?r:{default:r},o=function(){function i(t){!function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.resolveOptions(t),this.initSelection()}return s(i,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":n(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),i}();t.exports=o},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),n=document.createRange();n.selectNodeContents(t),r.removeAllRanges(),r.addRange(n),e=r.toString()}return e}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var r=this;function n(){r.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),r=0,n=i.length;r<n;r++)i[r].fn.apply(i[r].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),r=i[t],n=[];if(r&&e)for(var s=0,a=r.length;s<a;s++)r[s].fn!==e&&r[s].fn._!==e&&n.push(r[s]);return n.length?i[t]=n:delete i[t],this}},t.exports=i},function(t,e,i){var f=i(5),d=i(6);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!f.string(e))throw new TypeError("Second argument must be a String");if(!f.fn(i))throw new TypeError("Third argument must be a Function");if(f.node(t))return n=e,s=i,(r=t).addEventListener(n,s),{destroy:function(){r.removeEventListener(n,s)}};var r,n,s,a,o,h,u,c,l;if(f.nodeList(t))return a=t,o=e,h=i,Array.prototype.forEach.call(a,function(t){t.addEventListener(o,h)}),{destroy:function(){Array.prototype.forEach.call(a,function(t){t.removeEventListener(o,h)})}};if(f.string(t))return u=t,c=e,l=i,d(document.body,u,c,l);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){var a=i(7);function s(t,e,i,r,n){var s=function(e,i,t,r){return function(t){t.delegateTarget=a(t.target,i),t.delegateTarget&&r.call(e,t)}}.apply(this,arguments);return t.addEventListener(i,s,n),{destroy:function(){t.removeEventListener(i,s,n)}}}t.exports=function(t,e,i,r,n){return"function"==typeof t.addEventListener?s.apply(null,arguments):"function"==typeof i?s.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return s(t,e,i,r,n)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])},"object"==typeof ta?ta=iEa():"function"==typeof yb&&yb.amd?yb([],iEa):"object"==typeof ta?(Ak=iEa(),ta.ClipboardJS=Ak):hEa.ClipboardJS=iEa();var nc=pa&&pa.__assign||function(){return(nc=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},bc=function(s){if(X(s,"appKey")&&pb(s.appKey)&&(void 0===s.onready||Z(s.onready))&&(void 0===s.isPostParams||Ac(s.isPostParams))&&(void 0===s.downloadable||Ac(s.downloadable))){void 0===s.isPostParams&&(s.isPostParams=!0),void 0===s.downloadable&&(s.downloadable=!0);var n={M1:!1,M2:!1,M3:!1},a="",o="",h=!1,u=[{apiUri:"https://www.d9jht985.com",wakeupUri:"https://"+s.appKey+".d9jht985.com",auth:"c6719b1dcd094388a977ba1a8cab10cc"},{apiUri:"https://www.houtu111.com",wakeupUri:"https://"+s.appKey+".houtu111.com",auth:"51b088b45df943008c80fab362e63912"},{apiUri:"https://www.houtu222.com",wakeupUri:"https://"+s.appKey+".houtu222.com",auth:"941be4283ae446388b25b7a07a4e54b2"},{apiUri:"https://www.houtu333.com",wakeupUri:"https://"+s.appKey+".houtu333.com",auth:"d1d639d3a51943f7bdf3b6b490e411dd"}],c=0,l="",f="",t=!!pb(s.tfAppKey),d=xb()?"ios":"android",e=Gk(),g=e.mobileType,p=e.mobileVersion,y=Oa.parse(window.location.search,{ignoreQueryPrefix:!0}),v={appkey:s.appKey,screen:window.screen.width*window.screen.height,platform:d},i=za({data:y,url:location.href,hasData:0<Object.keys(y).length?1:0},v),b=function(){return u[c<u.length?c:u.length-1]},r=za({data:JSON.stringify(y)},v),m=function t(e){if(void 0===e&&(e="M3"),e){var i=za({type:e,data:JSON.stringify(y),url:location.href},v);if(!n[i.type]){n[i.type]=!0;var r=b();ra({url:r.apiUri+"/sdk/server/report/node/insert",data:na(i),headers:{"X-JSL-API-AUTH":r.auth},success:function(){n[i.type]=!0},retry:function(){c<u.length&&(++c,t(e))}})}}},S=Object.freeze({VERSION:"2.2.2",wakeupOrInstall:function(t,e){var r,n;Z(t)?n=t:pb(t)||Re(t)?r=t:Z(e)&&(n=e),m("M3"),setTimeout(function(){if("ios"===d&&f)window.location.href=f;else if("ios"===d&&l)window.location.href=l;else{h=!0,Z(n)&&n(o=o||"https://download.ecgrdj.com/dis/public.mobileprovision");var t=b(),e=nc(nc({},y),{platform:d,mobileType:g,mobileVersion:p,appkey:s.appKey,onlyUnique:a});r&&(e.wParams=r);var i=t.wakeupUri+"/sdk/server/app/appDownLoad?"+na(e,!1);xb()?window.location.href=i:(setTimeout(function(){window.location.href=i},50),window.location.href=s.appKey+"://"+window.location.search)}},300)},toSuperSign:function(){}});return new(sa(ta).d)(s.bind||"body",{text:function(){return Bk.Base64.encode(JSON.stringify(i))}}),"ios"===d&&(t?(f="","android"!==d&&ra({url:"https://ht-api.i7aot4.com/api/tf/download",data:{appKey:s.tfAppKey},success:function(t){var e=X(t,"msg","");if(0===X(t,"status_code")&&e){var i=location.search?location.search.replace("?",""):"";f=e+(-1<e.indexOf("?")?"&":"?")+i}}})):function(){if(l="","android"!==d){var t=b();ra({url:t.apiUri+"/sdk/server/params/whight",data:na({appkey:s.appKey}),headers:{"X-JSL-API-AUTH":t.auth},success:function(t){var e=X(t,"data.category",""),i=X(t,"data.url","");if("B"===e&&i){var r=location.search?location.search.replace("?",""):"";l=i+(-1<i.indexOf("?")?"&":"?")+r}}})}}()),s.isPostParams&&(m("M1"),function t(e,i){var r=b();ra({url:r.apiUri+"/sdk/server/params/report",data:na(e),headers:{"X-JSL-API-AUTH":r.auth},success:function(){Z(i)&&i()},retry:function(){c<u.length&&(++c,t(e,i))}})}(r,function(){m("M2")})),s.downloadable&&(!t&&xb()&&function t(){if(!h){var e=b();ra({url:e.apiUri+"/sdk/server/app/descriptFile",data:na({platform:d,appkey:s.appKey}),headers:{"X-JSL-API-AUTH":e.auth},success:function(t){h||(a=X(t,"data.teamId",""),o=X(t,"data.descAddr",""))},retry:function(){c<u.length&&(++c,t())}})}}(),s.onready&&s.onready(S)),S}};window.TySCM=Kk(bc),pa.default=bc,"object"==typeof exports&&"undefined"!=typeof module?module.exports=pa:"function"==typeof define&&define.amd&&define(function(){return pa})}();